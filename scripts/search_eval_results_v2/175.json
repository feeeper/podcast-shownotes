[
  {
    "segment_id": "a39aa061-c6d4-49bc-8053-4775e93a2a97",
    "episode_id": "02f2f46c-74c4-4745-b207-3391f11773a2",
    "episode_number": 175,
    "segment_number": 14,
    "text": "Но независимо от этого, я предлагаю высказаться, что вы думаете о таком вот велосипедостроении ужасном. Я, к сожалению, пока ничего не думаю, потому что я первый раз вижу эту статью, пока читаю. Я тоже статью не читал, но я, в принципе, могу высказаться о велосипедах. У меня по этому поводу есть как-то построение, которое я использую обычно, когда мне нужно выбирать, брать готовое или писать самому. Фишка такая, что есть, как сказать, есть системообразующие вещи инфраструктурные, есть какие-то утилитные вещи, и есть качество софта и его сложность. И, соответственно, выкручивая разные ручки, мы получаем разные. То есть бывают откровенно плохие системообразующие решения, которые ни в коем случае нельзя использовать. Ну, я не знаю, в качестве примера какой-нибудь Java EE, которые тяжело сопортить. И это не только с технической точки зрения, но и с кадровой точки зрения. Сложно найти каких-то таких молодых программистов, которые готовы работать по 12 часов в день на Java EE на низкую зарплату. Вот. То есть иногда, возможно, стоит взять и какой-то скелет написать самим, ради того, чтобы это просто хорошо ложилось в тот проект. Особенно если там не нужно харить миллионами. Если это какая-то утилитка небольшая, которая решает какую-то конкретную задачу, если все утилиты вокруг плохие, и делают это медленно или как-то неудобно, или требуют каких-то дополнительных телодвижений, то тоже можно написать самим. Мне кажется, такая вещь, как база данных, это довольно сложно. Во-первых, очень мало, когда есть экспертиза реально в этом. Редко, когда люди держат в голове весь объем всех трейд-оффов, которые бывают при написании баз данных. Мало кто занимается разработкой и имел опыт в разработке баз данных дальше, чем в ВУЗе. Когда его преподаватель на практике попросил бы дерево реализовать. И это явно недостаточно для того, чтобы писать свои базы данных. Ошибку можно допустить в реализации какой-нибудь конвертилки байта в строку. Тем более можно допустить миллион ошибок в создании своей собственной базы данных. Я бы не стал. Я, с одной стороны, полностью поддерживаю то, что если можно не писать велосипед, то лучше не писать. С другой, здесь у ребят явно очень особенный кейс, и у них явно хватает экспертизы для написания своей базы данных. Если есть экспертиза, время и особая задача, то почему бы и нет? На самом деле, хочу сказать, что если вы пишете нетранзакционную базу данных и нераспределенную, то это достаточно просто. Ну, там нужно просто знать про fsync, readaheadlock, и то необязательно, если вам еще и durability не нужны. Какая-нибудь защита от сбоев полностью валом решается? Разве там какой-нибудь data corruption при аварийном выключении электричества? Ну, написать процедуру восстановления в этом случае нужно просто аккуратно ее протестировать. Но это не такая ракетная наука. Написать транзакционную систему действительно довольно сложно. Я имею в виду, ну ладно, мы вот сейчас один corner case взяли, но их наверняка не один, а хотя бы десяток-то есть. Я не знаю, честно, я не писал баз данных, но я просто предполагаю, что есть десяток. И фишка в том, что если нет начальной экспертизы, первая версия будет реализована без этих corner cases. И там, я не знаю, ну, аварийное выключение электричества, когда там просто нода взяла и исчезла, а потом восстановилась и не смогла заработать, потому что у нее там все покарабкалось. И, соответственно, вот в этот момент нужно будет изобретать workaround какой-то, писать вот эту процедуру восстановления, не имея экспертизы, и все работает уже впроде, надо как-то начинать, как-то фиксить, клиенты ждут. То есть, вот что делать в таких случаях? Ну, смотри, экспертизу лучше иметь, конечно. Вот, хотя бы на каком-то базовом понимании. Вот самую первую базу, которую я написал еще на Ирландии, там вообще очень просто решалась проблема с отключением. Она была рассчитана на достаточно большие документы, ну, то есть, как бы у тебя по ключу хранился документ, там, в несколько мегабайт. И решалась проблема так, что если ты его перезаписываешь, то, во-первых, всегда в любом документе была чек-сумма, во-вторых, когда ты его перезаписываешь, ты пишешь не in place, а ты рядом создаешь файлик, пишешь в него, вот, точно так же с чек-суммой, и когда ты его записал, у тебя точно все прошло, ты удаляешь старый. Вот, то есть, опять же, там никакого журнала, ничего такого, там довольно такой, как сказать, простятский подход, который, тем не менее, вот на этом случае решает задачу. И у тебя даже нет никакой процедуры рекавери, то есть у тебя база, она когда после сбоя запускается, она просто запускается. А вот когда она читает по конкретному ключу, она смотрит, что если файла два, то если у тебя, ну, ты удаляешь, как бы, версию вторую, вот, ну, это один вариант. Второй вариант, то что ты можешь все-таки во второй версии проверить чек-сумму, и если она правильная, то удалить первую версию, но это, как бы, чуть более дорогой вариант. Ну, видишь, ты об этом, как бы, подумал, а, как бы, вполне реально, что мог бы и не подумать, да, то есть… Но я повторюсь, экспертизу лучше иметь. Вот, где ее взять, я рекомендую книжку Database System Implementation, автор Гарсия Малина и компания, Гектор Гарсия Малина, по-моему, его зовут Гектор. Вот, да, ну, здесь, по всей видимости, у них экспертиза имеется. Но другой вопрос, что у них здесь есть полнотекстовый поиск, вот написать движок для полнотекстового поиска, это, ну, правда, они, по-моему, один из них… По триграммам не сложно. Тоже можно сказать, что, типа, ой, да, типа, полнотекстовый поиск взял, там, TF-IDF заимплементил, 20 строчек кода, все работает, ну, как бы, тоже можно так сказать. Ну, вообще-то нельзя, потому что ты не учел нормализацию русских слов, например, и это очень большой геморрой. Вот, о том разговор. Ну, то есть, во всех задачах таких вот есть много-много корнер-кейсов. И когда смотришь на задачу вот так вот сверху, наивно, получается, что можно все написать быстро. Когда начинаешь погружаться, там есть вот и здесь нужно, и вот здесь нужно учесть, и вот здесь нужно учесть, нужно миллион-миллион всего учесть. И может так получиться, что вначале кажется, что вот, ну, казалось бы, да, там вот есть миллион систем, они все не отвечают нашим требованиям, в них есть там какие-то навороты. Вот, начинаешь делать свой велосипед, и, короче, выясняется, что, оказывается, вот это вот все, оно было нужно. Вот, потому что есть такие вещи, которые ты не учел, когда думал о своей задаче. Оказывается, она, ну, глубже, чем ты себе представлял, например. Ну, повторюсь, вот в нетранзакционных системах там не миллион корнер-кейсов. Там основной корнер-кейс — это что делать, если отрубилось питание. Вот, в полнотекстовом поиске там самая большая проблема — это нормализация. Ну, то есть, в принципе, несложно написать базу данных, особенно без транзакции, особенно нераспределенную. В целом, я считаю, что написание своих баз данных под очень специальные сценарии — это нормальная практика. И, более того, большинство современных баз данных, они именно так и появлялись. А вот обратный случай, когда ты, даже имея экспертизу, какой-нибудь PhD в базоданных строениях, начинаешь писать абстрактную базу данных в вакууме, которая подойдет всем, не имея конкретного случая, очень особенного, то вот это как раз что-то такое противоестественное и не самая удачная мысль. Тут еще есть вопрос времени. То есть, могу привести пример. Вот последний мой проект, на котором я сейчас работаю, MyTime. Очень хочется как можно быстрее начать работать. Многие блокчейны уходят в глубокий ресерч и начинают что-то изобретать, какие-то фантастические космические корабли. И, кстати, часто подход выглядит таким, что возьмем бочку, нальем туда топливо, керосина, подожжем, и эта бочка в космос полетит, потому что реактивная тяга. Но все же верно, какие там могут быть корнер-кейсы. Ну, то есть, это самое. И начинают уходить в глубокий ресерч, и делают это многие-многие месяцы, это растягивается на годы и все в таком духе. Очень хочется максимально быстро что-то запустить, взять, чтобы это заработало, чтобы это начать продвигать в какие-то компании, чтобы они это себе начали устанавливать, начали этим пользоваться, чтобы пользователи начали приходить в LightKoshelek, регистрироваться и работать с этими сервисами через инфраструктуру. И поэтому, естественно, никаких велосипедов в такие моменты изобретать, на мой взгляд, нельзя. А если есть время, есть экспертиза, то почему бы нет, действительно? Есть замечание насчет времени и велосипедов. То есть, понимаешь, Леша, бывают велосипеды, а бывают велосипеды. Например, если ты… тебе не для всякой базы данных нужно обязательно писать дисковый бэкэнд, и то, что в мире Postgres называется connection pooler. То есть, если ты возьмешь язык Go, у тебя там уже встроенный connection pooler, в смысле ты сразу держишь 10 тысяч соединений хорошо. Потом ты берешь какой-нибудь байзинг level db, и у тебя уже хороший бэкэнд-стораж, хороший дисковый стораж с восстановлением и вот этим всем. И сделать базу, которая по… По тебе запросу, да? Хранит k-value, да? Не-не-не, по gRPC. По gRPC хранит k-value, при том с range-сканами. При том, возможно, с какой-то схемой, то есть там, ну, SQL не SQL, я не знаю, но с какой-то схемой. Это проект там чуть ли не на вечер. Вот, а вот к этому прикрутить транзакции – это уже большая проблема, да. Знаешь, что забавно? Что ты, как бы будучи автором колхозной доктрины, и, значит, вот этим всеми фишками про то, что там меньше 7 лет не юзаем, защищаешь сейчас велосипедостроение, а я, как бы, большой любитель велосипедов, который там веб переизобретает каждый год, а, значит, JSON-сервизаторы свои пишут и прочую дрянь, короче, на скале. Наоборот, как бы противник велосипедов. Ну, тут смотря что считать велосипедом, то есть, можно сказать, что это новая база данных и велосипед, потому что есть другие базы данных, а другой вариант смотреть на это, что это приложение, которое там что-то как-то хранит. Ну, то есть новое приложение написать вроде как и не велосипед. Вот, потом я же, наоборот, призываю использовать в этом приложении, ну, или базе данных, или велосипеде готовые, проверенные временем библиотеки и технологии. Такие дела. То есть, если велосипеды конструируются из проверенных сертифицированных деталей по стандарту, то это хорошие велосипеды? Да, конечно. Окей, мне кажется, мы пришли к согласию. Раз согласие по этому поводу достигнуто, вот противоречивая тема про печать металлом. Я узнал благодаря каналу 3D Printing Nerd о проекте под названием Aero3D, который делает принтер для дома, то есть для обычных пользователей, печатающий металлом. И стоит это хозяйство дорого, ну, 5000 американских долларов. Но это как бы дорого, но подъемная цена для тех, кому очень надо. И это первый проект такого рода. Очень интересное видео на YouTube, я рекомендую посмотреть, как он печатает. Это выглядит примерно так, есть на словах, что есть формочка, ну, такой стакан с квадратным дном, представили, да? Такой с толстыми-толстыми краями, в который, собственно, будущая заготовка насыпается. Сама деталь насыпается порошком из металла, а в качестве поддержки опоры используется песок. И у тебя вот печатается первый слой, у тебя там, где должен быть металл, сыпется металл, там, где он не нужен, сыпется песок, и у тебя весь слой заполняется полностью. Либо песком, либо металлом. И вот так слой за слоем печатается вся моделька, при том и песок, и вот эта металлическая пыль, они двухгранулярности, то есть у тебя внутренние части детали заполняются крупным песком или крупной вот этой металлической пылью. А на границе, там, где нужна большая точность, сыпется мелкая. Вот. И, кстати, этот принтер, он еще так забавно работает, он забирает вот эти коробочки с песочком или коробочки с металлической пылью, высыпает их аккуратненько, потом ставит на место. Вот это сильно отличается от того, как печать пластиком работает. Таким образом заполняется этот стаканчик и уже относится в печь, где при определенной температуре, определенное количество времени все это запекается, и у тебя получается вот прям металлическая деталька. Такая вот технология. Рекомендую ознакомиться. Мне интересно и ваше мнение по поводу потрясающих применений этого. Разумеется, первое – это напечатать пистолет, правда ведь? Ну, он не будет стрелять, конечно же. Потому что? Ну, потому что, когда вот эти детали для пистолета делают, их там специальным образом, они, во-первых, из специального металла, во-вторых, их там специальным образом закаливают, потому что, когда пистолет стреляет, там высокая очень нагрузка, этот ствол его расширяет, например, то есть, пуля, когда с него летит, она его там так вот раздувает. Если посмотреть за медленной съемки, как пуля вылетает из ствола, там ствол раздувает аж. То есть, ну, как бы металл этот, который используется в оружии, он выдерживает очень большие нагрузки. Или баек, который там бьет, ну, в общем, там затвор. Да, то есть, это просто так не распечатаешь. Но у нас же есть работающие пистолеты, напечатанные пластиком, то есть, они, да, недолговечны, они там типа на несколько выстрелов рассчитаны, и есть вероятность, что они у тебя взорвётся в руках, поэтому, собственно, они и запрещены. Ну, и ещё из-за того, что ими кого-то можно убить, но в основном потому, что можно без руки остаться. А металл, мне кажется, в этом плане более надёжный материал. Ну, только вот если тебе, значит, пластиковый осколок лёгенький, короче, в плечо вопьётся, будет ничего страшного. А если, короче, прилетит вот эта вот чушка, мне кажется, будет гораздо хуже. Вот, ну, в любом случае, это ж, как это называется, самострел, да? Или как тут штука, самодельное оружие. Самопал. Самопал. Мне кажется, ещё это богатая идея для корпусов, потому что металлические корпуса, чем хороше, они защищают от помех как то, что у тебя внутри корпуса, так и снаружи. То есть для какого-нибудь блока питания тебе, скорее всего, нужен металлический корпус. Вот, сейчас такой можно только заказать готовый, а теперь можно будет, наконец-то, печатать. А можно, вот на фотке показан такой большой такой девайс, ну, то есть что-то толстое, да? Можно что-нибудь там такое распечатать? Ну, миллиметровое, да, например? Миллиметровую стенку этого корпуса. Ну, миллиметра это довольно много. То есть, ну, вообще миллиметр это толсто. Вот, например, там 0,1 миллиметра, вот на этот счёт я уже не уверен. То есть с миллиметром эта штука справится? Это прямо нигде не говорится, но просто там по опыту травления платы и подобных вещей, то есть миллиметра это прям супер бесконечно много. То есть нам обычно кажется, что миллиметр это очень мало, просто так кажется, когда ты с мелкими деталями не работаешь. На самом деле это прям очень большое расстояние. Я вспоминаю эти самые корпуса всякие ПК-шные, там вот в хороших корпусах, по-моему, 0,8 что ли стали или 0,6. Ну, опять же, повторюсь, в видео это прямо нигде не говорится, но по моим представлениям миллиметр напечатать не должно быть проблемой. Ну, то есть меньше миллиметра может быть. Ну, тогда круто. А что ещё круто? Это конференции и метапы. Конференция GoferCon пройдёт в Москве. Правда, Алексей П? Да, я долго думал, как сделать ревод от производства металла конференции, но наверное, так же металлично. Да, мы делали метапы в Москве 4 года и подумали, а не сделать ли нам большую конференцию. Мы связались с авторами GoferCon, они нам любезно одолжили название, поэтому мы 17 марта в Москве проводим GoferCon Russia.",
    "result": {
      "query": "домашний 3D принтер для металла"
    }
  }
]