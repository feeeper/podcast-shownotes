[
  {
    "segment_id": "3c09254c-0613-4813-993f-a92fa0e2fa96",
    "episode_id": "765df21a-352f-48bf-94f3-64227190bbdb",
    "episode_number": 161,
    "segment_number": 3,
    "text": "Марафон умеет пускать не только докерские контейнеры, как и любые контейнеры Более общего назначения системы отчим кубернетис Несомненно, но мы пока остаемся на докере, съезжать с него не планируем, потому что уже набили шишки, все шишки знаем, как чинить, как лечить, и если зафиксировать версию докера, то жить вполне можно С марафоном же есть проблемы с тем, что его вылик, как минимум, да и самые сообщения о марафоне, которые можно из лобов вытащить, они не очень говорящие, не всегда понятно, что происходит Почему он не может заскейлить контейнер, либо прибить его Плюс марафон очень сильно завязан на зукипер, любой скачок латенности, у вас разваливается кластер, и нет гарантии, что какая-нибудь из слейфнот, которая вылетела, и мгновенно перерегистрировалась, то что все контейнеры, которые на ней были запущены, они не будут прибиты и переподняты, что не очень комфортно Хм, ну так понимаю, это же это марафон или мезос, что-то сейчас, вот проблема, так понимаю, уже проблема мезоса, а не марафона Это уже да, это уже конкретно ближе к мезосу Ты опять пропадаешь Это мезос, это уже проблема мезоса, но я в целом мезос-марафон рассматриваю, как какое-то единое целое Ну вот просто я почему спрашиваю, потому что у вас же еще и Спарк, ты сам говоришь, и Спарк как раз без всякого марафона может работать на мезосе, а вот на кубернитес ничего такого работать не может Спарк отдельно, он не является частью проды, соответственно, там его можно менеджить и вне контейнеров, просто выделить под него несколько железок и работать с ними, как только это все будет перемещаться уже ближе к онлайну, ближе к продакшену и станет его частью, там соответственно тоже будут, будем решать вопрос и контейнеризации, и продумывание того, как обеспечить SLA самого Спарка Просто у нас такая проблема, например, есть, что даже несмотря на то, что очень многие джобы, они совершенно не в прод, они никуда, очень хочется иметь какое-то такое окружение, на котором можно эксперименты гонять и просто гонять это на тех же инстанциях, в нашем случае Фринка, который обслуживает прод, не хочется И вообще, даже если гонять на специально выделенных инстанциях, то гонять контейнеры разных людей, не контейнеры, джобы разных людей вместе без всякой изоляции, ну как-то можно нечаянно заседу выстрелить в ногу, не хотя того И отсюда вопрос, не возникает ли у вас желания проработать со Спарком, все-таки Спарк гонять не голышом на железе или на чем, а какой-то менеджер среды, типа того же Мизос? Естественно, возникает, просто пока руки не дошли В вопросе какого-то тестирования, если кто-то хочет какие-то тестовые контейнеры погонять или свою версию системы, у нас отдельный сервис виртуализации, мы на нем поднимаем, просто делаем необходимое количество виртуалок, эмулируем сеть и дипломим туда все контейнеры, Спарку он абсолютно пока сбоку, но да, задача контейнеризации Спарка и как его менеджить, она стоит Ну просто, например, со Спарком проблема в том, что его нельзя спихать в QEM, например, или куда бы то ни было, просто потому что обычная вещь, которую хочется погонять, тестовая вещь, которую хочется погонять на Спарке, это может быть какой-то Data Exploration, который может даже хотеть в Production данные посмотреть и он наоборот, хочется, чтобы на это Data Exploration было отведено как можно больше ресурсов из данных момента доступных В то же время, если кто-то другой тоже какие-то эксперименты хочет погонять на тестовом кластере, хочется, чтобы они друг другу не мешали И вот отсюда вопрос про Спарк на Мезосе или чем-то еще То есть ты хочешь гонять какие-то тестовые вещи, которые будут доступны на чтение из продакшена, но которым не будет доступно влияние на других соседей Да, на других соседей, ну и понятное дело, что там это не совсем Production на Production, но чтобы по камере они могли обменяться данными Слушай, ну ты многого хочешь, нет? Да, конечно Понятно Но тут еще разница в том, что в контексте наших задач, которые мы решаем на Спарке, необходимы все данные, грубо говоря, вся история, которая проходила через систему А для унесения вердиктов в проде, не необходимо такое большое количество данных Соответственно, у нас Спарк сидит на расширенном количестве данных сбоку В целом, да, вопрос понятен, задача стоит, и задача интересная Как ей подходить еще, если честно, пока не знаю Вопросы гостям? Лично у меня они как-то немного резко подысекли Ну хорошо, если внезапно вопросов больше нет, что правда Может, ты сам хочешь что-нибудь рассказать, что-то, о чем мы забыли спросить? Расскажи какой-нибудь случай, пример из разбора вот этих... Фродов Не знаю, фродов Я боялся сказать фродов, потому что вдруг будет нефродовый пример Ну, соответственно, допустим, логинился человек Мы выдаем зеленый вердикт, все хорошо, данные уходят в банк Затем из банка звонят, допустим, через два дня в опротуаналитике Говорят, что конкретно данный случай неправильный Вердикт по нему был вынесен неверный И предоставляют данные по окружению труп-пользователя по самому контексту сессии Дальше начинается подъем истории, которая прошла через систему Все начинает с айпишника, с которого логинился человек Кончая его поведение мышки и начинает сверяться на каком конкретно этапе система дала сбой Потому что вердикт, он скрытся из вердиктов огромного количества",
    "result": {
      "query": "Spark on Mesos containerization"
    }
  }
]