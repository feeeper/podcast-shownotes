[
  {
    "segment_id": "3ac06346-2808-4165-a266-eeab5321024f",
    "episode_id": "987c1c25-d949-4667-a091-71960e43ae31",
    "episode_number": 192,
    "segment_number": 2,
    "text": "По мелочи я бы так это назвал, все это для подкасти, по большей части для программистов, я бы не стал называть это программированием, ну да, что-то делаем. Как появляются задачи, то есть, ну, понятно, что лаборатория Касперска, либо к ней приходят клиенты, либо сама компания как-то находит, они обращаются с проблемой, потом к вам менеджер приходит или, может быть, вы сами выбираете, там, вон какой интересный роутер, давайте поговорим, ну как это вообще выглядит, может, по-разному. По-разному, наверное, в данном случае. Данила, давай. В основном, задачи нам, естественно, дают, и мы их делаем, да. То есть, так сказать, свободные тайм-слоты, когда мы можем выбрать что-то свое и поделать у нас не так много, поэтому в основном мы занимаемся тем, что нас просят поисследовать. А при этом спускаются какие-то сроки или вас спрашивают, как вы оцениваете, сколько времени это займет, ну то есть, вот если меня там спросят завтра, а сколько времени займет там переверсить какое-то устройство любое, ну вот мне довольно трудно это оценить. Или вам просто говорят, у тебя на это месяц, и вот все. Смотри, ну задачи бывают разные, бывают задачи, когда у нас есть какой-то коммерческий проект, там, естественно, есть оговоренные в контрактах сроки, в которые нам нужно укладываться без опций, а есть задачи на перспективу, например, если у нас нет коммерческих, например, проектов, какой-то есть тайм-слот, то мы можем, в принципе, проводить исследования в более свободной форме. И здесь уже время, распределение времени занимаемся уже непосредственно мы, то есть мы определяем по нашей оценке, сколько у нас это займет, и составляем некие планы исследования, и впоследствии его можем корректировать. Бывает такое, что даже коммерческие проекты, они тоже перерастают в какие-то свободные исследования, то есть мы что-то посмотрели, понятно, что составили отчет для заказчика, включив в него все те результаты, которые были получены за те сроки, которые у нас были. Ну, если есть еще время, естественно, это все можно доработать, как бы углубить, расширить, улучшить и так далее. Как бы было время, что называется. А если это небольшой секрет, не могли бы вы поделиться тем, как примерно выглядят процессы в компании, вот непосредственно в вашей сфере деятельности, то есть я поясню вопрос. Во многих компаниях, если говорить про разработку, да и какие-то админские задачи, используют какой-то скрам, какую-то agile разработку, ну или там, если компания не очень следит за последними веяниями, то водопадная модель, но неважно. То есть люди собираются там раз в спринт, раз в две обсуждают, планируют и так далее. У вас это происходит похожим образом или как-то совершенно иначе? Ну, знаете, тут в первую очередь, конечно, стоит сказать, что у нас компания большая, есть много отделов, кто-то занимается разработкой, кто-то занимается исследованием, как мы у всех, наверное, модели чуть разные. У нас есть, да, своя отработанная модель, у нас есть, во-первых, для наших исследовательских целей у нас есть Википедия, которую мы ведем, и, собственно, там наши актуальные данные внутренние по текущим исследованиям. У нас есть внутренний гитлаб для наших разработок, у нас есть также, ну вот, наверное, это два основных инструмента, которым пользуюсь я. Также ребята из нашей команды еще пользуются жирой, насколько я знаю, для своих целей, но я вот этим пока не пользуюсь. И да, в разных проектах мы обычно с разным промежутком времени устраиваем собрания и обсуждаем, особенно если исследование заходит в некий такой тупик творческий, когда нужно спросить мнение общественности, что люди об этом думают, и чтобы, может быть, в процессе обсуждения появились какие-то новые идеи, куда двигаться с этим исследованием. А если, ну вот представить вашу работу за последний год, да, скажем, что бы вы назвали источником самых больших проблем и самого большого негатива, то есть с чем возникают наибольшие сложности, что бы вы назвали таким источником? Ну, то есть в разработке типично QA не может протестировать фичу, потому что он, не знаю, он интерфейс прокликал, а там кишки проверить ему трудно, и в результате код выходит с багами, и в итоге в воскресенье днем тебе звонят, там надо срочно чинить прот, а ты не любишь, когда тебе звонят в воскресенье днем, то есть ну вот это по опыту бэкэнд разработки, что для меня самое неприятное. Ну или все протекает прям идеально гладко и никакого негатива совсем. На самом деле заставил задуматься этот вопрос, честно, вот прям такого момента не могу выделить, который прям настолько негативный, что запомнилось и хотелось бы всем рассказать. Не знаю, честно. Да, я тоже затрудняюсь. Ну для меня последний год наиболее сложным, наверное, был тем, что это был первый год, когда я начал выступать с докладами где-то на каких-то общественных мероприятиях, и вот именно учиться делать презентации, составлять речь и выступать для меня было сложно, но вот таких вот именно регулярных проблем на работе, да, затрудняюсь смотреть на такой вопрос. А у тебя во время твоего доклада тебя в этом смысле вроде бы ничего не выдавало в связи с чем вопрос, а ты уже за год так прокачался или у вас очень интенсивно перед каждым докладом как-то тренируют, как это происходит? Или может просто у тебя от природы хорошо получается? Ну у нас есть, во-первых, возможность выступить на внутренней презентации перед нашими коллегами, чтобы они оценили, дали советы, дали критику, чтобы можно было там и в техническом плане исправить ошибки, может быть, там вставить какие-то шутки в презентацию или улучшить речь. Это вот первое, что очень помогает. Ну, во-вторых, да, перед выступлением мне проводили тренинг, где специалист по таким вступлениям, который уже провел много-много презентаций, рассказывал советы, вот как можно, например, успокоить себя перед презентацией и все такое прочее. В общем, тоже это помогло. Ну да, собственно, вот за год получилось, что получилось. Есть определенные проблемы, но будем над ними еще работать дальше. И как же можно себя успокоить перед презентацией? Ну и я бы не отказывался от действенного способа. Вот, наверное, один из самых ценных советов, которые мне давали, это было, что нужно, ну, во-первых, максимально ознакомиться с тем местом, где будет презентация. То есть если есть возможность до презентации подняться на сцену, посмотреть, как выглядит зрительный зал, посмотреть, как выглядит оборудование, то это очень замечательно, это уменьшит стресс. То есть чем более знакомая обстановка для тебя, тем тебе будет легче. Также непосредственно перед презентацией очень помогает на несколько секунд представить себя в каком-то хорошо знакомом себе месте, занимаясь каким-то своим любимым делом, например, я не знаю, катанием на велосипеде по парку или что-нибудь в этом духе. И просто вот несколько секунд в таком вот состоянии и потом спокойно начинать презентацию. Это помогает. Такой вопрос. Ну, по моим представлениям, нас слушает некоторое количество молодых специалистов, которые учатся, ну, там, курсе на третьем, скажем, четвертом, и размышляют о выборе карьеры и всяком таком. В связи с чем первый вопрос, как вы считаете, какими качествами должен набладать реверсер, то есть, ну, есть ли же какие-то такие ярко выраженные качества, и вообще специалистов в области информационной безопасности? Ну, наверное, в первую очередь это какая-то, если говорить чисто о человеческих качествах, есть такое качество, но не везде будет считаться полезным, когда тошность. Вот если говорить про чистых безопасников, вот тут именно оно. То есть это человек, который должен, ну, выражаясь простым языком, ссывать свой нос во все дело компании, и советовать как все делать так, чтобы было безопасно, и вот за это все не любят, как правило. Вот с одной стороны. С другой стороны, мы, в общем-то, с Данилой являемся исследователями скорее, то есть мы не занимаемся там внедрением политик каких-то и так далее в какой-то организации. Поэтому, да даже не знаю, любознательность, интерес, наверное, вот эти вот вещи, как и везде, во всей IT-сфере. Да, как и везде. А может такой вопрос внезапный? Секунду, я просто еще про это хотел дополнить, прости, пожалуйста. Я просто понимаю, что я вряд ли когда-нибудь стану крутым специалистом по безопасности, потому что вот если я что-то узнаю, мне сразу хочется этим поделиться в блоге или в подкасте, еще где-то. То есть вот держать что-то в себе мне дается нелегко. А в области ЕБЭ нужно всегда, если ты узнал про какую-то уязвимость, про которую весь мир еще не знает, тебе надо это хранить, раскрывать как-то responsive и вот это вот все. Ну как же, если вы посмотрите на материалы конференции тех же по практической безопасности, вот тоже пользуйте в Hackdays, там же люди рассказывают о результатах своих исследований. То есть я бы не сказал, что нужно чисто хранить, нужно какой-то баланс соблюдать. Мы же там рассказываем. Да, смотрите, ну естественно нельзя об этом рассказывать, когда это еще не устранено и не исправлено, иначе это естественно ставит под угрозу всех пользователей продукта и разработчиков продукта, ну не разработчиков, а вендоров. Поэтому рассказывать о таких вещах можно только после того, как это пройдет верификацию вендора, исправление всех недостатков и так далее. То есть вот он, да, вы совершенно правы, что сразу же об этом рассказывать нельзя, это нехорошо. Я подозреваю, это довольно получается длинный цикл. У вас появляется какая-то задача, вы делаете, придумываете гипотезы, потом их тестируете, а потом только сообщаете вендору, потом он внедряет. Наверное, а сколько это занимает по времени? Это процесс очень, так сказать, сложно сказать, потому что всегда это занимает совершенно разное время. У кого-то это быстро, у кого-то это может и годами длиться. Зависит от, во-первых, служб безопасности компании, которые обращаются за тем, чтобы они исправили какие-то уязвимости. Ну и может быть, это еще каких-то факторов, которые мне неизвестны. Иногда это бывает очень долго. Твой вопрос, Ваня. Да, да, спасибо. Меня интересует, вот реально, Саша начал задавать его, но вы так и не ответили. К вам приходит задача в каком-то виде. То есть я плохо себя представляю, вам приносят кусок железяки и говорят, разберись, как оно работает и найди там уязвимость, или к вам приходит задача вида, я не знаю, подойди к тому человеку, возьми у него, не знаю, бинарный код и разберись. Или как чаще всего происходит именно начало взаимодействия вас с устройством или с кодом? Ну обычно, если приходит заказчик к нашим менеджерам и говорит, что у меня есть такая-то информационная система, в ней есть такие-то компоненты, и вот интересует меня. То есть это, наверное, наше самое главное. То есть, я понимаю, что у вас есть, например, стажеры, где можно будет делать тестирование на проникновение и анализ безопасности такого решения, которое у нас используется. Это у вас тоже сперва архитектурный подход, то есть вы пытаетесь понять архитектуру, смотрите, с какой стороны вектор атаки какой может быть применен, и, соответственно, разбираетесь с каждым вектором атаки. Безусловно, комплексный подход, модульный, то есть задача развивается на задаче, то есть мы смотрим на систему в целом, какие есть интерфейсы взаимодействия с внешним миром, и анализируем каждый отдельно. В том числе, если в системе имеются какие-то встраиваемые компоненты, то их анализ проводят мы, я, Дима и наши коллеги, именно исследуя безопасность встраиваемых систем. А что имеется в виду под встраиваемыми системами? Это, так сказать... Закрытые информации? Нет, нет, почему же, это вполне себе открыто, но возможно у этого термина может быть несколько размыто определение, что считать встраиваемые системы, не считать, но обычно это некоторые малые системы, которые где-то работают в бэкграунде, скажем, те же маршрутизаторы, про которые я рассказывал, можно назвать встраиваемыми системами. То есть это какой-то ПВО, работающий на маршрутизаторах, или сами маршрутизаторы? Это сам в комплексе маршрутизатор, в моем мнении. Это железка вместе с ПВО. Ну и собственно. А вот всегда было интересно, и насколько я знаю, есть больше одного мнения на этот счет, банкомат с виндой внутри и вот экранчиком и всяким таким считается встраиваемой системой или нет? Банкомат с виндой? Ну, так сказать, не знаю точно, является ли это встраиваемой системой или нет, но, наверное, в нашу область интересов это бы попало. Термин разбытый, в принципе, он больше маркетологическое какое-то значение имеет, чем что-то инженерное такое. Ну, согласен, в принципе, нет большой разницы, это роутер с линуксом или банкомат с виндой, но то есть. У вас, скорее всего, ведь есть уже куча наработок на все виды железя, какие могут присутствовать в индустрии. Ну то есть все виды роутеров, я не знаю, все виды каких-нибудь мышчатизаторов или вообще все, что может стоять. Какие-нибудь редкие кадры попадаются? Конечно попадаются. Разработчики-то на месте не сидят, в общем-то, ПО новое пишут, что-то улучшают, ну и, скажем так, нам на хлеб пихают туда периодические уязвимости. Ну, знаете, вот еще, наверное, не было ни одного проекта, чтобы абсолютно все было известно и прошло как по накатанному. У нас обычно каждый проект это подразумевает некое исследование, что-то новое для нас. Постоянно приходится изучать новые протоколы, новые способы взаимодействия между компонентами инфраструктуры и так далее. То есть все всегда, и всегда интересно, всегда что-то новое. Какие-нибудь особенно диковинные звери? Назовите кого-нибудь для примера, ну чтобы удивить слушателей. Да, вот это сложно, наверное, будет удивить слушателей, даже не знаю. Обычно такие очень специфичные вещи встречаются в промышленных сетях. Там могут быть промышленные контроллеры или мышлицераторы, которые поддерживают совсем, наверное, неизвестные никому протоколы, что-то в этом духе. Расскажи про операционную систему реального времени, про которую было в твоем докладе, я думаю, она вполне удивит наших слушателей. Да, эта операционная система была разработана непосредственно людьми, которые разработали эти промышленные мышлицераторы, нигде больше она не используется, и, наверное, в интернете сейчас о ней информации до сих пор нет, ну кроме вот исследований, которые мы провели, больше информации никакой совершенно нет. Ну, наверное, скорее всего, она не очень интересует никого, потому что эта операционная система просто в принципе разработана именно для этого роутера, никуда не продается, нигде не используется. Ну вот почему мы решили показать про них доклад? Потому что хотелось показать, как исследуются такие системы, потому что у всех операционных систем примерно одинаковые концепции, одинаковые подсистемы, и работают они приблизительно схожи. Хотелось показать, например, вот такой вот нетипичной системы, не Linux, а чего-то такого экзотического. Ну я был приятно удивлен несколькими моментами в этой операционной системе, что, во-первых, там нет виртуальной памяти, и один процесс упал, и всё упало, но это для RTOS должно быть, встречается часто, а второй приятный момент, что поскольку операционная система самописная и закрытая, то там никакого ASLR, никаких канарей к настойке, вообще ничего, очень удобно. Да, это было очень удобно исследовать, интересный в этом плане такой экземпляр, и скажем так, уровень сложности такой задачи понижен по сравнению с более современными системами, где уже используются всевозможные методы защиты от исполнения кода на стейке и на других участках памяти, которые для этого не предназначены, ну и также, естественно, изоляция процессов, виртуальная память. А вот в докладе говорилось, что анализ этого роутера занял год примерно. Мне интересно, этот проект, он один тянулся весь год, или параллельно идёт несколько проектов, как это происходит? Ну, анализ длился 3,5 месяца, а год шло как раз в взаимодействии с, ну уже после исследования шло взаимодействие с вендором, о котором мы как раз уже говорили сегодня, то есть все в изюминости патчились, выходило обновление прошивки, да, ну и параллельно с этим, конечно, у нас были другие проекты, и само исследование было непосредственно около 3 месяца, 3-3,5 месяца. Угу. Я хотел бы на секунду вернуться к молодым специалистам. Вот, допустим, человек хочет работать в лаборатории Касперского после ВУЗа, то есть мы сейчас не рассматриваем практику, ничего такого, вот он приходит к вам на собеседование, что ему следует ждать, и что ему следует уметь, то есть должен ли он там мастерски, виртуозно владеть паяльником, или там в совершенстве знать что он в радаре ту, или какие примерно от него ожидаются, какие от него, не так, какие к нему есть ожидания? К нам, наверное, все-таки приходят из того, что я видел, все-таки люди, которые не прям сразу после ВУЗа, они на позиции реверсеров, которые где-то уже поработали, поэтому ожидания, наверное, соответственно, к ним чуть повыше будут, но так вообще это практически опыт работы с инструментарием, то есть все-таки по большей части это и до про в нашем случае, и понимание таких базовых принципов вообще, как работает процессор на низком уровне, то есть вот эти все вещи стоят кучей, надо, чтобы человек задавал себе отчет, как это работает, и что-то может работать не так в первую очередь, наверное, так. И, наверное, завершает у него серию вопросов про молодых специалистов, может у вас есть какие-то избранные материалы для самостоятельного изучения, которые вы могли бы посоветовать, какие-то книги, серии статей, что-нибудь вот из этой серии? Ну или может быть таких статей нет, и только опыт? Есть книга Кениса Юрьевичева на русском языке, вполне такая для про-реверса, можно сказать, с нуля, которую, наверное, было бы интересно и неплохо прочесть, а в целом тут больше, конечно, решает практика, нежели книги. Сам я вот не помню, что почитал, какие-либо книги по реверсу, все как-то пришло со мной с практикой. Раз вспомнил про инструментарий, есть книга по IDA Pro, сейчас Данил напомни, пожалуйста, потому что я сейчас не вспомню точное название, но книжка просто описывает, как работать с Идой, про IDA Scripting, это такое средство автоматизации для реверса, то есть как-то облегчить себе задачу автоматически размечать код данные, вот это тоже полезно. Да, забыл упомянуть, спасибо. Конечно, есть книга замечательная Крис Игла, называется она IDA Pro Book, очень просто, вот эта книга действительно может помочь избежать многих ошибок при работе с ассемблером и отладчиком, как основным нашим инструментом, и существенно ускорить работу, так скажем. Ну а так практика, как бы еще раз практика, то есть в общем-то disassembler это процентов на 90 практический навык, ты смотришь в этот код и ты начинаешь просто со временем быстрее замечать там определенные шаблоны. Теоретической подготовке, ну да, надо знать архитектуры, команды, но опять же, Ида в случае чего сама подскажет команды, у нее автоматические комментарии есть, она напишет, что какая команда делать, вот именно умение быстро глазками выцепить шаблон на мониторе, это практический навык, и больше всего нужен он. Ну и конечно очень помогает знание программирования, если человек знает, как разрабатываются программы, то соответственно у него упрощается автоматический анализ этих программ, то есть обратный процесс. Вот вы упомянули шаблоны, а расскажите какие-нибудь типичные случаи, которые просто сразу бросаются специалистам в глаза? Я упомянул слово шаблоны, не в смысле шаблоны программирования, но хотя в принципе думаю... Нет, я имею в виду шаблоны в том, что показывает Ида. Надо подумать на самом деле немножко, какой пример такой явно привести. Ну свечкейтс, да, он как бы виден сразу, и да, автоматически умеет анализировать процессорные инструкции, которые реализуют свечкейтс, и обычно показывает его соответствующее. То есть это похоже к тому, как он выглядел до компиляции. Вот хотел бы сказать про, например, использование таких структур данных, как, например, очереди. Обычно, когда мы анализируем код, то сразу видно, что вот здесь используется очередь, вот так она выглядит, так она инициализируется, и там-то хранится payload. Например, в этом плане, можно сказать, появляется такой шаблон, когда ты видишь бинарный код, а вот в этой функции, например, в очередь добавляется новый элемент, то есть это вот сразу упрощается анализ. Пока Данил говорил, придумал я шаблон. Есть такая штука, как CRC-коды, наверное, все про это все знают. Читается он обычно по таблице, то есть это прям входит такая табличка, там, условно говоря, набор значений, который смотрится. И это тоже видно сразу. То есть вот такие вещи как раз они с опытом приходят, все анализируется быстрее. Ну и развивая эту тему, можно еще вспомнить и популярные алгоритмы шифрования и хеширования, потому что они используют очень примечательные обычные константы для инициализации, которые тоже можно легко сразу увидеть в коде и быстро определить, а здесь используется, например, MD5, здесь используется AES в таком-то, в CBC, например, или что-то аналогичное. А никто еще в нейросетку на это не натренировал? Чтобы вот просто у вас бежит Ида, а в ней еще такая нейросеточка определяет, что это вы такое еще смотрите? Не слышал про такие решения. Пока, наверное, еще такого нет, но я думаю, что в ближайшее время что-то подобное может появиться. А есть что-нибудь? Кажется, такие решения они сами о себе просто не будут говорить. Им важнее скрыть свое существование. А есть что-нибудь вот в редакторе, не в редакторе, а в дизассамблере Ида, про что вас сильно раздражает и вы бы хотели это исправить?",
    "result": {
      "query": "IDA Pro раздражающие особенности"
    }
  }
]