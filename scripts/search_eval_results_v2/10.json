[
  {
    "segment_id": "e79cb200-c193-4425-adfb-aeffae40c6b5",
    "episode_id": "585c1eae-db55-4128-b61d-cc00bd9fd366",
    "episode_number": 10,
    "segment_number": 5,
    "text": "Майки, удобно, все работает, купил, ни о чем думать не надо. У меня знакомая, Свет, одна недавно поменяла на работе MacBook обратно на ThinkPad, и плачет от восторга, потому что это ее любимый ноутбук, и вот это вот, как это пимпочек называется, я все время забываю. TrackPoint. TrackPoint, да, она просто восторгует меня. Я могу сказать, как его мои коллеги называют, но это тебе подпросто. Не рассказывай, не надо. Я тоже слышал. Я тоже слышал, все слышали. Поехали дальше. Так, а следующая тема... Следующая тема, это вышла статья про файловую систему ZFS. Вы, надеюсь, знаете, что такое ZFS. Вообще изначально ее расшифровали как Zettabyte File System, типа она очень большая, большое количество. Это типа HDFS. HDFS, а не знаю, я про HDFS мало знаю. Ну хорошо, расскажи, что такое ZFS и чем он так хорош. Они решили сделать так, изначально, в общем, проект появился довольно давно, он появился по Solaris сам изначально, а сейчас его распространяют везде, в том числе на Linux, и статья как раз про это. Они сказали, что мы хотим сделать такую файловую систему, которая никогда, никогда не потребует обновления максимального объема данных. То есть мы сразу сделаем так, чтобы хватило навсегда. Вот как 64 килобайта всем хватит навсегда, вот так и они. И они ввели 128 бит, и я слышал такую аналогию, 128 бит для адресации. Я слышал такую аналогию, что если испарить все океаны Земли вот на этом паре, сделать паровой двигатель, выработать электричество, то даже этого электричества не хватит, чтобы запитать винчестер, чтобы полностью заполнить этот винчестер ZFS, ну в смысле, чтобы дойти до максимума ZFS. В общем, вот такая была замечательная... Какая прекрасная аналогия. Да, да, мне тоже понравилось. В целом, основные плюшечки, а плюшечек довольно много у ZFS, это поддержка транзакций. Они делают copy on write. За счет copy on write они позволяют очень быстро делать снапшоты, то есть фактически ты не изменяешь файлы, а ты пишешь какие-то изменения... Не изменяешь файлы внутри, а ты составляешь в тарешке, пока сверху наслаиваешь изменения. Потом, конечно, ты когда-то его должна схлопнуть, но не должна, в зависимости от того, насколько много у тебя изменений накопилось. И фактически у тебя снапшоты всегда доступны, ты можешь в любой момент времени сказать, ну вот это все снапшоты у меня пошло, то есть за константное время создания снапшотов. Переменный размер блока до 128 килобайт, то есть ты можешь сказать, вот здесь у меня 128, здесь полкилобайт, сколько угодно, сколько тебе нужно. Они хранят контрольную сумму данных, чтобы проверять корректность данных при чтении. При любом чтении они считали, считали контрольную сумму и проверили, что у тебя данные записаны правильно. И при этом эту контрольную сумму сами пытаются максимально разнести по местоположению, то есть желателем записать даже между разными устройствами для того, чтобы если одно повредилось, то более того, дано по controls, то есть в данном случае данные повредились, считывая контрольную сумму, ты знала бы, у тебя данные residents были покрафчены, или нет. Плюсчик共 в довольно много. Минусы есть. Во-первых, минусы это то, что у тебя copy on write постоянно у тебя изменений добавляет. То есть тебе необходимо, у тебя количество данных не изменяется, скажем, а так как изменения постоянно происходят, у тебя объем занимаемого места растет. Нестабильность. Нестабильность системы, то есть ZFS до сих пор, статья как раз этому посвящена, на линуксе автор предлагает ввести понятие такое, что все, ZFS на линуксе, стабильно и production ready. Я чуть попозже про это расскажу. И, а, ну как раз статья посвящена тому, что автор говорит, ребята, все, мол, давайте ZFS уже под линуксом использовать, это все готово, и приводит три основных довода. Вот, если честно, он такие смешные доводы привел, сейчас послушайте. Во-первых, то, что ZFS Data Integrity, то есть, как этот правильно вывести на русский, целостность данных, целостность данных под линуксом, она такая же, как на остальных платформах. И здесь он говорит, что, ну, как бы у ZFS очень много гарантий, то есть там внутри используется Merkle 3, двухфазовая транзакция для коммита, 256 битночек суммы и так далее, и тому подобное, и это все настолько удобно и быстро, и как только вы сделали off-sync вашему файлу, все, вы можете быть уверены, ваши данные никогда не потеряются. Вот, и, как бы, при чем тут линукс, то есть, как бы, он настолько доверяет своему коду, что говорит, что у него там багов нет, вот это вот, у меня его тезисом не очень понятен. Во-вторых, он говорит, что стабильность ZFS, рентайма ZFS на линуксе, она сравнима с другими архитектурами, и приводит здесь в качестве доказательства то, что количество багов, исправленных на ZFS для линукса, стал не намного больше, а то и меньше, чем количество багов, исправленных для других файловых систем, на других, там, Linux, Solaris, где угодно. Вот, и, в общем, вот это были два основных довода, и говорит система, мол, давайте все переходить на ZFS. Вот, как-то так. Ну, в смысле, в продакшене, то есть, для домашних систем он довольно много используется уже всякими фанатами, но вот на продакшене я еще не слышал ни разу, чтобы кто-то использовал ZFS. Пару слов хочу добавить. Во-первых, пользователи FreeBSD, которые нас слушают, все два человека, сейчас понудровали животики. Почему? Потому что там ZFS давно есть и давно используется. Я же говорю про Linux. То есть, это линуксовый порт ZFS. Да-да-да. Во-вторых, надо отметить, что в ZFS, помимо того, что ты назвал там Copy on Write, насколько я помню, опять же, я перестал следить, по-моему, там есть еще разные прикольные вещи, включая шифрование, включая рейды различные. Ну да, там. Софтверные. То есть, там крутые, очень много крутых фичей, которые действительно хочется. Как-то так. У ZFS, на самом деле, очень много плюшек. Но, к сожалению, ее так долго пилят, что я понимаю, что эти плюшки, они очень недешево даются разработчикам. То есть, не бывает бесплатного сыра. К сожалению. Ну что, Саша, ты переводишь уже ZFS на Linux? Нет. Зачем? Ваня же так старался, рассказывал про все плюшки. Неужели тебе не захотелось? Я просто поясню. Например, на десктопе. У меня вообще-то все лежит в NGFS, которое зашифрованное. Ну да, я понимаю, ZFS тоже немного зашифрованный, но вот эта миграция, мне кажется, совершенно того не стоит.",
    "result": {
      "query": "ZFS преимущества и недостатки"
    }
  }
]