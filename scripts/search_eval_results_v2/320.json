[
  {
    "segment_id": "3e00c372-df07-49bf-b9e0-d348df4729a2",
    "episode_id": "90473c7f-5535-46f2-b0b3-9a3004aed1f9",
    "episode_number": 320,
    "segment_number": 4,
    "text": "Я не работаю с плюсами. Это ширение макросоточки, позволяющее писать неуправляемый код в управляемом окружении. То есть это формально, ну, C++ попытались взять и вкрутить в .NET. Понял. Да. И смысл в том, что есть клиенты, которые говорят, то есть мы, в принципе, к вам готовы перейти, потому что у другого продукта нету вообще ничего такого. Нам нужна срочно поддержка C++ CLI. Ну, ты такой, почесал репу, подумал, ну да, давай пойду сейчас кланг это поддержу. Ну, написал там эту всю-сю грамматику, семантику. Все у тебя готово. Ну, у тебя же теперь уже получается какой-то свой форк ленга, да, но ты хочешь это, естественно, в мейнстрим отправить. Отправляешь и тут тебе там сразу люди говорят, это нестандартный C++, мы его мержовать не будем. До свидания. То есть ты каждый потом релизную версию, мажорную, там, этого кланга, да, тянешь изменения и их мержуешь. У тебя каждый, значит, релиз мажорный, это боль. Надо будет обновлять, править конфликты. В принципе, там, ну, сейчас более-менее API того же кланга, например, устоялся, да, но в свое время... Тебе надо фактически только соответствовать API этого промежуточного представления. То есть что-то править, если у тебя промежуточное представление меняется. Потому что тебе не интересно смотреть на оптимизации промежуточного представления, а бэкэн промежуточного представления. И поэтому, ну, неужели там часто в селенге меняется интерфейс, ну, в смысле, самое промежуточное представление так сильно, что у тебя были проблемы? В свое время у них действительно прямо клан, то есть получается сишный интерфейс у них не менялся, он не меняется до сих пор. А плюсовый, ну, вот если посмотреть API, он менялся прямо реально от версии к версии. То, насколько я помню, например, четвертые и пятые версии, они достаточно сильно перепилили, поэтому, естественно, были бы проблемы с мершем, возможно. Поэтому, да, если вот хочется вот такое вот, ну, какого-то такого монстра поддержать, да, то у тебя потом будут на фронтен части вот уже какие-то конфликты, да. Ну, то есть мы имеем проблемы с этим. Может быть, конечно, они надуманы, но в любом случае, то есть мы хотели... Мы хотели изначально, что я просто беру чужой движок, да, и написав на нем инфраструктуру, получил продукт. А получается, что я теперь уже буду влазиться еще и самим вот к лэнгам и с его форкнутой частью, что уже не совсем... Есть и плюсы. Есть и плюсы, естественно, да. То есть у тебя все время, ну, там актуальное состояние компилятора, языка поддержанного, да. Причем не одного языка. Да, причем, в принципе, не одного. Клэнг поддерживает и C, C++ и Objective C, да. То есть он сразу три языка позволяет. И, возможно, еще другие языки, которых он не напишет. Да, то есть можно написать, в принципе, фронтен часть и там ее отправить на ОВМ, и как бы, да, у тебя тоже поддержка вся есть уже. Ну, собственно, это первая проблема, да, то есть то, что приходится модификации такого плана делать, да, и с этим проблема. Да, хорошо, есть C++, CLI, WinRT, CX, а есть еще, например, embed-чики, приходящие к тебе. Ты развиваешь свой статический анализатор и уже идешь в embed-платформы. И тут тебя тоже как бы ожидать проблемы. Почему? Потому что у тебя, например, начинают дико меняться таблицы токенов, да, то есть у тебя какие-то специфичные для этой платформы, для этого компилятора появляются там зарезервированные слова и так далее. Тебе нужно эту семантику поддержать. И опять же, то есть имеем проблема то, что надо отправить это в тот же самый клэнг, да, или они, скорее всего, это не примут. Естественно, ты живешь так же, продолжаешь с FORK. То есть, ну, как бы ты вот в это упираешься. Есть вот этот нюанс. А когда у тебя своя часть, ты ее легко модифицируешь. То есть, когда нам запрос приходит, что придержите, пожалуйста, такую платформу, да, на ней, например, буквально из недавнего, то есть, по-моему, платформа, да, MP Labs, по-моему, что ли, компилятор, у него есть Инт, который занимает 24 бита внезапно. То есть, там не 4-байтовый 32 бита стандартный, а 24. Есть такой. И есть вообще тип, который прям бит тебе предоставляет. В стандартном С++ у тебя такого вообще нет. Ничего. Нужно получается поддерживать это все. Ну, в принципе, вот эти причины, да, то есть, ну, опять же, есть историческая причина, да, то, что мы уже взяли и переписывать сейчас прям с нуля, ну, это было бы тоже тяжело. Плюс вот у тебя есть вот такого плана проблемы, да, то, что, ну, тебе получается придется в итоге развивать FORK, скажем так. Чаще всего это придется делать, потому что, ну, я, скажем так, я наслышан про одну компанию, которая все-таки решила пойти путем кленга, скажем так, и судя по лицу разработчика, которого я видел, да, он, скажем так, не радостен. Ну, у него радости не особо много. То есть, да, конечно, он тебя позволяет, но он был более радостный, когда у них был свой собственный движок.",
    "result": {
      "query": "Clang C++ fork integration issues"
    }
  }
]