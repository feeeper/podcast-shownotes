[
  {
    "segment_id": "e809b311-7e13-4f44-bc01-6e63d2dc524f",
    "episode_id": "52a101b4-3780-4ff0-8a10-6d9a9458c81a",
    "episode_number": 55,
    "segment_number": 11,
    "text": "аллокации, больше сборка мусора и так далее, и так далее. У них так получилось, что были критические к производительности сервиса, которые были написаны на Java, и на скале получалось либо что медленно, либо неудобно, потому что вы идете против языка, вы не используете то, что нужно использовать в этом языке для канонических каких-то операций, и просто не срослось. Мы вернемся к этой теме, потому что... Мы вернемся к этой теме, потому что там будет доклад про Scala Performance, поэтому держите эту мысль. Следующий доклад был Михаила Мутянко, наверное, так читается, из JetBrains, про Macros и Scala. Был просто огонь доклад, потому что он показывал новый Scala плагин для идеи, который еще не зарелизился, и он еще не скоро будет зарелизен, то есть то, над чем он сейчас работает, это разработчик Scala плагина. Он показывал, в том числе, очень интересно, ты пишешь макрос, а потом в том месте, где ты его вызываешь, жмешь hotkey, и он у тебя разворачивается прям в VDE, в код, который он будет генерировать. Оно, разумеется, пока довольно сырое, там, например, всякие вложенные макросы, они еще не разворачиваются, но в целом выглядит очень круто. И, кстати, я не помню, я говорил в подкасте Ленеров, в блоге точно писал, что большая проблема с макросами — это не правильно поддерживать их в VDE, потому что у тебя макросы генерируют кой-то код, а тебе VDE о нем не знает, она не может его правильно подсветить, начинает подсвечивать красным, что у тебя такого метода нет и все такое. И как раз доклад был о сложностях, которые возникают при попытках сделать поддержку макросов в VDE. Насколько я помню, самая большая проблема заключается вот в чем, что у тебя макросы, по сути, у тебя какой-то код не выполняется. И этот код, он, вообще говоря, может делать все что угодно. Он может по HTTP куда-то сходить, может, не знаю, удалить домашний каталог пользователей и так далее. И если тебе в VDE нужно выполнить код, ну, выполнить макрос, чтобы понять, что он, собственно, делает, ты не знаешь, а какие побочные эффекты при этом будут. То есть ты просто открываешь проект VDE и с него используешь домашний каталог. Отлично. И, как я понял, способ решения заключается чуть ли не в написании своей то ли виртуальной машины, какого-то эмулятора, который прям всякие такие опасные вещи будет замокивать, или я не знаю, что с ними делать. То есть это действительно очень большая проблема. Вот. Что-то у меня больше в памяти не отложилось. Кстати, была запись всех докладов, так что это все можно будет потом посмотреть на fpconf.ru. Пока, по-моему, недоступно. Я, кажется, тебе был звонен, Зинобай. Он тоже говорит, что одна из главных проблем с макросами и одна из целей вот этого его исследовательского проекта, на котором он сейчас работает, одна из целей его ведомых мастерантов, поддержка VDE, это очень сложный вопрос, они сами на все знают ответы. И ты еще хотел что-то сказать про Scala Performance. В конце все будет, подожди. Дальше был доклад снова про макросы, но более такой прикладной, от Михаила Лиманского. Встраивание языка в строковый интерпретатор. У него была такая интересная задачка. У них в проекте MongoDB, не смеяться, и нужно было, как я помню, в Scala есть строковый интерполятор. Например, S, и потом в кавычках что-то. Если у тебя в этой строке встречается, например, $X, и есть переменная X, то она интерполируется. Так вот, этот S, есть еще другие интерполяторы, F, например. Это не встроенное в язык фича, это средство, которое можно самому реализовать свое, какое угодно. И Михаил, он пытался написать валидатор запросов к MongoDB. То есть ты пишешь запрос, делаешь к нему интерполятор, и если он невалидный, то код не соберется. Сначала он описывает, как это сделать в рантайме. То есть программа компилируется, запускается, и в рантайме падает, если запрос невалидный. Но это, разумеется, не очень полезно, поэтому он использует макросы, чтобы они при компиляции проекта сразу проверяли. Мне такой понравился, он очень прикладной и интересный. Значка интересная. Хотя, с другой стороны, знаешь, это из-за разряда изобретать свои DSL для каждого проекта, и свои URM. То есть, мне кажется, было бы проще взять обычный слой DAO, где у тебя есть какая-то коллекция, или как они тебе там в Монге называются, и ты делаешь, типа, сканировать по диапазону, insert, delete и так далее. Скажем, по прикладному значению Но вообще, с точки зрения «что бы и сделать» — это интересно. Вот такое интересное применение. Дальше, дальше. А, дальше был обед. Обед, кстати, очень вкусный и всем хватило. И, по-моему, они даже как-то в несколько батчей всех запускали, потому что сначала пришла толпа народа из одного зала, там очередь прососалась, потом пришла вторая толпа народа. И, не знаю, по-моему, еды всем хватило, все были сыты и довольны. И это очень, опять же, респект организаторам. Дальше, в один поток выступал Кмет. Ну, всем же понятно, что все пойдут на Кмета, поэтому нет смысла в это же время какой-то второй доклад пускать в параллель. Кмет рассказывал про линзы. И, кстати, я забыл упомянуть. На самом деле конференция началась не в субботу, а началась она в пятницу вечером, потому что мне написал Никита и сказал, что у них там какой-то обед докладчиков или что-то в этом роде, и давай приходи. Поэтому в пятницу мы сидели, выпивали пиво, и там тоже был Кмет, и он показывал очень... Ну, вообще это обычно так выглядит, что всегда, когда я видел Кмета, обычно он стоит или там сидит, а вокруг него толпа народу с открытыми ртами, и он вот что-то там говорит, говорит, говорит, какими-то идеями делится. И все, видимо, боятся что-то спросить, потому что сразу дураком покажешься, ну, рядом с Кметом-то. И он очень интересно показывал на том обеде демки с трехмерной графикой на Haskell. Ну, я с ним тоже немножко поговорил, поделился своей болью. Я, кстати, как раз сейчас в процессе изучения OpenGL по Redbook, и я столкнулся с тем, что очень сложно найти помощь у кого-то, если ты пишешь не на C++. Потому что заходишь на канал, говоришь, вот у меня тут такой код на скале, и, разумеется, никто его смотреть не будет, и разбираться не будет, и даже никто не знает, как его скомпилировать. И даже если ты используешь, ну, в случае со скалой, это lwjgl, есть такая библиотечка, ты даже к ребятам, которые ее разрабатывают, обратиться за помощью не можешь, потому что, опять же, твой код на скале, он же на Java пишет. Это, своего рода, культурная проблема, поэтому я сейчас на C++ занимаюсь изучением OpenGL. Такие дела. Но, кстати, справлюсь, радио Хаскеля у него очень тонкая обертка. Ты про кмету начал рассказать, я чуть не закончил, убежал. Да, и на своем докладе к мету он объяснял линзы, потому что он, в числе прочего, очень интересен для тех самых линз. И, кстати, мейн-тренер того проекта, который GL. И там, я думаю, у него есть еще ряд других заслуг. Это было очень интересно посмотреть. Ты, во-первых, себя со второй минуты чувствуешь очень тупым, потому что ты уже давно запутался во всех этих типах, стрелочках и так далее. А, во-вторых, ты сидишь, разинув рот, потому что человек прям при тебе пишет линзы по памяти. Понимаешь? Он прям помнит все типы, он прям при тебе в ВИМе пишет, компилит, справляет ошибки и так далее. Я не могу сказать, что очень много понял, но зрелище незабываемое. А, и еще к мету он раздавал наклейки с логотипом Хаскеля. И я взял себе две ленты, наклеил уже на все ноутбуки, на все стены, на лоб наклеил, везде все наклеил. Я очень долго искал эти наклейки. Я могу, собственно, разделить эту самую боль про скалы и OpenGL, потому что этим я никогда не занимался. Но когда-то пытался успешно, более-менее, писать на F-Sharp, значит, на Direct3D. И да, то есть ты используешь библиотеку, которая условно оборачивает Direct3D в конструкции .NET в данном случае, и иногда ничего не работает, и иногда ничего не работает, потому что у тебя код неправильный. А иногда вообще приходится дебажить вот эту обертку, потому что там тоже может быть баг. Это просто код. Чем дальше от языка, с которым работают массы с этим API, тем, конечно, хуже. Следующий доклад я остался в первом зале, потому что был два варианта. Либо дизайн больших приложений в FPV, либо архитектура UI на основе Lins. Я не очень большой сторонник всяких таких замороченных вещей в проекте тех же Lins. И я далек от UI, я остался на дизайне больших приложений и доклад Александра Гранина. Честно говоря, он мне не очень понравился, потому что он какой-то странный. Я не понял проблему, не понял, что пытается решить. Там была серия, что мы не можем из UML использовать диаграммы классов, но давайте использовать хотя бы какие-то другие UML-диаграммы. Я в них не особо разбираюсь, никогда не использовал. Что-то там было про планирование, что с FPS становится все не как у людей. Я тоже не понял проблем, потому что у нас с Scrum все отлично. Короче, очень странный доклад. Но вы посмотрите, может, вы его лучше поймете. Потом я вернулся во второй зал, слушал доклад Никиты Прокопова «Фронтен без грусти». Никита рассказывал про свой датаскрипт. Хороший доклад, мне понравился. Датаскрипт – это база данных, которая кстати, не язык, может быть, это DSL, на самом деле, отчасти, которая в браузере хранит базу, при том она такая функциональная, как-то называется, когда у тебя все данные иммутабельны, ты можешь поэтому версионировать их очень удобно. Валера, ты должен знать. Ну, что-то в этом роде, да. Вот. Был кофе-брейк. Но, кстати, самое интересное, наверное, происходило именно в кофе-брейках и на автопати, и так далее. Потому что можно было пообщаться с людьми, развиртуализироваться. Я там, кстати, развиртуализировался с Денисом Шевченко и с другими интересными людьми. И с ребятами из АйТека. Мне было очень интересно, если вы не в курсе или забыли, АйТека несколько лет назад приходил на метап по Хаскелю и хайрил там людей. Типа, мы будем писать на Хаскеле, у нас там будет только Хаскель, ничего кроме Хаскеля. Мне было очень интересно, чем история закончилась, и теперь эти все ребята пишут на скале. Такие дела. Еще меня эти же ребята отловили что ты нам обещал доклад про Аку, а потом в последний момент вскочил. Ты нам, собственно, считай, конференцию оплатил, потому что мы программку показали, начальству сказали, видишь, Ака, нам нужен туда. А в итоге никакой Аки нет, что за дела. И потом они меня долго пытали на автопате, почему Ака-кластер говно. Ну давай, скажи нам всем. Ты доклад все-таки рассказал? Ну, вот там, тем трем людям и Антону Лебедевичу-то, которым это было действительно интересно. Ну, если вкратце, то я уже на этот вопрос отвечал, и в этот раз я тоже отвечу ссылкой на свой бложик и статью про распределенные актеры, и почему это в большинстве систем не нужно, если только вы не пишете свою message queue, распределенную базу и так далее. Но это приносит вам ненужную сложность. И это приносит вам проблемы, что, например, у тебя какие-нибудь распределенные кешики, потом у тебя падает одна нода, но кластер это понимает не сразу. И он там, не знаю, 15 секунд продолжает долбиться в эту ноду, пока он не поймет, что она на самом деле упала. В это время у всех пользователей сыпется аск тайм-аута, потому что они же запрос поставили актеру, у нас летит крэш, актер не отвечает, поэтому тайм-аут. И получается, у тебя из-за одной упавшей ноды ломается вся система. И очень много такого рода проблем, поэтому пишите в векенды, как их все пишут, и не тащите новые игрушки. Посылай всех в шоу-ноты, в шоу-нотах добавим ссылочку, а потом будет все комментировать у тебя на сайте. Все отлично. Пошли к следующей теме. Да я уже добавлял, но могу еще раз добавить. Конечно, конечно, давай. Так, осталось совсем немного. Реактивные потоки рассказывал Алексей Романчук из 2GIS, который вагис по-русски. Это был доклад про АКСтримс. Мне доклад понравился. Он действительно прям шарит в стримах, и ответил на мои коверзные вопросы, а что делать, если мне нужен кастомный бэкпрэш. Так что если вас интересуют стримы, то посмотрите. Доклад нормальный. И что делать в такой ситуации? Написать свой кастомный бэкпрэш и прицепить его к стримам. Или посмотреть доклад. Что? Вопросы на видео попали, не знаешь? Должны попасть, да. Там были микрофоны, и должно все попасть. Дальше, дальше. А, дальше был самый тяжелый выбор на протяжении всей конференции. Потому что был доклад Рината Идрисова из MachineZone про распределенное измерение производительности распределенных приложений и распределенные функциональные системы на скалы из из из и мне было ужасно интересно, как же в Mellow Games используют скалу, поэтому я остался на этот доклад. В итоге, честно говоря, пожалел. Доклад, наверное, может быть, он и нормальный, но докладчик либо неопытный, либо ну, просто так себе. То есть там было не очень легко его слушать, очень хорошие были слайды, в том смысле, что там был мелкий текст и какие-то странные картинки. Вот. В целом, доклад о том, как как написано распознавание голоса с использованием скалы. Вот. Но, честно говоря, я вынес, наверное, где-то минут 15 этого доклада, и потом пошел прогуляться, и стоял в дверях, слушал доклад ребят из MachineZone. Вот. Ну, в итоге не послушал ни один из этих докладов целиком. Такие дела. Вот. Кстати, в вопросах Ренату вот с тем докладом про распределенное измерение производительности, говорили, что, оказывается, Erlang начинает... Я не помню, что именно там происходит. Когда у тебя теряется много пакетов, то у тебя перестает работать семантика с таймаутом на cast или на call, или как-то так. То есть какие-то страшные вещи происходят. Никто с такими сталкивался случайно, нет? Товарищ Erlang-ист? Много это сколько? Ну, типа 50% потери пакетов, и у тебя вот вся семантика Erlang ломается совсем. Может быть. 50% — это много, чтобы потерялось. Довольно странно звучит, потому что вообще по-хорошему таймеры-то локально работают. Почему нужно теряться? Там, может, это более сложно, мне кажется. Может быть. Ну, я просто краем уху услышал. Может, вы бы подтвердили, но нет. И, ну, дальше можно было пойти на Максима Лапшина про Erlang в продакшене, но я этот доклад уже раза два слышал, поэтому я пошел на Scala Performance для сомневающихся доклада Романа Гребенникова. Кстати, этот доклад уже есть где-то на Ютубе, потому что он с ним выступал на J-Point. Доклад просто огонь. Если вы хотите послушать один доклад, самый лучший, я настоятельно советую его. Потому что там с кишками, с JVM-байт-кодом, с ассемблерными листингами и так далее, и тому подобное. Очень интересно. Если вкратце, то согласно этим синтетическим бетчмаркам, Scala, она, как правило, не сильно уступает Java, но поскольку JVM, она очень сильно заточена под Java саму, имеется в виду JIT-компилятор, то некоторые конструкции скальные JIT-оптимизатор он не может распознать. И поэтому иногда вы получаете не очень оптимальный ассемблерный код. С другой стороны, если вы нашли место, в которое вы реально уперлись, потому что обычная речь идет про какие-то десятые миллисекунд, если вы реально в это уперлись, вы всегда можете на Scala написать код, который будет хуже, чем код на Java, то есть он будет прям один в один. То есть не очень красиво, не очень идеоматично, но не хуже в плане производительности. Вкратце это все. А, потом мы пошли на автопатию, напивались, буянили, вот это все. Вопросы? Дополнения? Я хочу дополнить по поводу доклада последнего. Это действительно очень крутой доклад. Я постила ссылку на YouTube-видео. Я всем рекомендую. Обязательно к просмотру, если вам интересно, как она работает внутри. И очень важный докладчик. Я не знаю, либо очень опытный, либо просто хороший, потому что очень живо рассказывает, там, смешные картинки и так далее. Ну, а я сейчас распрощаюсь, потому что мне нужно уже идти. Всем спасибо, очень интересно было послушать про движки. Всем пока, до следующего выпуска. Пока, Света. Пока-пока. Вот, если вкратце, то конференция была просто отличная. Я исключительно доволен и в следующем году обязательно пойду и всем советую. То есть, я не помню, какая еще конференция мне так сильно нравилась. Я помню High Load прошлогодний, и он был очень умыл. Кстати, Арсений, расскажи, а где тусуются крутые специалисты по графике? У вас есть там какие-то ежегодные конференции или метапы? Ну, тусуются, можно по-разному воспринимать, значит, конференции. Конференции есть. Мне кажется, что есть две главные конференции SIGGRAPH и GDC Game Developers Conference. Они проходят вот SIGGRAPH была как раз совсем недавно. Они проходят по-разному. GDC в основном проходит в Сан-Франциско, что удобно, потому что я теперь очень близко. SIGGRAPH в основном проходит, мне кажется, в Лос-Анджелесе, что менее удобно. Но не важно. SIGGRAPH, он больше про академическую графику. Там не только графика, там еще физическая симуляция. То есть, SIGGRAPH, мне кажется, это больше академическое, всякие там пейпер-доклады и фильмы. А GDC это больше разработка игр, но там большое пересечение. Это графика и там очень много идей, которые можно встретить там и там. Это с точки зрения конференции. Собственно, на SIGGRAPH в этом 2015 как раз рассказывали про все эти новые API. На GDC 2014 анонсировали Mental. И на GDC 2015... Нет, и DirectX 12 тоже там же, по-моему. А нет, Mental, наверное, не на GDC. В общем, DirectX 12 официально анонсировали на GDC 2014, по-моему. Ну, это достаточно интересная конференция. И те, и те. И, конечно, очень большой элемент это, что ты можешь вживую поговорить с большим количеством людей, которые занимаются интересными проектами. Это конференции. А не с точки зрения конференции, к сожалению, основной механизм общения среди людей, которые интересуются графикой, это Twitter. Я говорю к сожалению, потому что мы как раз обсуждали про неудобно на Twitter читать и хуже участвовать в огромных длинных обсуждениях. А интересные темы приходится обсуждать долго. Но есть ARC, есть Stack Overflow. Значит, как-то так получилось, что ARC community графики, оно, в общем, не прижилось. То есть, например, обсуждать компиляторы это вот ARC. Если вам интересен LLVM, у LLVM есть ARC канал. Если вам интересен Rust, есть там несколько разных ARC каналов, на каких-то из них, например, обсуждают внутренности компилятора. А разработка игр, когда-то были ARC каналы, они, наверное, все еще есть, но как-то не прижилось. Когда я говорю не прижилось, это значит, что люди, которые работают в крупных компаниях, которые занимаются интересными вещами, например, я говорил про место Unity, там есть, например, Battlefield 4, и там есть 4-5 человек, которые активно писали графику для него и которые идут на контакт, вот они все в Twitter. Stack Overflow, там есть действительно геймдев, по-моему, Stack Overflow, но мне кажется, что он скорее для ну, каких-то, не то чтобы для общения, а для решения проблем, которые еще, мне кажется, чаще встречаются у новичков, то есть там более, ну, не на таком уровне, мне кажется, диалог вести. Ну что, Ванька, к следующей теме перейдем? Да, давайте. Твоя ведь? Да, я просто пытаюсь понять, какую я хочу выбрать. Давайте ту, которую там про JavaScript не добили. В блоге проект V8, который JavaScript компилятор, JIT интерпретатор, я не знаю, как это правильно называется сейчас, ребята из Chrome и вот этого вообще проекта рассказали, как они оптимизировали движок.",
    "result": {
      "query": "отзыв fpconf 2015"
    }
  }
]