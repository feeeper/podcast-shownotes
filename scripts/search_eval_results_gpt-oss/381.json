[
  {
    "segment_id": "750480b2-f609-465b-b19d-8cf2e7b4542e",
    "episode_id": "a9b20d0a-4f26-45a5-9ffc-19e741e54aa8",
    "episode_number": 381,
    "segment_number": 6,
    "text": "прибыли, но в процентах рынка там AWS точно 80% контролирует. Я помню, как мы это обсуждали, и это случилось одновременно с переходом моего стартапа, в котором я работал с Amazon на Google, и Google в тот момент принял очень большое усилие для того, чтобы перетащить, они прям много компаний пытались утянуть большими скидками и поддержкой, так что, может, это после этого уже изменились эти цифры, но я отлично помню, что когда мы обсуждали и сравнивали, привычный мир Амазона и гугловский мир, они тяжело сравнимые, и вот отсутствие нормальной базы данных для нас было прям, то есть нам хотелось иметь как бы динамо совместимую вещь в Google, нам хотелось иметь RDS в Google, но по крайней мере вот RDS уже фактически есть. Мне вот интересно, в чем преимущество использования Alloy DB или Aurora под сравнению с, честно говоря, я никогда не пытался какровищ поднимать в облаках, но я могу представить, что у них по-любому, если буду сильно удивлен, если у них нету готовых образов и инструментов типа азапелли, меня какровищ в Амазоне, то есть в чем преимущество использования вот закрытого сервиса, которому ты, ну, на котором ты будешь очень плотно сидеть на этой игре по сравнению с использованием ну хоть сколько-то открытой системы, которую ты можешь прежне поднимать на порой. Ну я лично как бы вижу следующий плюс, во-первых, ты работаешь, ну RDS, скажем, или Aurora, у тебя есть какой-то твой код, написанный на чем-то, тот же самый питон, не знаю, ну вот у нас был тогда питон, большой-большой монолитный питон, и в нем соединялось по умолчанию, все было настроено для работы с POSGR, то есть мы просто заменили POSGR SQL на одной машининой RDS, и все должно было работать. Ну нет, RDS я даже здесь не называю, потому что RDS, да, это просто менеджер POSGR, это вот прям POSGR с POSGR, да, но с точки зрения того, что свои сейшные расширения нельзя, но... Вот, с Aurora вроде как это же тоже какое-то подмножество протокола POSGR SQL, да, и насколько, кстати, большое, я вот не знаю, но... Насколько я знаю, внутри это фарконутый POSGR. Да, ну, как бы они, из-за того, что они распределенные, и вот это все, они могли частично совместимый с какой-то функциональностью убрать, вот, но из-за этого у тебя получается, что ты берешь условный, не знаю, там, проект на Go, на Erlang или на чем угодно, который приспособлен для работы с POSGR SQL и натравливаешь его на Aurora, тоже должно работать. Такое, ты перечисляешь преимущество перед Кокроучом, да? Да. Так Кокроуч, он тоже POSGR, у него POSGR протокол. Да, но будет ли он работать в умолчании? Вот у меня вообще нет уверенности в этом. Будет, будет. Мы писали как раз приложение, и, ну, тот самый византийский application server, и в какой-то момент я вам рассказывал эту историю, то есть по умолчанию мы использовали для хранения данных budger. Budger — это реализация LSM деревьев на Go, и в какой-то момент мы подумали, что в этом конкретном приложении нет большой нужды использовать прям embedded базу данных, в принципе, это нормальная история, использовать POSGR для хранения данных. А если мы поддерживаем POSGR, то почему бы сразу не поддержать и Кокроуч? И я, собственно, занимался этой задачей сделать поддержку POSGR, и потом как бы следующим шагом убедиться, что мы также совместимы с Кокроучем, и там все неплохо. То есть некоторые функции, некоторые фишки, они отсутствуют. Я сейчас смутно предоминаю какие, то есть, например, когда я вот так из памяти, у тебя когда есть приложение, и оно обновляет свою схему базы данных, у тебя одна из возможных реализаций, по крайней мере, в том драйвере, который мы взяли, она была такая, что взять, POSGR все это называется advisory log, ты берешь log, если ты смог его взять, ты знаешь, что этот log больше никто не возьмет, и ты гонишь в свою миграцию, потом log отпускаешь. А все остальные, если ты запустил вдруг больше одного инстанса своего приложения, остальные они в момент, когда ты отпустил log, они его захватывают, проверяют версию схемы, такие, а, ну мы уже все накатили, как бы и просто работают. Но если ты не Amazon, который торгует книжками, то в принципе это нормальная реализация, и в Cockroach это нифига не работает, там, ну ты не можешь взять log на весь Cockroach. Еще, нахуй как припоминаю, там нету Select for Update и каких-то еще вещей, то есть, насчет Select for Update это не точно, я так по памяти говорю, вот, то есть, но если ты не используешь, да, естественно там нет полнотекстового поиска, и регист, по-моему, частично реализовали, мы даже что-то такое обсуждали, то есть, что-то не поддерживается, но если ты изначально нормально инвестируешь свое приложение и не завязываешься на какие-то очень поздросспецифичные вещи, то да, ты можешь написать приложение, которое будет работать с Cockroach, с Postgres и все будет хорошо.",
    "result": {
      "query": "AWS vs Google cloud database comparison"
    }
  }
]