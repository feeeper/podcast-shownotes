[
  {
    "segment_id": "0d4562db-a08f-4ab7-ac10-fa8d615cd730",
    "episode_id": "bbfdab1c-5506-4b45-a1bd-0ee1a3be9be7",
    "episode_number": 211,
    "segment_number": 2,
    "text": "Но их, понятное дело, надо вначале натренировать, и потом скормить можно будет черно-белую картинку типа раскраску, и она раскрасит твоих аниме-персонажей. Впечатляюще. То же самое, думаю, можно будет делать и с фильмами. И может быть, это уже возможно сейчас, я туда не заглядывал, и это, может быть, будет лучше, чем 17 мгновений весны с розовыми нацистами, если кто помнит. Ну вот я как раз вспоминал про Штирлица и его окружение, которое раскрали, и там вроде как раз говорили про то, что они пользовались достаточно современными технологиями, когда раскрашивали. Хотя лично я не очень понимаю, зачем это делается. Но в целом забавно. То есть если нейросетка может еще креативно что-то дорисовывать, когда ты апскейлишь, то вот этот типичный голливудский прием, когда ты бесчисленно зумишь, и зумив, что в отражении болта отразился преступник-убийца, ты раскрываешь дело. То вот получается, что мы постепенно к этому приходим. Ты все зумишь, а нейросетка все знает и что-то тебе дорисовывает, то, что ты хочешь увидеть. Проблема в том будет, что преступник окажется тоже дорисован, а может оказаться чье-то лицо человека, которого не было на том месте. Ну это, конечно, все домыслы. Ну мы же знаем, что там будет не лицо, а морду кислотной собаки. Мы же проходили. Ладно, тема веселая, можем идти дальше. Технология есть, они ее улучшат, будут продавать. А может, опенсорс отдадут? Отдаст ли опенсорс Cloudflare веб-воркеров? Да, ну вот тема, с которой я пришел, это недавно, пару дней назад, Cloudflare объявил, что они бета-тестировали такую распределенную базу веб-воркеров с K-value, и я начал более детально стараться рассмотреть, что вообще из себя представляют эти веб-воркеры. В Cloudflare вообще, начну немного издалека, вообще в современном стандарте того, что должен уметь браузер, определенная такая штука, как веб-воркер, используют их в основном для того, чтобы подгружать данные, чтобы заранее загрузить свой кэш, и потом, если ты запрашиваешь какую-то картинку, то HTTP-запрос не будет, ты просто ее из кэша получишь. Вот, и работает это все у тебя в браузере, локально, но в отдельном трейде, то есть это отдельный интерпретатор JavaScript, который не пересекается с твоей основной вкладкой. Соответственно, веб-воркер имеет какое-то количество ивентов, и основной ивент, который почти все используют, это как только загрузился веб-воркер, мы берем и получаем все файлы, которые могут потребоваться нашему JavaScript-приложению, скачиваем себе, и после этого, если наше ухо сходит по какому-то пути, который мы уже прогрузили, то он просто отдастся из локального кэша. Но при этом сам момент, когда твоя же оплекуха пытается что-то скачать, это тоже ивент для веб-воркера, и этот ивент можно перехватывать. И, например, можно что-то с картинкой сделать в теории, можно, вряд ли так кто-то делает, а если это CSS, или еще что, в общем, ты на лету можешь подхачить тот файл, который ты отдашь своей же вкладке, запущенной в соседнем трейде. И Cloudflare какое-то время назад сделали по такому же стандарту, почему бы эти веб-воркеры не вынести к нам в нашу распределенную систему, так как у них задеплоены куча серверов в разных странах, то почему бы нам по такому же опине сделать свой кэш. То есть в итоге получается, что ты можешь написать какое-то кодное в скрипте, которое соответствует этому веб-воркеру с API, и в каждом скрипте достаточно говорить, если что-то не так. Да, ты прерываешься, и у тебя, похоже, довольно большое latency. Давай, может, если у тебя нет какого-нибудь VPN, через него зайти. Нет, у меня просто отельный Wifi. В общем, я могу тогда более коротко. В общем, вот этот веб-воркер с API, его Cloudflare заимплементировали со своей стороны, можно создать веб-воркера у Cloudflare, и тогда этот кэш будет локальный для твоего условного города. И твой браузер сходит к веб-воркеру, который поднят у Cloudflare, и файлы статические хранятся там же, хотя это будет выглядеть как обычный HTTP-запрос. При этом еще на этом разные люди делают роутинг, так как у тебя есть вариант получения файлов, ты достаточно много всего можешь сделать, перенаправить куда-то данные и так далее. И как такой завершающий момент, Cloudflare добавили еще возможность пользоваться базой данных из этого веб-воркера. Вот что они, собственно, у них такая распределенная глобальная база, ключ значения, и они активно в своем блоге топят за то, что в принципе можно и все приложения так написать, то есть есть только веб-воркер, только key-value-added-storage, и если у вас не очень сложное логико приложения, то вы можете вот всю эту неотъемимую них, а до вашего сервера оно в принципе не будет доходить. Вот такая идея. Только кэш, только воркер, только вебчик впереди. У кого-то есть еще комментарии по поводу веб-воркеров? Я предлагаю пофантазировать на тему, что можно сделать на базе этой технологии. У меня не так уж много идей, кроме каких-нибудь messenger, что-то такого. Нет, просто у меня это как бы вызывает ассоциацию, что вот это вот должно называться serverless, а не когда ты деплоешь JavaScript функцию в Amazon. Кстати, они добавили, вот есть такой не очень популярный JavaScript фреймворк serverless, который так и называется, который в основном ты пишешь на, ну там, наверное, такой слой абстракции, который позволяет тебе задеплоиться на AWS Lambda и еще на пару, вот то, что они называют serverless engine, вот, и они добавили обвязку, которая позволяет в структуру, в нейтворке приложения задеплоить к ним Cloudflare. Ну это, на самом деле, довольно забавная тема, то есть как бы если я правильно понимаю, что происходит, мы берем, кладем JavaScript на CDM, отдаем его в браузер клиенту, он там выполняется и в качестве базы данных используется какой-то дико распределенный кэш. Звучит достаточно клево, на самом деле. А если там какой-нибудь CDN заменить на, ну, приватный CDN заменить на какой-нибудь IPFS, мы получаем внезапно магические распределенные вычисления гипертекстовый векторный фиденет. Давайте писать. Ну, с одной стороны, я соглашусь, с другой стороны, я решительно не согласен со всем, что ты говоришь. Почему? Потому что, как тебе сказать, а вот то, что уже много лет ничто не мешает скачать с FTP экзешник, который тебе будет по TCP соединить с другими людьми в интернете, у тебя будет распределенная база, как бы это никого не смущает. Но ты же понимаешь, что так много смузи не выпьешь. Ну, вот да, основная как бы прелесть этой технологии в количестве смузи, которым можно закематься. Ну, то есть это основной интересный момент, потому что сейчас, когда у нас появляются штуковины типа коромифмуи, штуки типа ВАСМА, VWA-сембли, у нас, в принципе, стирается грань между экзешником с FTP и кодом, который загружается в браузере, с той лишь разницей, что код в браузере по умолчанию как-то сэндбоксится, хотя это ну так. Ну, то есть непонятно, насколько сэндбокс современного браузера надежнее, чем сэндбокс операционной системы, но в теории чуть-чуть безопаснее. Ну, вот, пожалуй, единственная разница. А в чем разница с JVM тогда? Были аплеты, аплеты умерли, осталась только джавка. Ну, аплеты, скажем так, аплеты для своего времени были жирные. Современный JavaScript такой же жирный, но сейчас интернет другой стал. То есть мне кажется, что джава-аплеты появились в 2018 году, все бы их любили, наверное. Джава опередила свое время. Типа да, типа да, лет на 20. Это первая проблема. Вторая проблема, что джава-аплеты выглядели как страшный монстр. И сейчас они продолжают выглядеть как страшные монстры, не знаю, с начала 90-х, а как бы с музема и JavaScript модно и с музема просто тормозит. Как бы, я против, чтобы в моем браузере было столько смузи, потому что смотри предыдущую тему и вообще я тонский запретил так делать. Это никого не смущает? Ну, кроме смузевости здесь есть еще важная штука с локальностью. То есть если... Я тебя понял, но ты все наклипаешь опять, поэтому... Если у тебя один сервер, то по каким-то людям, которые живут далеко, твой сервис будет работать медленно. А, угу, давай. Ну я хотел перебить и сказать, что да, окей, локальность, но это не отменяет страшного аргумента о том, что мы берем, скачиваем экзешник с FTP и получаем локальность. Ну то есть тут скорее вопрос в том, что мы наливаем смузи в браузер, а не напрямую там себе в экзешник. Хочу с Сашей поспорить еще одновременно. До сильного того, что то, что все в браузере тормозит, это не потому, что оно написано в JavaScript, а потому что оно написано, не знаю, на 10 слоях JavaScript, мы туда еще потащили рекламу, мы туда еще потащили кучу трекингового кода и вот оно все вместе разом пытается заработать. То есть там даже не столько WebUI тормозит, сколько все, что мы пытаемся запихнуть в огню. Ты, боюсь, меня не совсем правильно додумал, я же совсем не про производительность, хотя это тоже проблема, конечно. Нет, меня безопасность интересует, ты заходишь на произвольный сайт, у тебя выполняется произвольный код, который раньше, ну раньше он тебя мог на страничке какую-нибудь фигню написать, да? Потом он научился ходить на другие сайты, это была большая проблема, но придумали, как это называется, когда ты к формочке хэш добавляешь, ну короче вот это вот шлка. CSF. Мне казалось, там больше букв, ну ладно. Вроде как победили, да, теперь ты вот заходишь на любую страницу и ты автоматически, ну потенциально становишься частью ПТУП-сети, ну офигеть теперь. Ну вот этого я совсем не хочу. Ну ты уже можешь стать частью ПТУП-сети, то есть ничто не мешает кому-то начать в твоем браузере майнинг биткоины, то есть ты берешь, там не знаю, загружаешь баннер какой-нибудь откуда-нибудь, там пролетает дживоскрипта, этот дживоскрипт начинает майнинг биткоина люто-бешено, ой. Я против, я осуждаю. На самом деле я знаю живых людей, которые реально включают дживоскрипты везде и они правы. Я тоже. Я пробовал, я пробовал. Не работает нихрена тогда. Gmail зайти. Нет, Gmail, кстати, работал некоторое время, там без дживоскрипта можно было, они там HTML рендерят, но просто вот сайты новостные там просто перестают работать. Или он работает, но не работает поиск. Все, до свидания, ничего на сайте не найти, приходи только читай. Ну что делать? Приходилось включать. Справедливости ради вместо Gmail ты можешь и Thunderbird зайти. Ну то есть это явно не тот сайт, в который надо пытаться без дживоскрипта зайти. Есть еще один прикол. Загружать только open-source гну дживоскрипты. Есть плагин к Firefox, который разрешает только open-source дживоскрипты. И там вообще ад. Потому что ты не знаешь, что open-source, а что нет. Ну скрипт знает, он что-то включает, что-то не включает и там тогда непонятно, как вообще все это работает. Но много пользователей над это есть. Для этого. Ну пользователи этого плагина. Safari, если я правильно понимаю, сейчас делает довольно прикольную штуку. В 12-м релизе, я не уверен, что я сейчас правильно скажу, что она делает. Но если я... Ну в общем, похоже, что они не включают дживоскрипт, который прилетел с другого сайта или как-то так. Хотя я не уверен, что именно так работает. То есть идея в том, что они отключают по умолчанию всякие типа Facebook кнопки и так далее. И включают только тогда, когда пользователь с этим элементом проявляет взаимодействие. Я не уверен, что совсем они дживоскрипт выключают или просто хэд ТП запроса внешне. Ну вообще это круто, если они так будут делать. Потому что тогда сайты будут работать быстрее. Я пользуюсь ублоком, он тоже вырубает кучу всего. И да, тогда по интернету приятно ходить. Когда минимум, загружен только минимум. И всяческие маркетинговые хрени не работают больше на твоей машине. Я, как бы это сказать, рискнул сделать прогноз на недалекое будущее, что появится инициатива сайтов, которые либо вообще не имеют дживоскрипта, либо имеют самый минимум. Ну типа, что когда ты в форме вверху поставил галочки, у тебя по всей табличке проставили галочки. То есть какой-то такой совсем минимум дживоскрипта. И будут какие-нибудь плагины к браузерам, которые тебя на такие сайты пускают, а на другие не пускают. Там с сообщением, что просите дживоскрипт, там вообще ад, непонятно, что будет. Скорее всего, знаешь, Валера, как раз с этой темой с клаудфлэером. Джаваскрипт будет выполняться на клаудфлэре, и тебя будет загружаться уже статической HTML. Так, Саид, вот это звучит довольно реалистично, потому что, ну, соответственно, совсем выбросить мы его не можем, потому что у нас вся маркетинговая рекламная инфраструктура на этой фигне написана. С другой стороны, до бесконечности сувать всякое говно на клиента уже как-то задалбывает. С третьей стороны, сувать все говно на сервер, и что еще хуже. Поэтому интересно, куда это все придет. Поэтому клаудфлэер все стерпит. Кто еще все стерпит? Это Postgres. Postgres долгие годы оставался, ну, был и оставался, и вообще, не знаю, наверное, начал быть, он, наверное, с 98-го релиза, мне кажется.",
    "result": {
      "query": "Cloudflare workers key-value cache"
    }
  }
]