[
  {
    "segment_id": "8eaeab98-0654-4e67-a58e-17e380e5f2a1",
    "episode_id": "f69621c7-0f38-450e-a684-e68c93d92b2e",
    "episode_number": 481,
    "segment_number": 3,
    "text": "Добавил такую функцию. Параллельно обратил внимание, что если ты откроешь документацию на функции для работы с массивами, там перечислены все функции и одна из них выбивается то есть у тебя там есть arraylanx arrayfeel и так далее тому подобное и trim array и я подумал что это довольно тупо и надо поправить но чтобы все функции начинались с array подчёркивания чтобы было консистентно вот и у этого есть практический смысл помимо того что это красиво в постгресе есть точнее так в команда обратный слеш df то есть как бы definition of function как-то так она расшифровывается и ты можешь посмотреть информацию о функции прямо в psql, что удобно. Плюс ты можешь использовать не регулярки, а например ты можешь написать DF, Array, подчёркивание, звездочка и он тебе выведет информацию обо всех существующих функциях, которые начинаются с array подчёркивания. И получается, что ты вот если хочешь в psql посмотреть все функции для работы с массивами, ты увидишь их все, кроме trim-array, потому что у него имя перевернутое получается. На самом деле есть еще две функции это unest и cardinality. Cardinality я никогда не использовал, мне кажется это не самая часто используемая функция. По-моему это как раз таки то, что я, мне кажется, если ты обычно получаешь от меня, чтобы узнать размер чего-нибудь. Нет, для размера у тебя есть ray length. Но кардиналит тоже работает? Кардиналит работает для многомерных массивов. Правда, он специфично, по-моему, работает. Но я вот сейчас не готов без PSQL рассказать, в чем разница. Я могу сказать, что я лично никогда не использовал, мне было не нужно. Опять же, с массивами такой прикол, что обычно ты примерно знаешь что вот в этом контексте у тебя массив будет одномерный ну и так далее вот и я предложил патч который переименовывает trim are в tray trim но в posgracy серьезно относится к обратной совместимости поэтому я предложил что TRIM мы как бы выпиливать не будем но мы его сделаем не задокументированным ну то есть ты можешь его вызывать если у тебя код уже написан он уже его вызывает но в документации он не будет упоминаться и там типа лет через 10 мы его выпьем обычно в podgres если что-то депрекетится оно депрекетится подобным образом по крайней мере вот по моим наблюдениям в podgres иногда депрекетятся некоторые операторы и тому подобное. И в обсуждении выяснилось, что вот я этого не знал, и об этом, собственно, тема, что, оказывается, TRIM-ARAY функция называется таким образом не просто так, а потому что она определена в SQL стандарте. И вот она там так определена, и поэтому по возрасту, чтобы быть compliant с SQL стандартом, он тоже должен иметь такую функцию. Но там дальше было короткое обсуждение, что, может быть, мы сделаем alias или как-то ещё это решим, потому что довольно то, как она сделана сейчас, или может быть мы в документации напишем, что TRIM ARAY так называется, чтобы соответствовать стандарту.",
    "result": {
      "query": "PostgreSQL array functions naming consistency"
    }
  }
]