[
  {
    "segment_id": "6f0ca7c5-e43c-4344-b1c6-62dc360a3f87",
    "episode_id": "a9b6eb64-056f-4f23-8908-78edb5f95487",
    "episode_number": 435,
    "segment_number": 5,
    "text": "То есть вопрос здесь был не в базе данных, проблема была не в базе данных, однозначно. Но с другой стороны, если бы мы стартовали со Spanner, который геораспределенный и так далее, мы бы не получили ничего лучше. В смысле, плюсов никаких бы мы не получили. Ну вот, собственно, я о том же ровно и говорю. Да, да, да. То есть есть очень маленькое количество бизнесов, которым реально нужен масштаб уровня Facebook или уровня Google. И наш любимый аргумент, что в тот момент, когда вы до такого масштаба дорастете, у вас будут деньги или купить проприетарное решение, или купить людей, которые вам захостят что-то из open source. Ну, нанять людей, в смысле. Что ж, на этом моя тема все. Вроде, если есть какие-то еще вопросы, может быть, могу ответить. Да, давай бегайся дальше. Дальше тема одной строкой. Я на прошлой или позапрошлой неделе или на неделю, за неделю до этого узнал про штуку, называется Zenbleed. И эта история под названием спекулятивное исполнение наносит ответный удар. Потому что в ряде процессоров AMD Ryzen, а также AMD A7, APEC была найдена уязвимость, что ряд инструкций из набора AVX2, инструкции, которые делают векторное исполнение на больших регистрах и активно используются в частности в строковых функциях языка C, как то strlen и подобное. Потому что строки можно сравнивать, когда у тебя регистры большие или искать в них длину, конец строки искать. Оказалось, что аппаратная реализация соответствующих ассамблерных инструкций содержит баг, который проявляется, когда процессор пытается спекулятивно исполнять инструкции. И я детали уже не воспроизведу, но где-то какой-то флажочек утекает и глядя на него, можно извлекать данные из других программ, параллели и так далее по ссылке. Надеюсь, все детали я очень вдумчиво прочитал где-то до середины, понял общую идею, потом остаток прочитал по диагонали, но сейчас я вам этого не перескажу, потому что там вот нужно вникать в ассамблерный код, который для AVX2. Как обычно, все подобные штуки, все подобные уязвимости, это использование сайт-ченнелов, так называемых. Я не читал данную статью, но все предыдущие, которые мы рассматривали, это вот когда мы спекулятивно что-то исполняем, мы заодно можем потом померить скорость доступа к какой-то памяти, к какому-то регистру, инициализацию или неинициализированность или неинициализированность какого-то отдельного регистра и так далее. То есть как бы мы выполнили что-то, а потом знаем, куда мы пошли. Чтобы понять, в каком направлении мы ходили. Ой, это такая боль, если честно. Вся эта спекулятивность. Да. Что еще боль, это если вы используете СУБД, отличную от ПАСГРЭСа. На этой неделе запустился годный ивент, я не знаю, как это правильно называть. Компания Timescale предлагает вам пройти опросник. Там что-то около, там несколько десятков вопросов, но смысл которых в том, как долго вы пользуетесь ПАСГРЭСом, а для чего вы его используете, а по работе не по работе. Если отвечаешь, вопросов будет, может быть, меньше или больше. Все эти данные, они собираются анонимно, анонимизируются, и на основании этих данных публикуется, во-первых, отчет просто для всеобщего ознакомления. Во-вторых, публикуются сырые данные, опять же, без каких-то персональных сведений, которые можно проанализировать вручную, если вам не нравится то, что Timescale для вас сагрегировала, сагрегировала как компания. Проводится это, по-моему, в третий раз, и каждый год в опросе принимают участие, все больше и больше людей, что позволяет составить все более и более лучшее представление о сообществе пользователей Postgres. Рассмотрите возможность поучаствовать также. Ты, Валера, поучаствовал? Разумеется. Ты большой молодец. А мы плавно переходим к следующей теме. Я хочу поговорить с вами о 3D-печати. Но сначала экстренные новости. Экстренные новости заключаются в том, что пластик 5G оказался крепче эпоксидки. Представьте себя. Вы можете помнить... Да ладно тебе. Че, прям вот так вот? Я понимаю. Я тоже думаю, что нет... Ну, кроме эпоксидки... Я слушаю. Кроме эпоксидки может быть тверже и надежнее только суперклей с содой. Но оказывается, что пластик 5G крепче их всех. Я в предыдущих тубзанах рассказывал про напечатанный на принтере совочек для кошачьего лоточка. И про то, что он состоит из двух частей и потом склеивается эпоксидкой. И он сломался в том месте, где он склеивался эпоксидкой. Как ни странно. А не в том месте, где у него пластик. Я абсолютно убежден, что умею пользоваться эпоксидкой, что я ее правильно в правильных пропорциях смешиваю, как следует, что я поверхности обезжириваю и что они достаточно шершавые для того, чтобы эпоксидка хорошо хваталась. Но факт остается фактом. Эпоксидка поломалась, а пластику хоть бы что. Вот совочек прослужил около месяца, наверное. Модель не рекомендуется к повторению. Вот. Это была такая просто кратенькая новость в этом контексте. А о чем я хотел на самом деле рассказать. Я тут на ютубе нашел прикольный канал о 3D-печати и всяком таком. Он называется FabLab. Не буду пересказывать его содержимое, просто посмотрите парочку видео, которые вам понравятся и сделайте собственные выводы. Вот. Но в одном из видео была замечена интересная модель на сайте Printables. Printables это такой же сайт, как Thingiverse, только Printables он от компании Prusa, насколько я понимаю. А Thingiverse он от Ultimaker, что ли? Надо открыть, чтобы вспомнить. От Ultimaker, все правильно. Вот. А так это и то, и другое в каталоге моделей. И на сайте Printables была найдена модель The Thing из семейки Adams. А также из сериала Середа. Там про девочку по имени Середа. Может помните такой. То есть это вот эта отрубленная рука, которая живет своей жизнью. Это достаточно большая и сложная художественная модель. И у меня возник вопрос. Сможет ли его напечатать мой 3D-принтер? В этом контексте я вспомнил еще одну интересную ограниченному количеству слушателей. Интересную вещь. Помните мой старый 3D-принтер? Он сломался окончательно. Я после нескольких... Ну, у него вот эта проблема с движением стола вперед-назад, про которую я рассказывал раньше в Довзенах. Я в какой-то момент был абсолютно уверен, что ее починил и проблема ушла, когда я там потянул ремни, переставил шаговые двигатели и так далее. И вообще выставлял его на авито. Нашелся даже покупатель, покупатель говорит, все отлично, беру, а можно пожалуйста, видео демонстрации работы. Я бы его и так в любом случае стал бы снимать. Я взял за привычку, что когда ты в социальной сети для что-то продаешь, нужно снять видео с демонстрации работы, чтобы потом не было вопросов а вот там курьеру уронил, или кто-то, кто у тебя купил, за 15 минут разломал лот, который он у тебя купил. Просто показать, что перед тем, как я отправлял, оно работало. И когда я снимал это видео, я понял, что принтер снова не работает. То ли потому, что у нас здесь адовая жара и обмотки в шаговые двигатели стали немножечко ширше и опять замкнули, или что-то пошло не так, но он опять не работает. И мне было влом его чинить, поэтому я, опять же, не помню, я в предыдущих дебзенах это рассказывал под запись или нет, или в пришел, но у нас тут есть небольшая свалка и я ненужные вещи отношу на свалку и оставляю там на местах, на видном месте. И за час, максимум за два все ненужные вещи, они моментально исчезают. Вот. И так же я поступил с старым принтером, потому что, ну, в принципе, там, наверное, какие-то ценные шаговые двигатели, там относительно ценный блок питания, там ардуинин внутри стоит на секундочку, и, собственно, контроллеры шаговых двигателей, ну, то есть, там, типа, он, наверное, что-то стоит, но я понимаю, что, ну, распродавать его по частям, это просто у меня займет больше времени, чем я, ну, мое время дороже, чем потенциальные выгоды. Вот. Поэтому я его отнес на это специальное место, и хочется надеяться, что кто-то получил себе бесплатный 3D принтер на восстановление или на запчасти. Вот. Такая вот занимательный конец истории про мой старый 3D принтер. Прощай, старый друг, твой подвиг будет воспет в легенде, нажмите F. И, да, это, я все еще убежден, что это лучшие 200 долларов, которые я потратил в своей жизни. Этот принтер исправно служил мне 6 лет, и он, он печатал, я не могу сказать, что он был там как-то безумно удобен или безумно быстро или что-то, но он печатал за эти деньги, он печатал 6 лет, и я считаю, это потрясающий результат. Так, вот. Художественная модель, которую я увидел на YouTube, и ее печать на моем новом 3D принтере, который, напомню, призрак летающего медведя модель 6. Замечание. Я заметил, что поскольку этот принтер намного тише моего предыдущего, то меня теперь нисколько не смущает печатать большие модели, которые печатаются в сутки или двое или трое, и принтер надо печатать, но, в общем, это не так. И принтер надо оставлять на ночь, потому что я закрываю его в комнате, и мне это нисколько не мешает спать в другой комнате, что раньше не работало. Как результат, благодаря тому факту, что принтер стал более тихим, я печатаю, ну, или могу печатать намного больше. Вот, и да, занимательно неочевидный факт, когда у тебя принтер... Сейчас, в общем, в мире 3D-печатин, среди производителей 3D-принтеров, есть тренд. Тренд заключается в том, что все гонятся за скоростью, кто печатает быстрее. А вот я Бенчена печатал за 30 минут, а вот я за 20 минут и так далее и тому подобное. Но не совсем очевидный факт, и это тоже что-то... Ну вот, автор этого YouTube-канала, один из авторов, их там целая команда работает, он с этим аргументом согласен, что... скорость важна не менее, чем то, как тихо работает принтер. И на то есть резкие причины, то что быстрые принтеры, они также и достаточно дорогие, сравнительно дорогие, и если у тебя есть, например, медведь, а тебе нужно печатать много, и поэтому ты хочешь печатать быстро, ты можешь поставить рядом два медведя или три медведя, и за те же деньги печатать в три сопла параллельно, и эффективно иметь большую скорость. То есть скорость, она масштабируется. Уровень шума от 3D-принтера нифига не масштабируется, если у тебя три тихих принтера, они печатают, ну, наверное, громче, чем один принтер, но все еще тихо. Если у тебя один громкий принтер, ты с этим нифига не можешь сделать. Это я все потому, что я очень рад, что у меня тихий принтер, хотя и возможно не очень быстро, это позволяет мне печатать больше. Тестирование на этой модели выявило интересный дефект. Не в принтере, как можно было подумать, а к моему удивлению на пластике. У меня есть пластик от двух производителей. Один производитель это Best Filament, а второй производитель, точнее второй бренд, называется Geek Filament, а производитель, по-моему, U3D Print, ну, как-то так называется компания, у них несколько брендов, и вот один из них это Geek Filament. Geek Filament стоит около 1000 рублей за 1000 грамм, тогда как Best Filament, он примерно в полтора раза дороже или 1,6 раза дороже. Вот, и казалось бы, и там, и там пыла, какая разница, чем печатать. И действительно, я подумал, что давайте-ка я изведу пластик подешевле, ну, раз уж у меня есть и такой, и другой, то воспользуюсь тем пластиком, что подешевле, тот пластик, что подороже, оставлю на потом. Ну, не знаю, просто не суть важно, почему. И оказалось, что спустя часов 10, наверное, после начала печати, у меня появился характерный стук в моторе, который прокручивает, не в моторе, а в шаговом двигателе, стук в шаговом двигателе, который прокручивает пластик через сопо. Это значит, что у тебя что-то где-то заело. И моя первая реакция, что может быть у меня в бобине запутался пластик, такое иногда случается, редко, но бывает, что у тебя пластик в бобине намотан как-то неудачно, и он запутывается, но нет, это не причина. Может, бывает, что в сопло набивается пыль, грязь и всякое такое прочее, но обычно это появляется не на первый месяц работы принтера, а на пятый год, и наученный горьким опытом я стал пластик пропускать через кусочек губки. То есть берете обычную губку, разрезаете, делаете в ней дырочку, пропускаете через эту дырочку пластик, и губка собирает на себе пыль, грязь, все, что могло потенциально попасть в сопло. Это действительно помогает забиванию сопла, я проверял. Поэтому, ну, этот вариант я тоже исключаю, вряд ли у меня за месяц так сильно забилось сопло. И, внимательно осматривая принтер, я так и не понял, что является причиной. У меня есть только одно правдоподобное объяснение, что в филаменте имеется некоторое количество примесей, и, возможно, они распределены неравномерно какими-то сгустками, и вот так не повезло, что у тебя сколько-то метров печаталось нормально, а потом пришел вот этот сгусток, который не смог расплавиться в сопле, и, притом, там не так, что прям наглухо забило, у тебя пластик, он все еще идет, но он идет с большим усилием. И ты можешь отодвинуть сопло, ты можешь вручную промотать пластик, он идет с трудом, с трудом, с трудом, потом начинает идти нормально. То есть, как бы, все, что было набито, оно прососалось. И ты можешь продолжать печать, но проблема в том, что ты заметил этот дефект поздно, и у тебя несколько слоев печатались недостаточным количеством пластика, и модель, она уже испорчена, нужно начинать печатать заново. При этом, это не первый раз, когда я замечаю такой дефект, и именно на гиг филаменте. И по-моему, это было даже на другой бобине. Я не понимаю, как можно делать такой пластик, но я снял эту бобину, я спрятал ее куда-нибудь подальше, и зарядил Best filament, и с Best filament у меня отлично все напечаталось, у меня никогда не было проблем с этим пластиком. Казалось бы, ну и что? Ну, попался неудачный пластик. А если мы вернемся к этому YouTube-каналу, и посмотрим на нем обзоры, то там тоже есть, помимо прочего, сравнение, разных пластиков, и в частности, сравнивается, ну, Best filament, GIG filament и разные другие, и прочее.",
    "result": {
      "error": "API request failed: Error code: 400 - {'error': 'Trying to keep the first 4146 tokens when context the overflows. However, the model is loaded with context length of only 4096 tokens, which is not enough. Try to load the model with a larger context length, or provide a shorter input'}",
      "stack_trace": "Traceback (most recent call last):\n  File \"/home/andrei/Projects/podcast-shownotes/scripts/build_search_eval_dataset.py\", line 157, in generate_search_query\n    response = await self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py\", line 1927, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1767, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1461, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1562, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.BadRequestError: Error code: 400 - {'error': 'Trying to keep the first 4146 tokens when context the overflows. However, the model is loaded with context length of only 4096 tokens, which is not enough. Try to load the model with a larger context length, or provide a shorter input'}\n"
    }
  }
]