[
  {
    "segment_id": "ec7fa521-9a41-4017-99f1-e74c88072625",
    "episode_id": "db3a3c72-e77e-42c0-afff-9989dc4d5106",
    "episode_number": 144,
    "segment_number": 7,
    "text": "Помимо ROX.DB есть еще ProxyGen, это их EmbeddedHTTP сервер, например, для крестов, который там какую-то немыслимую нагрузку держит, например. Еще у них там есть что-то для трифта, и вообще там у них есть целый сайтик, посвященный C++ стэку в Facebook, в open-source, с правильной лицензией, читай, не JPL. Так что да, там у них много всякого интересного, вот ROX.DB в том числе довольно интересная штука, очень приятно пользоваться, и такой приятный, ну, как бы не слишком сложный код. То есть ты вот прям открываешь случайный файл, смотришь, и тебе понятно, собственно, что там происходит. Вот это хороший знак, большая редкость в мире баз данных. А собственно тема про то, что, ну, я же подписался на блог, разумеется, ROX.DB, и там пишут про то, что выходит, ну, зарелизилась версия 5.4.5, и там разное хорошее в начале, а багфиксы в конце. Я смотрю на багфиксы, и мне становится немножко стрёмно, потому что там типа, не знаю, использование адреса после выхода из коопа, ой, или там типа, дата рейсы, ой. Ну, и там вот всякое такое. Ну, мне становится страшно за людей, которые это протащили напрот, типа, ребята, у вас там дата рейсы, и вот это всё. Ну, надо сказать, что во всех базах данных есть баги, но в некоторых других базах это там типа, один баг в год, там из разряда, что если вы выдернули шнур из розетки, у вас там могла пара записей потеряться, но мы это уже пофиксили, такого рода баги. А тут прям баги-баги, и это как-то стрёмно. А на самом деле, насколько я знаю, RoxDB в продакшене у самого Фейсбука, и возможно здесь немножко другой эффект, у неё настолько большой продакшен, что вот те баги, которые вылезают раз в год в других базах, здесь вылезают так часто. Ты не забываешь, что тут другую базу у неё, возможно, инсталляции побольше, чем у RoxDB? Ну, под такой ли нагрузкой? Это хороший вопрос. Ну то есть, я не знаю, что сейчас с Rox, потому что его пилит, видимо, до сих пор всё хорошо. И то есть у Фейсбука на нём, опять-таки, по последним данным, которые у меня есть, возможно, я уже не прав, возможно, у меня были неправильные данные, оно используется в хвост и в гриву, в очередях, в их Project Manhattan, нет, Manhattan у Twitter, а у Фейсбука Apollo, что-то такое. То есть во всех этих штуковинах внезапно используется именно Rox, кроме там совсем каких-то in-memory вещей, ну и кроме аналитических вещей. Естественно, ожидать, что Rox используется под миллионы её пользователей из всего мира, это, наверное, достаточно правильные ожидания, или взгляд на то, как оно есть. Меня ещё беспокоит, что там, условно говоря, на 15 баг-фиксов они добавили 15 фичей, как-то это беспокоит меня. То есть количество фиксов равняется количеству багов? Ну в смысле, знаешь, там типа 15 багов исправили, 20 добавили. Отлично. Кстати, интересно, что я обнаружил, что область применения RoxDB несколько ограничена в ваших приложениях. Ну например, если вы просто хотите KVL с рейндж-сканом, то нормально. А если вы, например, ещё хотите добавить какие-нибудь уникальные счётчики к своим записям для получения каких-нибудь снапшотов, например, то уже как-то странно для этой использователь RoxDB, по той причине, что у него они есть внутри, по идее, но он их просто не выбрасывает в API, и у вас будут лишние данные. Или, например, нельзя при помощи RoxDB сделать постраничное шифрование или постраничное сжатие. Мне кажется, можно, но с костылями. Ну да, в API либо не проброшено, либо проброшено не очень. Ну там такая же история, мне кажется, куряк, у тебя есть открытый API, который у тебя прям для писателя приложений. Есть API, ну такой, сравнительно внутренний, то есть то, что они сами его расширяют, и оно сравнительно стабильное, потому что они сами его расширяют через этот API, и, мне кажется, сделать постраничное шифрование через это можно, просто это будет как-то снаружи, это будет по сути pull request в Rox, скорее всего. И я скорее к тому, что я с удивлением для себя обнаружил, что может быть не лишено смысла, условно говоря, написать свой B3 с LRU кэшом, но именно для твоих задач, для твоих экспериментов с бэкэндами это может быть намного более выгодно.",
    "result": {
      "query": "Rox.DB bugs production usage"
    }
  }
]