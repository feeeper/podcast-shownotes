[
  {
    "segment_id": "3b477520-addf-4e7c-8acc-7c2c0e11ebaa",
    "episode_id": "fde34d44-b54b-4db0-8a1c-b324e8c1b6e1",
    "episode_number": 420,
    "segment_number": 2,
    "text": "Там может быть дверь в Нарнию. Там может быть бутылка с коротовухой. Там внутри может быть абсолютно все, что угодно. Поэтому... Я думаю, тот, кто его забрал, все правильно сделал. То есть он у него сколько-то полежит в кладовке, позанимает место. И потом уйдет с Авито за пару тысяч. Так что... Слушай, ну и... Если там дверь в Нарнию, то ты продешевил, конечно, да. Вот. Еще чем я научился на этой неделе. Вот. Многие думают, что когда люди пишут базы данных, они там дофига алгоритмов шарят, там деревья вертят на досках, еще чем-то таким занимаются. Вот. Но это нифига не так. Я вот буквально сегодня занимался тем, что разбирался как в Perl, это поражает огромную часть данных, естественно ученых, у которых их там много было, которые были сейчас не в creej, так как предхожу ее wavelengths идущих, заходить в кайфомоид и добиться устройства, вокруг которые идут justeal. Если지� есть у нас неansenger.com тоже есть только ссылки в описании. Вот. интерпретируется в зависимости от того, кто их интерпретирует. И с этим могут быть проблемы, когда ты пишешь корос-платформенный код. Вот, например, например, в России, как вам известно, как и в большей части мира, ну, где-то в двух третьих мира, вот, допустим, у тебя есть дробное число. Одна десятая, да, 0, 1. Вот. В России, как вы замечательно, ну, совершенно точно знаете, пишут 0, 1 всегда. 0, 1. Если ты пишешь как-то иначе, там, с точки, не дай бог, это значит, ты просто безграмотный человек. И на эту тему есть замечательная карта на Википедии, прям кто где как пишет. Я ее преринковал в Шамотах, естественно. Вот. Если по площади смотреть, то вот реально большая часть мира пишет так. Так пишет вся Европа абсолютно, включая, кроме Великобритании. Кроме Великобритании, насколько я вижу, карта мелковата, правда. Так пишут во всей Южной Америке, ну, там, почти во всей Африке. Вот. Единственное, где пишут через точку, 0, 1, это в основном Китай, это в основном Индия, что... В Японии, что вместе, я так понимаю, это примерно половина населения Земли. Ну, и к ним уже просто, знаешь, как вот какие-то подражатели сбоку там прибежали Соединенные Штаты и Австралия. Вот. Вот. Но... Да, как так это работает? И вот переменные окружения эти, они, в частности, определяют... Если я вывожу дробное число, то как его правильно вывести через точку? Как больше половины человечества, пишут. Или через запятую, как пишут больше по площади часть человечества. Вот. И самое интересное случается, если у тебя, например, есть переменные LC all и LC numeric, и они имеют разные значения. То есть, например, в LC numeric ты написал, выводи мне числа, как будто я в России. А в LC all ты написал, выводи мне, как будто я в Соединенных Штатах. И это совершенно законный сетап. И если ты вот берешь Ubuntu 2204 LTS релиз, и просто его ставишь, и ставишь совершенно дефолтную Ubuntu с единственным отличием, что выбираешь тайм-зону Москва и включи мне русскую раскладку на клавиатуре, все. А в остальном это обычная русская Ubuntu. То когда ты зайдешь под юзером, у тебя именно такие переменные окружения и будут, что LC all как в Соединенных Штатах, но numeric российский. И начинают происходить удивительные вещи, потому что например, Passgress, когда база Passgress она уважает переменную окружения LC numeric и начинает выводить и ожидать от тебя, в том числе вводы, через запятую. Но, например, Perl, на котором написаны, в частности, скрипты для тестирования Passgress, у него радикально другое отношение к переменным окружениям. И оно совершенно задокументировано. То есть, если почитать Perl.doc, Perl.locale, там прямо написано, что если установлены переменные окружения LC all, то мы все остальные переменные окружения игнорируем и для всего используем LC all. Вот. И как результат, ну, новый добавленный тест в Passgress, он работает замечательно, он работает везде, кроме тех сетапов, где он не работает, вот как, например, у некоторых российских разработчиков, у меня и еще одного. И таким образом на этой неделе я узнал много интересного про странные переменные окружения типа LC numeric. Алекс, ты тоже числа, пишешь, как у вас в стране принято, через запятую, правильно? Нет, я плохой, я пишу через точку, это моя боль, потому что помимо знака отделяющего дробную часть, есть еще значки, которыми разделяют тысячные единицы. И когда ты смотришь на, я не знаю, там, тысяча, запятая, ноль-один, у меня всегда возникает вопрос. Во-первых, в какой локале это подразумевалось? Во-вторых, в какой локале мы реально работаем? В третьей не сломана ли локаль? Я не знаю, то ли это однотысячная и однотысячная, то ли это что получается, там, миллион-один, да? Я не знаю. Это всегда боль, поэтому я всегда просто использую американскую локализацию на всем, что позволяет мне использовать американскую локализацию. Тогда у меня не возникают проблемы с копипастом, там, я не знаю, из калькуляторов исходный код и так далее. Ну, и я страдаю от этого очень сильно. Антон Каюков в чате задает хороший вопрос. Имеет ли значение, где выставлены переменные окружения на сервере или на клиенте? С точки зрения тестов вообще никому нет дела, потому что тесты гоняются на одной машине. Вот, но в данном конкретном случае была проблема с PSQL. Мне, я не готов вот сейчас прям закоммититься. Мне кажется, что сервер, скорее всего, имеет настройки на уровне сессии, а не на уровне переменных окружения процесса. Вот. Но это не точно. Я, как я и сказал, я этим серьезно начал интересоваться вот буквально этим утром. Там в чате ICRainbow еще справедливо замечает, что с американской локалью проблемы с датами начинаются. И да, это еще одна моя большая проблема с локалями, поскольку работаю я в большой мультинациональной компании. У нас есть американцы, их много. И у нас есть европейцы, их много. И они используют разный порядок для месяца и дня месяца. И каждый раз надо уточнять, а в каком смысле ты это написал? Ну, если не очевидно там, что не бывает 31 месяца. Это тоже раздражает. Даты я обычно пишу год, месяц, день. Потому что они лексикографически сортируются, и это однозначный порядок. Я на всякий случай, чтобы точно не было недопонимания, пишу месяц буквально. То есть там 0.03 мар.",
    "result": {
      "query": "LC numeric locale issues"
    }
  }
]