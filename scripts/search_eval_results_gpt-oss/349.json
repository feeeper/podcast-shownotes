[
  {
    "segment_id": "f2ba5eed-8312-449f-9277-2b4554d41723",
    "episode_id": "3815dc08-2219-4b94-a8fa-08dfd70c1840",
    "episode_number": 349,
    "segment_number": 5,
    "text": "А их потенциально может быть много, потому что ты никогда не знаешь, сколько у тебя циклов ETL-а произошло от исходной колонки до того места, где оно в последний раз отETL-илось. Ну, то есть, типа, у нас была какая-то колонка в комнате, не знаю, файлики где-нибудь. И вот мы по ней один набор данных построили, потом по этому набор данных, другой набор данных построили и так далее. И вот эта вот матрешка может далеко раскручиваться, она может быть нелинейная, а типа в сторону идти. Все, понял. Вообще интересная штука графа и баз данных. Я не то что с ними много работал, я вот одна из причин почитать про патчи H, это вот подтянуть, подтянуть знания. Мы переходим к следующей теме, а следующая тема это новый доклад, ну как новый, в марте записанный. Свежепосмотренный. Свежепосмотренный. Из серии Vaccination Database Tech Talks. На этот раз Адам Коколоски из IBM Cloud рассказывает нам про инновационные выборы в патче CouchDB. В этом контексте, я думаю, стоит вспомнить, что мы знаем про CouchDB, потому что мы его не то чтобы в каждом выпуске вспоминаем, а между тем это очень всратая база данных, я бы сказал. Не, подожди, ты CouchBase или CouchDB, ты их не путай. CouchDB. Да, CouchDB он, они оба всратые, но по-разному, и CouchDB он прекрасно всрат. Это просто, это с точки зрения архитектурной астронавтики, это просто моя любовь к детцу. А может быть я имел в виду MemBase? Что? Нет, подожди, там точно был Couch? Ну, ты спросил, имел ли я в виду CouchDB или CouchBase, а может быть я имел в виду MemBase, если еще такая база. Мембейс же был поглощен CouchBase'ом. Это же когда CouchDB и MemBase слились в компании Ecstasy, которая произвела CouchBase. Разве нет? Про сливание в Ecstasy мы еще поговорим. Так вот, на самом деле, занимательный факт в компании, где мы с Валером вместе работали, в том CouchDB одного времени даже для чего-то использовался. Правда, я этого не застал, когда я, опять же, если память не подходит, когда я пришел, CouchDB его заменили на Mongo. Вот Mongo я уже немножко трогал. Там были некоторые данные, которые хотелось хранить в режиссоне и на обновлениях, которые хотелось подписываться. И это как раз то, что CouchDB делает неплохо. Сейчас мы об этом поговорим. Во-первых, CouchDB стал Apache CouchDB с 2008, как ни странно. Мне казалось, что позже. На данный момент он на 86% написан на Erlang. К вопросу, что написано на этом вашем Erlang. Но при этом на Erlang написан был, я не знаю как сейчас, но раньше на Erlang он был написан весьма специфично. Поясни, пожалуйста. Ну, ты же знаешь про все эти OTP principles и всякие другие вещи, чтобы правильно описать вот так, а не как-то иначе. Они их закопали в песочек? Не целиком их закопали в песочек. Есть такие, в базе прослеживались такие кольца, что какие-то вещи, я на были написан раньше, когда команда, которая разрабатывала Couch умела писать на Erlang гораздо хуже. Некоторые куски кода CouchDB похожи на мои первые похождения в Erlang. Потом они стали писать лучше, но я не знаю какая часть этого старого кода там осталась. Потому что, например, тот же самый RAEG, он был везде написан просто охренительно. То есть, RAEG это то, как можно было выучить Erlang, ну, точнее, как выучить правильно писать на Erlang, глядя на кодовую базу RAEG. Вот здесь, так вот сказать, не знаю как сейчас, опять же, но в 2010 году CouchDB был не лучшей кодовой базой на Erlang. Из других известных кодовых баз на Erlang у нас есть RAEG, но он вроде как выложен в Open Source, как-то лениво поддерживается, но не особо развивается по правильной мере, если я не прав. Все так. Или что кролик? Кролик, кролик наш всего, и CouchBase, но CouchBase он такой, он достаточно праприетарный, то есть он такой не совсем настоящий Open Source, но тем не менее работает неплохо. Я так понимаю, там, притом в CouchBase у них очень много всего, в частности, вот, особенно самое, что ближе всего к сохранению данных, оно потом было переписано на оси. То есть у них на Erlang в основном координация всего, непосредственно, если я правильно помню характер, непосредственно хранение и исполнение запроса нискруневок к диску, оно на оси. Потому что к CouchDB в свое время, целиком включая B дерево, было написано на Erlang. Сейчас, судя по тому, что ты говоришь, что на 80% написано на Erlang, я подозреваю, что они, наверное, тоже хранение переписали в итоге на оси. Дальше в докладе сообщается, что у них 185 тысяч строк коды и около 150 разработчиков. Суммарно, я так понимаю, не вся из них безумно активна. Актуальная на данный момент версия это 3.1. Напомню, краткая история такая, что когда вышел CouchDB 1.0, они более-менее зафиксировали опишечку и идею, что собой представляет CouchDB. В версии 2.0 они сделали шардирование, потому что в 1.0 был ряд фичей, но не шардирование. Что именно изменилось в версии 3.0, я не очень понял с доклада.",
    "result": {
      "query": "CouchDB architecture Erlang history"
    }
  }
]