[
  {
    "segment_id": "bd235f4b-3362-4ebe-9312-c462dd79896b",
    "episode_id": "bbefd318-6f87-4185-973f-3d9f09a6425c",
    "episode_number": 477,
    "segment_number": 10,
    "text": "И то ли у соответствующих контибьютеров не нашлось времени в этом релизном цикле, то ли имеет место быть вот эта проблема, что LVM он на самом деле для компиляторов, у него достаточно большой оверхед на трансляцию. Это мы точно разбирали в каком-то из докладов CMU, насколько я помню. Валера по профессии загоню. И поэтому когда речь идет про то, чтобы сжить, скомпилировать SQL-запрос как можно быстрее, LLVM это не обязательно лучший инструмент для этого. Что характерно, системы, которые на что бко большие компиляторы полагаются, они не пытаются теперь запрос как можно быстрее скомпилировать, они просто скажем если у тебя какой-то запрос частый, ну или даже некоторые даже не часто они просто асинхронно это делают, компилируют, сохраняют бинарник или могут даже коппилировать не весь запрос, а часть запроса которая там горячий час встречается и уже ее потом из кэша достают и исполняют еще есть вариантик интересно как это делает например ClickHouse он вообще ничего не джигит у них просто осведомлен шаблонная магия которая специализируется под популярной специализацией, ведь у тебя просто каждый оператор имеет версии под популярные варианты того как часто исполняется Из за этого там бинальник очень большой, но кого волнует размер бенальника в 2024 году когда у нас все равно электронные везде кладут По поводу конкретно посгресов я думаю там скорее проблема еще в том что низковисящие фрукт сделали собрали пойди попробуй нормально скомпилируй какой-нибудь существенный кусок под запросов посгреси где у тебя вообще все нафиг перегружается ты можешь любой оператор куда угодно как угодно понаделегировать пона абстрагировать пазГресс очень модульный из-за этого его очень сложно оптимизировать почти все очень быстрые движки отличаются тем что у них на горячем пути нет такой решаемости как я еще пазГресс И в заключение этой темы имею сказать, что возможно вы не хотите сразу обновляться на 17.0. Считается неплохой практикой подождать ну хотя бы 17.2, а может быть 17.5, по-разному, но хотя бы 17:2 потому что баги находят. Будут ли они критичными или нет это не факт. Не факт, что они будут критичными, но в окружении, где много данных и вы не хотите их потерять, вы скорее всего 17 том себе давить ну не стоит. Живите спокойно на шестнадцатом, он тоже классный. Другие темы. Андрей Я хочу еще подсветить пару вещей, которые волнуют. Давай. Во-первых, то что они на форуме слушателей в Postgres есть такой механизм foreign data frapers, который позволяет как посгрессовой таблице представлять что угодно, включая, например, другие удаленные Postgres или еще что-нибудь. Научились в АЧУВДВ теперь Так, теперь Postgres qlfdv, который стандартный, который для подключения других Postgres умеет пропихивать в удаленный PostGres Exists и In под запросы. Чем больше и масштабнее функционал тем лучше потому что это популярный инструмент для того чтобы как это партиционировать Pathgress по разным машинам и тут же как бы в эту же сторону расширил фон санкционированных таблиц, чтобы автоматически, я правда не знаю до такой степени автоматически, но чтобы хорошо типа более лучше работала на identity колонках раньше нужно было много поседаний, собственно почему temskill имеет свой хлеб, потому что портить и даже тогда когда в мозге завезли функционал позиционирования им все еще довольно сложно пользоваться, особенно так чтобы это работало хорошо и эффективно и особенно если вас стало Ты говоришь о партицировании таблиц? Да. Но причем здесь фдв? Фдв? При том что часто ты можешь иметь партиции таблицы и тдв. Я подумал, что я не едаешь не уверен, что это работает с фдв и с тем, что фдв работает с механизмом обычного позиционирования возможно ты прав наверное нужно использовать наследование плюс фдв плюс констрейнты чтобы именно вот это то о чем я говорю собрать в общем я такое видел просто есть процитирование когда ты одну таблицу на той же машине нарезаешь на 10 таблиц чтобы например можно было эффективно дропнуть кусок таблицы часто нужно для retention данных старых это одно процитирование а другое процитирование это когда у тебя шардирование. И вот тут я могу понять, где нужен ФДВ. Но мое понимание, как это дилетантское, субъективное понимание, что ФДВ он больше про аналитику, типа сходить в кучу ресурсов разных.",
    "result": {
      "query": "Postgresql foreign data wrappers partitioning"
    }
  }
]