[
  {
    "segment_id": "cf3c237b-86fe-4d29-a7d5-e5522731d850",
    "episode_id": "aa70cab5-fd4c-493b-8f85-ab8f26d7d090",
    "episode_number": 400,
    "segment_number": 11,
    "text": "И мне это очень не нравится. Я хочу, чтобы мне не надо было об этом думать. Как бы это так сделать? Как бы так поменять наш мир? Как бы так изменить технологии? Кто-нибудь мне ответит? Ну, во-первых, не заводите персональные аккаунты с рабочей почты. Это была явная ошибка с моей стороны. Я ещё на уровень выше. А почему ты вообще об этом должен думать? Это хороший аргумент. Я думаю, что корень проблем в том, что все для всего используют почту, а почта в целом достаточно сломана. Вот если бы не почта, у меня бы вот этой проблемой перенести персональный e-mail обратно на Gmail и перенести со всех аккаунтов, у меня бы, в принципе, не было этой проблемы, если бы, ну, первое, мы могли бы нормально платить за эти ВДС. А второе, если бы Gmail нормально принимала почту из DigitalOcean, ну вот они в своём сервисе решили, а вот мы ровно на половине бэкэндов отрежем DigitalOcean, и ты с этим ничего не сделаешь. И саппорт у них, в отличие от Атласи, он нифига тебе не отвечает. Просто как бы я понимаю, что я перешёл на свой домен, я ушёл на фастмейл, и я потратил на это несколько дней своего времени. Эти дни моего времени, они не появятся снова, я их полностью потратил на это. Что изменилось в моей жизни с точки зрения внешнего наблюдателя? Ничего. Ну, с другой стороны, раз в 10 лет, наверное, можно и потерпеть. Ну, у меня таких вещей вокруг наверняка будет куча, и e-mail просто один из таких примеров ярких, которые видно. То есть я очень чётко... У меня есть куча друзей, которые не айтишники, они вообще не понимают, что это такое я делаю. И я вот по таким людям сужу, насколько это на самом деле важно. И я понимаю, что если я таким людям объяснить не могу, что ж я такого делал последние несколько дней, отчаянно иногда ругаюсь и настраивая там всё где-то с дом, потому что там всё сломано. Вот. Но это на самом деле ненужная штука. Ну, то есть как бы должен быть какой-то уникальный почтовый ящик, как вот в этом, как его в Erlang-процессах. У тебя есть почтовый ящик, куда сыплются твои сообщения, которые направлены тебе. И рабочая-то почта, там и так далее. Ну, ты можешь на месте поглядеть, посмотреть, как-то отсортировать одно от другого. Но, блин, заводить себе аккаунт на VDS-е или переходить потом на DigitalOcean и плеваться при этом, и материть службу саппорта, и думать, кому заплатить денег, а вот не получать... Да, да ёшки-матрёшки, я не хочу решать эти проблемы, что за мир такой? Ну, я думаю, тут несколько моментов. Во-первых, те сервисы, которые посерьёзнее, они давно перешли на двухфакторку и в частности, через SMS. То есть, например, вот ты говорил, что помнишь пароль от банка. У меня в принципе нет пароля от банка, потому что мне SMS, когда на телефон приходит, когда надо войти, а я довольно уверен, что с телефоном моим вряд ли что-то случится и он в ближайшие лет 10 поменяется. Более того, там e-mail где-то в профиле есть, но это такая бесполезная штука, тебе никто никогда не будет из банка с тобой разговаривать по e-mail. Они, может, тебе какой-то маркетинговый материал пришлю, но не более того. И он там меняется чуть ли не без... Тебе даже подтверждать его не надо. То есть он там где-то есть, но нафиг никому не нужен. И у гитхабов в чём-то схожий подход, но не совсем. Ты там можешь указать кучу разных e-mail, то есть просто укажи десяток, ну один сломается и всем наплевать. И да, у него двухфакторка. Ну поскольку такой... Да-да, я согласен, что если придумывать идеальную систему, то в этой идеальной системе ты можешь легко указать кучу e-mail, ты обязательно добавляешь двухфакторно, ты можешь конфигурировать, чтобы тебе через телефон приходила ссылка или код какой-нибудь, и так далее, чтобы упрощать твою жизнь. Но это должно от тебя зависеть. И ни в коем случае не было бы, я не знаю, жёсткой привязки, ой, вы ввели слишком длинный e-mail, слишком короткий пароль, или ещё что-нибудь такое. Вот, на самом деле, я думаю, что... Ну помнишь, мы какое-то время назад загонялись, что вот если Google по какой-то причине тебя забанит, то всё очень плохо, ты, ну типа, все свои аккаунты типа потерял. Во-первых, статистически это маловероятное событие, чтобы тебя Google забанил. А у тебя он только что забанил. С чего ты взял? Ну ты только что говорил, что ты не можешь что-то поменять, потому что мы тебе не верим. А, ну это другое. Это другое, конечно, другое. Google что-то решил, и ты ничего с этим не сделаешь. Это отличное подтверждение твоих слов. Google – это не очень хорошее почта для коллективных e-mail, которыми больше не научен. Согласен? Я бы так сказал. Google – это не очень хорошая почта, если ты очень серьёзные вещи хочешь от неё сделать зависимыми. Вот, а тут второй момент. Мне кажется, мы как IT-женки слишком сильно прикипаем к нашим любимым Twitter, GitHub и всякое такое. Допустим, завтра меня Google заблокирует, и по какой-то причине я не могу сменить почту Twitter. Да и хрен с ним. Я сгенерю себе по вегенам новый никнейм, и сделаю себе новый GitHub и Twitter, и склонирую себе репозитория. Очень многое зависит от этого. Вот эту всю социальную, как-то онлайн-социальные сети, вот это всё потерять вообще не страшно. Так не только это страшно. Страшно потерять, например, счёт в банке. А Cloud? Но счёт в банке, он как раз к твоему, ну по крайней мере, вот мой, он к e-mail не особо привязан, там всех интересует телефон, а если ты потерял и телефон, и почту, и всё такое, ты можешь с любого телефона позвонить в банк, объяснить ситуацию, и к тебе придёт курьер, который тебя вот с паспортом на тебя посмотрит. То есть, как бы вот вещи, которые действительно страшно потерять, они к почте вообще не привязаны. К почте привязаны все твои старые знакомства. У меня есть куча людей, которые знают мою почту, и они мне могут написать. Но ты же их тоже знаешь? Или ты хочешь сказать, что ты потеряешь контакты из-за того, что не можешь в почту зайти? Во-первых, я потеряю контакты. Во-вторых, я не буду знать, что мне кто-то что-то написал. Это не знание о незнании. А написать всем своим знакомым я не смогу, потому что я у некоторых даже e-mail не знаю. Хороший аргумент. Я предлагаю тебе забегать в эти контакты, и в случае ЧП разошли всем почту, что так-то и так, вот мои новые контакты. Могу подтвердить, как хотите. Да, согласен. И более того, есть такая штука какая-то, которая подтверждает... Как же она называлась-то? Я, правда, ей перестал пользоваться. Джипиджи. Кстати, тоже верно. В чате Денис Васильев утверждает, что Яндекс.Почта была передана Mail.Ru. Я такого не видел в новостях, но я не должен был активно следить. Вы, пожалуйста, дайте нам знать. Заморожено и очищено. А вот, кстати, я считаю, что иногда неактивных пользователей в клауде нужно замораживать и очищать, потому что, ну кроме того, что бизнес теряет деньги и так далее, у тебя рано или поздно возникнет проблема, что люди умирают, ну просто они не живут вечно, а вот забитый кем-то никнейм и вот это вот всё, оно копится. И тебе через 100 лет придётся использовать какие-то невероятно длиннющие никнеймы из вот этого Александр 2023, а потом там номер INN, чтобы он вот точно был уникальный. Понимаешь? Так что реально неактивных пользователей, мне кажется, время от времени не грех заморозить и очистить маленечко, нет? Да, мне кажется, ты зря смерть рассматриваешь как причину. У меня куча виртуальных сущностей, может быть, про которые я забываю и, я не знаю, перестаю пользоваться и так далее. Да, да. Это сложный вопрос. Я, скажем, не заходил в свой ЖЖ 5 лет. Это он ещё мой или уже не мой? Ну, это легко решается. Тебе нужно написать письмо, где будет сказано. Иван, через полгода мы заморозим и очистим ваш ЖЖ, если вы не кликните вот сюда. А эта почта уже на Mail.ru, а туда я не заходил уже 6 лет. А ты пересылку даже не настроил? Я настроил пересылку, но как известно, не всякая пересылка всегда работает. У меня большая часть Mail.ru-шных уходит куда-то в спам, я даже их не читаю. Но, слушай, по статистике всё равно видно, что вот 5 лет человек не заходил в ЖЖ и никакой активности вообще там не везёт. И дальше пойдём. Да? Следующая тема. Да, следующая тема моя. В общем, прошёл PG-CONF EU в Берлине. Это, по-моему, первый PG-CONF европейский, потому что он очень удобным образом совпал, что он в том проекте проходил, вроде где я так живу, мне не нужно было никуда особо ехать. Плюс моя компания, в которой я работаю, была платиновым спонсором, и, в общем, мне было это в целом несложно попасть. Я решил, почему бы, чёрт возьми, нет. Пришлось, правда, поработать как-то на стенде немножко, но это легко пережить. Плюс я увидел кучу коллег, которых я никогда в жизни не видел вживую. Но я хочу на самом деле пробежаться по вещам, которые мне больше всего понравились. Ну, конференция в целом довольно маленькая, уютная, здоровская. Мне как конференция в целом всё понравилось. Я хочу пробежаться по вещам, которые меня так или иначе зацепили, как-то, не знаю, блин. Если будут слайды или если вы делаете доклад, можете ещё в другом месте найти, потому что здесь записей не было. Рекомендую посмотреть. В принципе, прикольный был доклад Performance Tips You Have Never Seen Before. Не то чтобы там совсем всё было для меня в новинку, но там действительно были некоторые... Я, к сожалению, уже не записал трюки с запросами, поэтому не успею сделать сейчас 100%, но там действительно были интересные как это... способы ускорять запросы. Дальше ещё что-то было. Извините, я хотел сделать список перед выпуском, но я, конечно же, этого не сделал. И теперь я очень стыдным образом скроллю через всё, что я смотрел. Да, прикольная тула, которую я вам рекомендую просто вот если вы пишете какие-то хранимки для пасгреса. Есть такая тула, про которую я не знал, называется PL Profiler. Это, в общем-то, знакомый нам инструмент Profiler, который умеет строить флейм графы. Но вот только теперь его сделали для PLPJSQL. Очень здорово. Mvcc Unmasked Брюса Мамжана. Это совершенно точный доклад, который он уже рассказывал в других местах. Поэтому... Ну, я его здесь впервые увидел, но я его рекомендую. Даже не странно то, что я какие-то отдельные вещи из этого материала знал. Просто очень хороший такой доклад, который где с самого начала до самого конца по полочкам всё раскладывают. И Брюс очень... Он просто очень клёвый докладчик. В принципе, всегда. Было два доклада про Neon. Один архитектурный. И, если честно, мне больше нравится тот, который на YouTube, про который мы будем дальше общаться. Я его ещё целиком не посмотрел, но именно потому, что там гораздо больше деталей, чем тот, который был в варианте этой конференции. А вот тот доклад про Neon, который мне очень понравился, он не технически вообще. У Neon, кроме вот... Мы приглашали всё время технических ребят из него. Есть ещё Никита... Я боюсь его фамилию произнести неправильно. Шамгунов. Не знаю, как правильно его произнести. Он в Neon выступает как технический фаундер. Он до этого мемсквелем занимался. И он рассказывал, как они, в общем-то, меняли... Как вот они от концепции «А давайте сделаем подсорств на Аврору» пришли к тому, чем они занимаются сейчас. Что по сути такой сервер из базы данных, которая является пасгресом, и которая существует ровно столько времени, сколько вы ею пользуетесь, а потом не существует. Поэтому это очень хорошо для экономики масштаба. Economy of scale. И ничего не стоит практически заводить там типа эфемерные инстанцы, для того, чтобы вы там, зайдя на сайт Hasura, поигрались с Hasura, используя Neon. И потом про него забыли, и он будет заморожен и очищен, или даже останется что-то там лежать. Никто никогда... Ну, типа... В отличие от, скажем, традиционного пасгреса в облаке, когда у вас всё-таки запускается пасгрес, и он работает. Где-то вот есть сервер, который крутит ваш пасгрес, вот лично ваш пасгрес. И где-то есть сторож под нем выделенный. А Neon, благодаря своей архитектуре, ему не нужно крутить отдельный сервер под вас. То есть, как бы, пришел ваш запрос, поднялся, эфемерный compute instance, сейчас он секунду поднимается, скоро, может быть, будет еще меньше подниматься, в смысле, еще быстрее подниматься. Пэйдж сервера подсосали в кэш со стри вашей волы и страницы. Они там пообщались, после этого compute instance выключили. С пэйдж серверов постепенно вымоется из кэша то, что там в вашей странице и ваш вол. Где-то на S3 за копейки это останется лежать. Если этим давно никто не пользуется, возможно... Ну, то есть, они про заморозку и очистку ничего не говорили? Это уже, как бы, моя интерпретация, что, в принципе, если чем-то никто никогда не пользуется, то их, в принципе, можно и заморозить и очистить, но я думаю, что им даже этого не придется делать, потому что стоимость хранения, не знаю, нескольких мегабайт на S3, она стремится к нулю. Вот. И, в целом, их подход к тому, что они хотят быть таким, не знаю... Их текущее видение, что они хотят быть таким passgres, который, типа, дефолтная опция, когда вам нужен passgres для чего-нибудь, для CI, для попробовать, а потом, может быть, и для продакшена. В общем, я не могу это все предсказать. Я надеюсь, Никита будет делать деклад где-то еще, потому что это было чертовски интересно слушать. И там он даже показывал свои... их пичдеки для инвесторов. Прям очень такой открытый деклад. То есть, недалеко не каждый фаундер готов просто прийти и рассказать вот весь этот процесс метания и там рассказать, показать вам пичдеки и всякое такое. Прям здорово было интересно слушать. Я прям очень рад, что сходил. Вот поэтому на passgres конференциях обычно нет записи. Ммм, окей. Не знал. Еще один такой деклад, который мне очень понравился. Это... он вообще не про passgres. Вот прям... там passgres-скиль только в названии, по сути. Это Exploring Linux Memory Usage and IO Performance for PassgresQL. В общем, это вот то, с чего я начинал сегодня выпуск. Я узнал, что Dirty Pages Ratio, оно не от того, от чего я думал, берется, это ратио. И там в целом деклад интересный. Я опять же не буду пересказывать. Я надеюсь, где-то еще это можно найти. Общий смысл такой, что... а ну слайды, кстати, есть. Я думаю, что на слайдах все, в принципе, более-менее будет понятно. Общий смысл деклада такой, что когда у вас есть Buffered IO, оно у вас практически всегда есть. Вам нужно очень аккуратно заботиться о том, сколько у вас памяти операционная система может забрать по, собственно, buffers для этого Buffered IO. Потому что Buffered Cache Linux, чем его будет больше, тем лучше у вас будет скорость операции с диском. И вот очень важно это не прощелкать, иначе вам будет больно. Вот если в двух словах не сказать. В следующем году пояснишь. На этом, наверное, все. Посмотрим, где будет проводить, если мне будет удобно путешествовать. Они не постоянно в Берлине, да? Каждый год? Нет, нет, нет, каждый год новая локация. Вот, дальше, дальше со что? Твоя тема. Да, случилось невероятное. Мы сегодня добиваем курс CMU Intro to Database Systems. Осталось два доклада в плейлисте. Один про OLAP, распределенные OLAP базы данных. В прошлый раз было про распределенные OLTP базы данных, а в этот раз про OLAP. А также короткая лекция на полчаса про Final Review, где половину времени докладчик рассказывает про экзамены, которые предстоят студентам, всякое такое. А вторую половину он буквально пересказывает краткую версию, что было во всем этом курсе. Какие темы, в каком порядке мы рассматривали. Его мы пересказывать не будем. И сосредоточимся на распределенных OLAP базах данных. Кстати, интересно, что последние две лекции имеют номера 23 и 25. 24 видео было гостевым, где по всей видимости приходил гостевой докладчик из Google и рассказывал про Bigtable. И видимо кто-то попросил это на YouTube не опубликовать. Там в плейлисте написано, что одно видео скрыто. То есть оно было записано, но на YouTube оно спрятано. Так что про Bigtable мы не узнаем. Ещё одно доказательство того, что компания Google очень злая, а Атласия очень добрая. Ещё занимательный факт, что сейчас на YouTube идёт тот же курс, но версия 2022 года. Его ведёт Энди Павло. И что мы говорили, я не помню, в предыдущем выпуске или предпредыдущем, про косяк про Captiarema. Я не поленился и написал в Twitter просьбу рассказывать про покелк. Ответа не получил, но получил несколько лайков на этот ответ. Доклад про распределённые Allap штуки. Здесь говорится про Extract, Transform и Load. Также ETL, то что у нас есть в LTP базы данных, из которых мы данные выгружаем, трансформируем и загружаем в другие базы данных, которые Allap. Здесь у нас звёздочки против снежинок. Я вот никогда таких штук не помню. Свет, ты помнишь, чем звёздочки отличаются от снежинок? Ты производишь впечатление человека, кто может это знать, я поэтому спрашиваю. Это схема базы, я так понимаю. Потому что я пыталась вспомнить, либо это база данных, либо это схема для баз данных, либо в сетях были звёздочки и снежинки. Там тоже есть, но мы про базу данных говорим. Вот, вкратце это... Я пару раз в жизни занимался аналитикой, просика, конечно, но там нифига не было ни звёздочек, ни снежинок. Поэтому мне кажется, это такая немножко академическая штука, но идея в следующем, что... Если ты хочешь построить звёздочку в своей Алаб-базе данных, у тебя есть центральная таблица, таблица фактов, где, например, если у тебя продажи, то ты говоришь, что продажа такая-то была. При этом из этой центральной таблицы есть связи с разными другими таблицами. И у тебя получается как бы снежинка, типа таблица в середине... А, это звёздочка, прошу прощения, оговорочка, это звёздочка. Таблица в середине и таблица сбоку, к которым идут связи.",
    "result": {
      "error": "API request failed: Error code: 400 - {'error': 'Trying to keep the first 5136 tokens when context the overflows. However, the model is loaded with context length of only 4096 tokens, which is not enough. Try to load the model with a larger context length, or provide a shorter input'}",
      "stack_trace": "Traceback (most recent call last):\n  File \"/home/andrei/Projects/podcast-shownotes/scripts/build_search_eval_dataset.py\", line 157, in generate_search_query\n    response = await self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py\", line 1927, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1767, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1461, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1562, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.BadRequestError: Error code: 400 - {'error': 'Trying to keep the first 5136 tokens when context the overflows. However, the model is loaded with context length of only 4096 tokens, which is not enough. Try to load the model with a larger context length, or provide a shorter input'}\n"
    }
  }
]