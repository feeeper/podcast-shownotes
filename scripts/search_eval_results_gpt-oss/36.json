[
  {
    "segment_id": "169ae8ea-ef57-4a07-957f-505b07d69bf9",
    "episode_id": "549d427b-ee49-43d2-b570-b8d49923902f",
    "episode_number": 36,
    "segment_number": 4,
    "text": "И я, если честно, когда он объявил эту вещь, я даже сначала не понял, в чем, собственно, проблема, и я подумал, что это вообще какой-то глюк, ерунда. Но когда он рассказал полностью про бэкграунд, оказалось очень интересно, что есть вообще куча непонятных проблем, которые непонятно, как решать с точки зрения распределенной системы. У тебя не всегда становится понятно, как тебе правильно исправить время, если, скажем, у тебя стартовала машина, у нее установился 70-й год, а потом тебе по NTP пришло правильное время. И как при этом быть с таймерами, которые, скажем, говорят, что через минуту меня разбуди, и как правильно догнать это время постепенно, скачком и так далее. Все это он очень интересно рассказывал, тоже всем советую. Следующий доклад и последний – это Джозеф Блумштадт. Это структура данных для фан-профита и перформанса. Он рассказывал про то, как он на коленочке пытался сделать хорошую структуру данных в Эрланге. Как он понял, что на Эрланге, ну как понял в кавычках, это специалист, понятно, высокого уровня, и он это просто показал аудитории, что на Эрланге это не получится сделать, необходимо это делать на NIF, на C, встроенном в Эрланг. И как он это делал там, и какие у него были трейдов, и как он их решал, в какую сторону. И в общем, всем интересующимся тоже советую. Я все ссылки на видео, все видео уже выложены, положу в шоу-ноты. А на вторую запись я не успел из-за того, что в тот момент я катился на машине из Сан-Франциско в Лос-Анджелес, летел назад в родную Россию. А да, и еще я хотел сказать, что я теперь тоже занимаюсь игрушками, я сменил компанию, так что у нас очень много игроманов стало в нашем подкасте. Вот это новости. Вот так поворот, интрига. Да, теперь я не сами игрушки пилю, а я пилю облачные сервисы на базе контейнеров, то есть Амазон в виде контейнеров, контейнеры в виде Амазона, и все вместе, и все раздельно, и все типа такого. Ну ты все не рассказывай, нужно знаешь как в сериалах, на самом интересном месте прерваться. А, и пишу я на языке, который начинается на «ер» и заканчивается на «г», вот чтобы заинтересоваться. В этом не было сомнений ни разу. Но заметьте, с начала подкаста каждый из нас поменял работу. Да, это правда. Так что, Дим, ты смотри аккуратнее там сейчас. Наглядишь, может вас кого-нибудь переманил к себе. Ага, тоже может быть. А вас на Ирландии пишут? Ну, можно обсудить. Куда его применить. Казачок-то засланный. У меня тут, вот Вань, ты говорил про алгоритмы в Ирландии, у меня тут вспомнилось, что, ну, ты знаешь, да, некоторые ирландьисты, они очень любят, что в Ирландии совсем нет стаб-зе-ворлд, поэтому он такой весь всепредсказуемый. Но с другой стороны, кстати, в С++ и расте тоже нет. Я так, просто к слову. Да, но при этом ирландский, он уже функциональный язык, да. А мы с вами все читали, как его, блин, японец. Крис Акасаки, он необычный японец. Все читали Акасаки и знаем, что многие алгоритмы функциональные, они не совсем честные, потому что они вместо настоящей сложности говорят тебе, у нас чувак, как она. Амортизированная сложность. Да. Настоящая честная, Саша. Подожди, подожди. Собственно, Акасаки объясняет, что только амортизированная сложность, это абсолютно эквивалентная обычной сложности понятия, просто у тебя время распределено типа не идеально ровно, но на самом деле баланс этого времени целиком в твоих руках. Да, вот смотри. То есть не так, что у тебя один раз взрывается все, это все в твоих руках. Вот у тебя Q типичный в Ирландии, я имею в виду не та, которая у актеров очередь, а контейнер Q, он в частности реализован таким образом, и у тебя извлечение элемента из Q занимает где-то от одного до дофига. Ну понимаешь, в чем Саша дела, на самом деле просто конкретно Q в Ирландии, именно этот модуль Q, он не очень хорошо реализован, потому что Акасаки как раз говорит, что если вы хотите предсказуемый перформанс, вы там делаете какой-то баунд на левую и правую часть, и у вас все будет хорошо. А дефолтная имплементация Q в Ирландии на этого баунда не делает. И это печально. Ну то есть вывод, не делайте, писайте свою. Просто взять и написать. Не-не-не, там любая функциональная реализация Q, она любая такая, амортизированная. Нет, еще раз говорю, смотри, ты амортизированную сложность ты можешь управлять, вот я о чем говорю, ты можешь иметь как бы баунд, но ограничение на то, как много ты можешь амортизировать в себе. И как бы Ирланд, реализация Q в Ирландии, в стандартной библиотеке Ирландии, она не делает этой границы. Ты говоришь о том, что нужно руками ее разбивать время от времени, переносить хвост в голову и все будет хорошо. Ну либо просто написать прямую имплементацию, я это делал пару раз. Амортизировать вручную. Закат солнца вручную. Дефицит на подкаст. Ладно, это вот так просто размышлизм, и на самом деле да, это валидный пойнт насчет того, что можно как-то вручную амортизировать, мне он как-то в голову не приходил, если честно. В любом случае, кто хочет следующую тему? Лес рук. Ты про безопасность? Да, у меня сегодня день очень интересный начался, я пришел на работу, а мне коллега говорит, ты читал новости, там такое, там такое, там просто мир с ног на голову встал. Слушай, я вот это пропустил, так и не прочитал, ты можешь как-то... Ну, я сам не маковод, поэтому я, это такой пересказ, что в маках есть некий сервис, который рулит конфигами, и работает под рутом, и работаешь ты с этим сервисом через какую-то библиотечку. Вот, и нашелся реверсер, который все это расковырял, кстати, мне непонятно, зачем он это ковырял, вроде как макойся на open-source, может там старые сорсы, которые open, неважно. Он разобрался, что можно с помощью этого демона, условно говоря, создать ваш скрипт, сделать ему суду флаг и запустить. И в результате ты можешь в консоли набрать такую маленькую командочку, которая дает тебе рута. То есть даже с гостем. Бак этот появился как минимум в 2011 году, а после того, как его зарепортили, Apple чинила его где-то полгода. Подожди, то есть они его починили, в середине 2011 года они уже починили этот бак? Нет, в 2011 году, судя по бинарникам, когда он первый раз появился, нашли его в октябре 2014, а закрыли буквально сегодня, 10 апреля. Сегодня вышел какой-то фикс для маков, если вы сегодня не обновлялись, то у вас можно порутать одной командой в шею. Ага, да, я уже обновился. Ну что ж, вот именно поэтому некоторые говорят, что SystemD, который монструозен и который работает под рутом, он не должен быть таким монструозным. Потому что все вещи, которые имеют доступ к высочайшему уровню на системе, то есть быть рутом, администрировать всё, они должны быть максимально простыми, чтобы такие вещи происходили как можно реже. И буквально сегодня, за 5 минут до подкаста, до начала записи, я разгребал новости, и на Security Lab.ru появилась, как это называется, ну не статья, пост под названием «Множественные уязвимости в OS X». Тут список, я даже боюсь прикинуть, из 50, наверное, CVE. И по каждой написано, а, 39, тут они пронумерованы. 39 багов с разной степенью. Вот тот, который я назвал, он под номером 1. Отлично. То есть 1.39 они уже сделали? Отличное начало. Вот, кстати, интересно, почему все не кричали, не вопили в новостях этого не было, когда это только появилось. Они не имели права, я так понимаю. Там вообще интересная тема. Вот эта новость на Security Lab.ru, она появилась днём, часов в 12 по Москве. Но когда я на неё перешёл, она была удалена, а потом они её позже к вечеру опубликовали. Я не знаю, с чем это связано. То есть этот баг публично не был известен? Да, да. Он был изрепорчен в Apple? Нет. Это стандартная практика, я так понимаю? Нет, не так? Вот тот баг, который самый первый, самый серьёзный, его опубликовал в блоге truesecdef.wordpress.com некто Эмил Квахамар, наверное так читается. Опубликовал ещё вчера, 9 апреля. Но новость на Security Lab.ru, она сначала была опубликована, потом как-то с задержкой переопубликована. Вот такие пироги с котятами. Кстати, раз уж мы затронули небольшую фруктовую компанию, те счастливые обладатели iOS-устройств сегодня до 8.3 обновились? Вань, тебя же? Я вообще... вчера вечером ещё. Ты понял, что теперь с Siri можно говорить по-русски? Я с ней разговаривал весь вечер. Вот, я сегодня тоже развлекался. Забавная штука. И как она, что? Понимает? Она всё очень отлично понимает. И с ней можно весело поболтать. Ну, как в американской версии, все шуточки, ты её как-нибудь похвалишь, она зардеется и что-нибудь ответит тебе, спасибо. А шуточки, они русские шуточки или всё-таки они американские? Это другой подкаст, мы себя перепутали. Русские, ты всё по-русски говоришь. Она теперь понимает русский язык, ты с ней говоришь на русском, она отвечает тебе на русском. Я сегодня ходил искал кофебин в Ульяновске. Я говорю, давай найди мне какую-нибудь кофейню. Она говорит, вот, нашла такие. Я говорю, давай до кофебина. И она открывает карту и пошёл по карте. То есть всё очень чётко, всё классно. Но у вас карта отрисовывается нормально, то есть у нас же эпловые карты открывают. Да, эпловые карты. Но у нас на эпловых картах только МКАД. И всё. Всё остальное белое поле. В России можно жить, хотя больно. Это же Ульяновск. Ты сравниваешь Ульяновск с Москвой, что ли, я не пойму? Конечно у нас всё полностью. С Минском. А, с Минском? Да нет, российские карты, по-моему, там нормальные. У них нет именно белорусских. То есть там главные дороги и всё. Если я правильно помню. А здесь у нас даже кофейни есть. То есть это достаточно точно. Так, всё, 5 минут разговоров об Apple прошло. Согласен. Давайте дальше. Ага, и мобилках. Да, следующая новость. Знаете, есть такой мессенджер Telegram. Вот я путаюсь или нет, но его делал наш всем известный российский программист, да? Я не думаю, что он его сам делал. Я имею в виду Дурова, да? Ну да. По крайней мере стоял у Истоков. Ну вот, новость заключается в том, что ещё один или команда даже ресёрчеров из компании Zemperium. Я думаю, это название компании. Они решили заресёрчить Telegram. И делали они это всё по-честному. То есть это делалось на платформе Android. Ничего не руталось. В смысле, как это называется? Ну когда ты анлочишь девайс. Но смысл в том, что составилось обычное устройство. Известными эксплойтами. И новость заключается в том, что если ты известными эксплойтами, там есть, например, баги в вебките, да? Поднял себе привилегии и посмотрел на файлик на базу данных Telegram, то там твои зашифрованные сообщения лежат в незашифрованном виде. Обычно реакция разработчиков Telegram на то, что мы нашли у вас такой-то баг, такой-то баг, что ну это же физический доступ к устройству, разумеется, вы на нём всё что угодно видите. Здесь ситуация другая. Здесь доступ к устройству реально удалённый. То есть ты как-то по удалённому шеллу всё равно можешь посмотреть базу, она вообще не зашифрованная. Вот так секьюрны мессенджеры. Очень секьюрны. Там есть ещё вторая часть этой статьи про то, что в памяти тоже всё не зашифровано, то есть даже твои зашифрованные сообщения, они в памяти plaintext. Но это уже другой разговор. Погоди, а в данном случае в чём проблема? То есть вопрос не в том, что перехватить можно эти сообщения, а в том, что если ты внезапно захватываешь устройство, можешь залогиниться там под кем-нибудь, да? И потом выполнить какую-то команду ты можешь прочитать, верно? У тебя секьюрный мессенджер хранит всю историю plaintext. Понимаешь? Он именно хранит. То есть если, скажем, я не могу зайти на устройство, как с Macbook, то есть если у меня запаролен весь жёсткий диск, то пусть он хранит как угодно. Понимаешь, в таких мессенджерах там, как правило, есть какой-то... При запуске какой-то passphrase спрашивается, в таком роде. А так у тебя FBI забирает телефон, просто берёт диск и читает всё, что ты там писал. Да, всё понял. То есть ты... Да, я понял. База приложения не зашифрована. Ну или хуже, если тебя хакнут с помощью вируса какого-нибудь, то всё, у тебя информация утекает, ничего не зашифровано. Да беда. Ну что ж, жаль. Я так, насколько помню, Telegram очень популярен, в том числе из-за его утверждения, что они шифруют свои пересылки все. Ну, пересылки-то они шифруют, да. Пошли дальше. Да, вот такая новость. А следующую новость, я думаю, Света нам расскажет. Да, Света? Какая новость? Сейчас я открою. Да, следующая новость, это про митап по скале, который будет в Минске 27 апреля. Вот, приходите. На этот митап приглашён человек из TypeSafe, он будет рассказывать про Акка Стримс, и, скорее всего, я тоже там буду выступать. Пока тема докладов точно неизвестна, есть некоторые предположения, но вот как-то так. Всё, идём дальше. С началом выступления тебя тогда, что ли? Ну, спасибо, у меня уже был опыт выступлений на более мелких мероприятиях, но это такое масштабное, так сказать. Да-да-да, отлично, так держать. Так, а дальше про Go Lang. Саша, ты читал там этот? Да, да.",
    "result": {
      "query": "distributed systems time sync NTP delays"
    }
  }
]