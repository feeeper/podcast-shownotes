[
  {
    "segment_id": "b2e2c248-66ab-401d-be2d-b6c536494fb4",
    "episode_id": "eccd1b6e-7836-4420-a871-9b5e9ee281d8",
    "episode_number": 221,
    "segment_number": 3,
    "text": "мы идем к зеленому, мы там на самом деле теряем дофига информации, то есть большинство наших, то есть sRGB гаммон он вообще малюсенький, он просто буквально в самом центре этого огуречика. Там не знаю, более старый MacBook типа того, что у меня, он там чуть побольше этого sRGB, там Adobe RGB он по размеру по общей площади примерно такой же, просто он типа чуть-чуть дальше точку S размещает. И там не знаю, наконец какой-нибудь современный DCI-P3, он вообще сильно шире и в него гораздо больше, чем в LASIK. DCI-P3 это как бы такое более широкое цветовое пространство, в котором оперируют большинство современных телевизоров, которые HDR. И вот, например, последние iPhone, по-моему, Google Pixel тоже, и по-моему, мониторы последних iMac'ов и последних MacBook Pro. Можно вопрос сразу? Да, конечно. У меня тоже. Ну давай, давай ты. Ладно, хорошо. Спрашивай, спрашивай. Меня интересовало, а известно ли, как физически устроены последние iPhone'ы, MacBook'и и вот эти все ребята, за счет чего они передают цвета лучше. То есть ты описал это в виде цветового пространства модели, а как бы от чего они туда светодиодов больше занесли или что они сделали? Ну мне, честно говоря, трудно говорить, что там за технологией используется. Давай начнем с прослова. Я могу сказать, что за iPhone. Известно ли это? Я могу сказать, что за iPhone. В iPhone тупо OLED. OLED, в принципе, у них всегда все было гораздо лучше с цветами, то есть OLED-панели, в принципе, там совершенно другая технология. И в ее лимиты, то есть там, грубо говоря, то, что там Samsung пытается сделать на старых добрых LCD-телевизорах с их так называемой QLED-технологией, QuantumLED, whatever, QuantumDots, как бы и они там по помощи кучи всяких костылей, хаков, таки могут сделать дисплей с высоким цветовым разрешением и с разными яркостями. Только что-то, о чем мы еще даже не начали говорить, что у нас еще яркость можно представлять, как бы большинство современных экранов, они очень узкие в плане того, сколько мы яркости можем представить. А какой-нибудь OLED, там LG, известный производитель всякого OLED-добра, у них, они просто как это без напряга, у них очень хороший, просто как технология, у них очень хороший диапазон и по цветам, и по яркостям. За счет чего? Ну, у них тоже OLED-панели или у них там больше... Нет, смотри, все дисплеи, которые сейчас есть в человечестве, которые, во всяком случае, я знаю, то есть, наверное, где-нибудь в комнате есть не RGB-дисплей, большинство дисплеев, которые мы сейчас знаем, они все более-менее RGB, то есть, опять же, что такое RGB? Это же не какие-то фиксированные точки, вот то, о чем я говорил, у тебя гаммут, он за счет чего строится? Ты в разных местах фиксируешь красный, зеленый и синий, ты их можешь фиксировать в разных местах, то есть, это не какие-то абсолютные величины, ты как свой гаммут, в принципе, как ты свой гаммут задал, гаммут – это треугольник внутри огурчика, если кому-то непонятно, мы говорим, вы можете открыть ссылку, она уже наверняка есть в чате, если кто-то нас слушает лайв, там куча диаграмм, где-то ближе к концу статьи, в которых рисуют гаммуты внутри этого лопуса. И это как бы такой треугольничек внутри огурчика, и вот углы треугольничка – это наши SRGB, их можно поставить внутри огурчика куда угодно. В принципе, ты технологически можешь там типа зеленый цвет подпихнуть под как-нибудь так, чтобы настолько высокого вот как бы край огурчика подтащить как-то, то у тебя как бы ты сможешь представить больше цветов, просто за счет того, что ты смешиваешь не те же самые SRGB, которые у тебя были раньше, а за счет того, что ты смешиваешь немножко другие источники света. Я думаю, что такие источники света, их, во-первых, тяжелее находить, во-вторых, я подозреваю, что тут то, о чем мы еще не начали говорить, проблема еще в том, что у цветов у нас еще разная битность, и как бы нам нужно, чем больше мы делаем треугольник, тем рвань у нас будет цвет при том же количестве бит. То есть, например, мы все привыкли, что там, не знаю, все из нас когда-нибудь играли в CSS с HTML, там у нас типа цвет представляется от 0 до 155. Это у нас типа по 1 байту на каждую компоненту цвета. То есть суммарно у нас получается 8 на 3, это сколько? 4, да? Плюс там еще один компонент под альфа, это типа 32-битный цвет. Мы привыкли к 32-битному цвету. На самом деле, ну или 8-битный компонент, короче, цвет тут давайте так. На самом деле, у нас уже техника давно-давно снимает минимум 12-битный компонент. Ну, то есть 12-битный компонент, наверное, есть в последние лет 10, а сейчас есть больше одной камеры, которая снимает 14-битный компонент или даже все 16-битный компонент. То есть на самом деле, наши камеры, они гораздо чувствительнее, чем наши дисплеи. А это вообще имеет смысл, если мы воспроизвести не можем и напечатать не можем? Да, конечно, имеет, потому что, во-первых, напечатать мы, может быть, можем, во-вторых, это про редактирование имеет значение. То есть ты начинаешь где-то, короче, знаешь эту историю, что ты начинаешь манипулировать какой-то величиной, тебе чем больше точности, тем аккуратнее будет манипуляться, тем раньше ты, тем как бы типа… Скажем так, у тебя есть какой-то, то есть не знаю, если ты хочешь всех цвета, которые красноватые, запушить в какой-то там другой оттенок, то есть у тебя очень маленькое разрешение по битам, битный цвет, у тебя в какой-то момент начнется как бы красный, вместо того, чтобы типа под… Не красный. Соседние к красному цвета, вместо того, чтобы начать растягиваться, они начнут как бы типа рваными быть. Понимаешь, о чем я? У тебя начнется бендинг. Да, каждый, кто рисовал и играл со цветами, знает это чувство, когда ты пытаешься маленький оттенок поменять, а у тебя меняется либо цвет, либо какая-то ерунда появляется. Вот, ну то есть у тебя зачастую, то есть когда ты меняешь какой-то цвет, у тебя на самом деле, если у тебя есть какой-то такой типа фуллов в другие цвета, как вести себя с соседними оттенками, они на самом деле будут типа меняться с меньшим коэффициентом и так далее, они, то есть там в зависимости от того, как в общем гнуть цветовое пространство, в некоторых случаях можно лететь на то, что у тебя будет бендинг, если у тебя нет дополнительной точности. Если дополнительная точность есть, можно как бы очень аккуратно все делать, и конечная картинка будет выглядеть очень хорошо. Вот, как-то так. Ну вот, собственно, мы подошли к тому, что вот мы взяли наш гаммут, мы вот попытались закодировать цвета в нем. Так, по поводу, возвращаясь, прежде чем пойдем дальше, я не знаю, если честно, за счет чего работают white gammut LCD дисплеи. Если кто-то из наших слушателей знает, было бы клево, наверное, об этом услышать. Я подозреваю, что они просто научились делать какие-то, где-то в общем в другом месте ставить как бы краевые точки треугольника, ну и да, видимо, за счет того, что у нас стало просто физически там типа не 8-битный цвет, а 10-битный цвет на компоненту. И за счет этого получается, что удается представить как бы не просто точку поставить в другом месте, а еще и передать все цвета между. Ну вот, судя по картинке, которая в конце статьи, ну действительно ты делаешь просто более красный светодиод, как бы более синий, более зеленый, и даешь больше бит, ну сколько значений ты можешь регулировать этого красного и синего, и ты за счет этого получаешь более яркие, более насыщенные, как бы больше цветов. Ну звучит, по крайней мере, правдоподобно. Я не знаю, как на самом деле. Ну вот, на самом деле там еще хитрее, там еще есть такие всякие штуки типа gamma correction и так далее, которые я сейчас даже влепрезать не буду, которые связаны с тем, что мы некоторые оттенки видим немножко по-разному, то есть мы линейную яркость, на самом деле, ну как бы честная линейная яркость, там кажется не совсем честной с точки зрения градаций, поэтому там еще отдельная история связана с тем, что на самом деле все стандарты цветового пространства, они немножко гнут яркость, чтобы нам, человекам, было немножко естественнее на вещи смотреть. Я об этом узнал, когда в свое время изучал OpenGL, и там, ну как бы во втором или третьем туториале по счету, там ты встречаешься с gamma коррекцией. И еще сюда следует добавить, что некоторые устройства, они корректируют, что они тебе выводят в зависимости от окружающего света, потому что если ты светишь желтой лампой на свой телевизор, тебе нужно это учитывать для нормальной передачи света. Ну по-моему, это не gamma коррекция, это немножко другая вещь. Это не gamma коррекция, нет-нет-нет. Ну новый iPhone в частности, например, у них есть функция, да и новый Mac, и новый iPhone, у них есть True Tone, так называемый, у них есть, короче, рядом с дисплеем небольшой сенсор, который оценивает окружающий цвет, цвет окружающей среды. Типа вот то, что вот кто игрался в фотографии, знает, у него есть такая штука White Balance, на фотографии можно править, вот он как бы правит White Balance дисплея, чтобы он как бы, чтобы точка белого на дисплее совпадала с точкой белого вокруг вашего окружения. Потому что обычно, в обычных ситуациях наш мозг, он адаптируется, то есть если мы видим как бы белый стол, белую стену, мы знаем, что они белые, но мы светим на них желтым источником, и он все немножко с желтоватым оттенком, наш мозг на это сделает поправку, и типа нам все будет казаться, ну, белым. Но если мы при этом включим там, при этом рядышком в этой сцене дисплей, который там телефона, который без этих фичей, он нам будет казаться синеватым, и это может быть немножко раздражать в сегментном вечере. И вот современные устройства, они зачастую это тоже корректируют, помогая нашему мозгу все воспринимать просто нормальным белым. Вот, ну собственно, по поводу макбуков и всего остального. Ну да, я уже немножко упомянул про яркость, что HDR и всякое такое, в отличие от white color, это про другую оси, это пока раз про яркость, что на самом деле у нас еще наши дисплеи зачастую умеют гораздо меньше яркости показывать, чем наш глаз видит. И то есть там... Ой, ты можешь на секундочку задержать эту мысль, пока мы о ней ушли от треугольничков в огурчиках? Вот судя по картинке, здесь прям, ну действительно, как ты описал, прям очень сильно жертвуют зелёным цветом, а за что его так не любят, мы его слабо воспринимаем или что? Если честно, я не уверен, я точно знаю, что мы очень хорошо отличаем зелёный от всего остального, зелёный от красного мы хорошо отличаем, и вроде бы синий оттенок от зелёного с красным. То есть короче, мы видим, в общем, человеки, они очень сильно различают между зелёным, оранжевым, красным и так далее, в более синих тонах у нас всё гораздо смешивается до такой степени, что между зелёным и сайаном не у всех, даже не во всех языках есть отдельный сайан как цвет. Ну то есть в русском у нас есть голубой... Например, в русском. Ну да, скажем так, в русском есть голубой, а в нем есть сайан. Бирюзовый есть. А, бирюзовый, окей, да, вот короче, бирюзовый. Вот бирюзовый – это сайан. Есть голубой, это такой типа light blue, есть, ну то есть ещё не во всех культурах даже есть это различие. Ну вот в английском нету... А, ну light blue, окей, да, это вот то, что ты назвал, голубой. То есть там нет как бы вот праймари вот этого цвета, короче, да? То есть как бы там нет... То есть в русском голубой – это такой, ну более-менее ещё привычный цвет, а бирюзовый – это уже такой типа для тех, кому как-то нужно это описывать. Есть ещё цвет морской волны. Я что хотел сказать, есть где-то я читал, что есть теория, почему люди хорошо различают зелёный и красный, потому что когда ты обезьянка на дереве, тебе нужно очень хорошо находить фрукты среди листьев. Скорее всего, да, ещё успелось фрукты определять. Это скорее всего причина, почему вообще трихароматы, а не дихароматы. Очень многие млекопитающие дихароматы, и они видят меньше цветов, чем мы. И им это не мешает жить. Вот, на самом деле есть даже люди дихароматы. Как бы нам было проще, если бы мы все были дихароматы? Ну... Техника была бы... На самом деле, если люди тетрахароматы, ой, нет, не тетрахароматы, сейчас... Короче, с четырьмя воспринимающими элементами, то есть четыре цвета они видят. Среди людей или млекопитающих? Среди людей. Есть ещё, короче, мантисшримп, это вообще панцирное. Я не помню, сколько у него, но у него там вообще какие-то радуги в глазах должны быть. У людей есть, по-моему, по женской линии может быть генетический дефект, когда очень ограниченное число людей видит сильно больше цветов, чем все остальные, в отличие от того, что у них там типа плюс один светочувствительный элемент в глазах. Да, к яркости. Люди пытались сделать HDR-фотографию, чтобы каким-то образом в HDR, вообще в обычный монитор упихать тот факт, что мы видим гораздо большую градацию яркости, чем наши дисплеи могут показать. Там, не знаю, пытались делать HDR-эффекты в играх, когда слишком яркие места начинают слишком сильно светиться, и там свет в современных играх рассчитывается типа в пространстве, которое гораздо шире, чем отображает дисплей. А потом уже те места, которые получились слишком яркими, их типа художественно отображают яркими. Вот собственно, что такое поддержка HDR в играх и в телевизорах? Да у нас есть телевизор, есть игра, которая уже, честно, посчитали свет в правильном, как это, в неограниченном цветовом диапазоне, и они потом вместо того, чтобы эту яркость как-то там красиво представлять какой-нибудь фигней, они берут и, честно, это выводят на дисплей, который имеет гораздо большую градацию яркости.",
    "result": {
      "error": "API request failed: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 6243. Please try again in 12.486s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}",
      "stack_trace": "Traceback (most recent call last):\n  File \"/home/andrei/Projects/podcast-shownotes/scripts/build_search_eval_dataset.py\", line 157, in generate_search_query\n    response = await self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py\", line 1927, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1767, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1461, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1562, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 6243. Please try again in 12.486s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}\n"
    }
  }
]