[
  {
    "segment_id": "80c93f59-92e7-4bde-b252-1c5c41094f26",
    "episode_id": "b15ea74f-b5db-4b13-86b4-7c11f5d23e1d",
    "episode_number": 93,
    "segment_number": 2,
    "text": "Y это от слова Yahoo, конечно же, и Trace это, на смысле, трассировка всего. Знаете, я думаю, что вот этот взгляд со стороны большой компании на ту же самую проблему, то есть проблема та же самая, они хотят, имея большое количество логов, с помощью этих логов что-то дополнительно узнавать, какую-то аналитику делать. И в качестве цели они поставили себе стандартные цели, то есть поиск проблем, кстати, поиск проблем они хотят делать прямо почти в real time или в real time, если получится. И нахождение, ну в смысле, если что-то пошло не так, чтобы сигнализировать и алертить, причем, возможно, до того, как пользователи желательно заметят какую-то серьезную проблему. Во-вторых, поиск проблемных элементов, ну например, какой-то сервис начал сбоить, там какую-то ошибку туда запостили, бага появилась и так далее. И поиск проблемных устройств в хардваре, когда они там, сеть начала барахлить где-то, на каком-то хосте что-то стало более медленно обрабатываться и так далее. Вот. В целом, подход он менее генеральный, чем был у фейсбука, то есть я не буду здесь пересказывать, кто захочет, он почитает. Но вот что в качестве выводов мне не понравилось, это то, что фейсбук изначально предполагал вот в этом своем мистер машин, предполагал, что Ребята, у нас вот есть большое количество логов, и мы не хотим заставлять все команды, а команд у нас много разных, добавлять какой-то, не знаю, обязательный инструментарий, то есть если вы вызываете РПЦ, то должны вызывать именно так, если вы делаете прием сообщений, то должны принимать именно так. Мы хотим, чтобы вы просто делали логи, и все. Но в логах должна быть обязательная информация, там айдишники, хост и время, вот это вот все, больше ничего не надо. И сообщение, наверное, тоже? Ну, сообщение это да, ты логи делаешь ради сообщения, но я имею в виду, в дополнение к сообщению ты должен обязательно… А формат как-то оговорен? Да, там они оговаривали формат, что у них должно быть в начале то, потом это, потом это, а потом пишите, что хотите, типа такого. Но это как бы up to you, то есть если вы делаете свою собственную реализацию у себя в компании, вы можете сами договариваться. Они говорят, чтобы вы, главное, могли из тела сообщения вытащить вот эту нужную вещь. У Yahoo пошли по-другому, они сказали, так, ребят, во-первых, мы делаем вот так, то есть, во-первых, мы инструментируем все наши внутренние сервисы для того, чтобы можно было скачивать как можно больше информации. И они инструментировали внутренний CDN, внутренний Key Value, они создали, я так понимаю, здесь они это явно не указывают, но специальную RPC библиотеку, которая будет с помощью хедеров передавать какие-то концептуальные вещи, типа там IDшника запросов и так далее. Вот, оно там как-то непонятно, полупрозрачно пробрасывается, но ничего, кроме этой библиотеки, соответственно, ты использовать не можешь. Плюс ты должен писать еще кучу логов, и это накладывает такое большое количество ограничений и обязанностей, что если ты делаешь что-то, то поступай именно так, а иначе аналитика наша не сработает. Что мне кажется лично, что этот подход менее генеральный. То есть, может быть, с точки зрения Yahoo это и работает, потому что у них, может быть, единый монолитный, я не знаю, организм, команда, которая все-все знает и обязательно надо использовать.",
    "result": {
      "query": "Yahoo Trace log analytics"
    }
  }
]