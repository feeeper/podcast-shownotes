[
  {
    "segment_id": "8eabb41c-f26f-4448-8ce5-5cebe597a1c3",
    "episode_id": "fa4e299e-f603-49f4-8851-950c024a5592",
    "episode_number": 83,
    "segment_number": 4,
    "text": "как из текущего стейта прийти в желаемый и начать выполнять правила. Здесь немножко пнусь, это очень похожие идеи из двух разных мест, говорящие примерно об одном и том же на самом деле, что оркестрацию в распределённой системе проще писать не как какую-то гигантскую стейт-машину, которая знает всё и ведает всем, а как такой набор ситуаций, каких-то таких вот матчеров и что делать, если вот это вот матчится. Мы к этому тоже пришли у себя, когда делали подобные штуки. На самом деле, видимо, нужно кинуть ссылку на ту статью от RamCloud, я как раз этим сейчас займусь. Окей. Ну и чтобы совсем далеко уйти от кубернетеса и всяких других подобных систем, которые написаны на Go, я предлагаю обсудить Rust и Rust Meetup в Минске. Свет, это близко к тебе, расскажи, что там у вас происходит. Да, надо отметить, что в Минске произойдёт чудо, а именно будет первый Rust Meetup. И приятно то, что человек, который организует это мероприятие, работает со мной, в моей же компании. То есть это здорово. Вот, само мероприятие планируется довольно нескоро, это будет май, 14 мая этого года. Но пока что планируется, что будет несколько докладчиков, насколько я знаю, это количество было 4. Так что это здорово. Для первого митапа 4 докладчика это отличный результат. Позволь спросить, а у этого коллеги твоего откуда такой интерес к Rust, вы же там больше по JVM? Я думаю, это больше личный интерес. То есть он энтузиаст? Да, да-да-да. Но, насколько я знаю, ещё есть люди, которые интересуются и пытаются некоторым образом переписать какие-то маленькие сервисы на Rust. Просто посмотреть, каково это и насколько это лучше решает какие-то конкретные задачи. Но это очень такие маленькие и частные случаи. Ну вообще это отлично, жалко в Москве нет Rust Meetup, а в Минске ехать далеко. А по-моему делал кто-то. Или это мне что-то я путаю? Может быть. Может быть делали как обычно в четверг в 3 часа дня, поэтому у меня это пролетело, отфильтровалось сразу в уме. У меня, знаешь, такое стойкое ощущение, что я читала в Твиттере, мол, организуются в Москве то ли какая-то небольшая конференция про Rust, то ли митап, ну что-то в этом роде было. Ну а раз мы пошли по странным языкам программирования, то нельзя не упомянуть здесь Python, один из самых странных языков программирования. И PyPy, который вышел в версии 5.0. Кто у нас знаток всего этого дела? Никто не хочет прокомментировать? Проще спросить, кто прочитал новость. Ну просто как бы PyPy для меня, я узнал, что эта штука есть, и я ей парочку раз попользовался, ради интереса. Но вот я небольшой знаток. К сожалению, прокомментировать я не смогу. Ну ладно, если никто не сможет... Да я тоже не особо. Я прочитал новость, они теперь быстрее на 30% запускаются и на 30% меньше едят памяти. Это основное достижение, насколько я понимаю. Но это хорошее достижение, крутое. Вот скоро Java, ну мы в прошлом выпуске обсуждали, что JV можно будет выкинуть и все писать на PyPy, и оно по скорости будет таким же. Что неудивительно, потому что и там, и там JIT. Ну здорово. Отлично. А подожди, тебе нечего добавить, позразить? Я считаю, что PyPy это очень хорошая альтернатива JVM. Я PyPy их... PyPy, если я не ошибаюсь, он же там на два ветки застрял. Да? На самом деле, и их там два. Слушай, мы такие большие специалисты, пошли уже к следующей новости. Ну хорошо. А следующая новость это... Должен нам рассказать специалист по следующей новости. Валера, Света, расскажите нам что-нибудь про то, что вы хотите рассказать, а то я даже не знаю, что нам надо рассказывать. Я так, припоминаю, Света хотела... А, ну в общем, про... Битчейн ДиБи, блин, ну вы бы еще это, вы бы хоть предупреждали, что вы такой некромантией занимаетесь, я уже все забыл. Ну в общем... Ну на самом деле, да, мы ждали Валеру, чтобы поговорить про эту новость. Собственно, есть такая база данных, которая называется Битчейн ДиБи. И идея такая, что они взяли какую-то распределенную базу, существующую. Честно говоря, я так и не нашла какую. Я так понимаю, судя по пейперу, они могут работать поверх нескольких... Сейчас приоритетно является ретинг, насколько я знаю, насколько я помню, из пейпера. Но я так понимаю, это не принципиально поверх чего должны работать. Ну вот они явно как раз-таки не указывают какую конкретную базу, просто говорят, мы берем хорошую, работающую, распределенную базу данных, и поверх этого мы наворачиваем уже блокчейн непосредственно. И это все, что ты хотела сказать? Это начало. Я так припоминаю, Свет, ты хотела обсудить эту новость с Валерой. Ну то есть я могу поругаться, но у тебя есть какие-то большее... Давай дальше введение. На сайте написано, что эта база данных держит 1 миллион записей в секунду. 1 миллион, вау! Да. Для блокчейна это очень много, и там, кстати, знаешь, там 1 миллион записей или 1 миллион коммитов. Оно расшифровывается следующим образом. Я почитала, у них есть блокпосты на Medium, есть графики. И по графику можно сказать, что 1 миллион считается следующим образом. Это 1000 на 1000, сейчас скажу точно, что они конкретно посчитали, я открою сейчас статью. 1000 нот? Подожди, там довольно интересная штука, как они этот миллион получили. Валера может что-нибудь рассказать, я пока поищу, чтобы не соврать. В общем, что сделал я, когда увидел эту новость? Я полистал пейпер, который большой, поэтому я сейчас скажу, я весь его не читал, мог что-то упустить, могу сейчас соврать. Могу сказать, что это не точно, и если кто-то умнее меня, и придите и поправьте. И во-вторых, я почитал немножко комментарии на Hacker News по этому поводу. И в общем, я считаю, что это тот случай, когда вместе с водой для умывания ребенка выбросили самого ребенка. То есть, вот эта вся штука, она к блокчейну имеет примерно никакого отношения. То есть, это что-то вроде Byzantine Fault Tolerant штуки, но... Не совсем они хотят добавить Byzantine Fault Tolerant в следующий релиз, по крайней мере, в их подмаркете написано. Сейчас это ещё даже хуже, сейчас он даже не Byzantine Fault Tolerant. То есть, в пейпере они это описывают примерно, по крайней мере, проецируют как Byzantine Fault Tolerant. В общем, самая главная идея блокчейна в том, что блокчейн работает так, что у нас есть какие-то произвольные совершенно агенты в сети, и они поддерживают базу данных в консистентном состоянии. И это как бы вот так вот и есть. У нас некоторый префикс базы данных является консистентным, и вот он как бы set on stone. И нет никакого полагания на то, что есть какие-то специальные люди, которые держат мощные сервера, и вот мы им доверяем, потому что они хорошие ребята, и они не будут нам врать. И за счёт этого, собственно, вот это как бы такой краеугольный камень всего, что называется блокчейнами, на самом-то деле. Ну, ладно, не краеугольный камень, но это краеугольный камень биткоина и биткоин-дериватива. Не финансовый, в смысле дериватива, а в смысле производных проектов. Бикчейн же, ну то есть были уже проекты, которые назначали типа голосующих, чтобы быстрее коммит происходить. Особенность блокчейнов, биткоиновского блокчейна в том, что наши транзакции, которые мы хотим произвести, мы их рассылаем по сети всем-всем-всем, и дальше, когда кто-то нашёл блок, он его подписывает, и в него входят все транзакции, которые он увидел. И потом, после того, как клиент, пославший транзакцию, увидел, что после блока с этой транзакцией ещё несколько блоков добавилось, он считает, что теперь уж точно никто ничего не сломает, потому что там, не знаю, 5 блоков, например, ну там поменять историю так глубоко назад практически невозможно. Ну там нужно супер какие-то мощности вычислительные иметь, чтобы фортнуть историю так глубоко. Там сложность, если не ошибаюсь, экспоненциально возрастает, сложность форка. И поэтому это работает. Здесь и битчейн, ну как бы есть, да, и есть системы, которые, типа Stellar Consensus, которые пытаются назначать голосующих, но, насколько я понимаю, они голосующих назначают не статически. Они их назначают на основе proof of stake, там есть некоторый делегейшн механизм, но я так понимаю, что это не то чтобы какие-то заранее доверенные ребята, которые всегда голосуют, это всё-таки всё ещё распределённый бизонтин консенсус. А здесь ребята делают вообще странную вещь, просто как бы... То есть это не то чтобы совсем плохая штука, но это не имеет никакого отношения к биткоину и блокчейну, как я понимаю. Нет, к блокчейну оно имеет отношение, но к биткоину оно никакого отношения не имеет. Ну и даже к тому блокчейну, который распределён в биткоин среде. Ну, скажем, идеи блокчейна, они в принципе могут быть отвязаны от биткоина как от этого. Ну, нет, ну, как бы, понимаешь, в чём дело? Ну, как, так сказать, на самом деле можно использовать не только для биткоина конкретно. Да, да, да, их можно использовать только для биткоина. Это теперь почему насильно гремит во всём мире, и по большому счёту ты можешь использовать этот блокчейн для разных сфер. Да, я в курсе, я в курсе как работает блокчейн, Свет. Всё что угодно. Свет, я в курсе как работает блокчейн, я знаю что на нём много чего можно делать, что на нём может сделать распределённый ДНС. Я про другое говорю. Есть блокчейн как идея как это работает, есть BigchainDB, в которой от блокчейна, насколько я понял, осталась только вот собственно цепочка блоков, конечно же, но совершенно не правило как она формируется, и не правило как она поддерживается. Это довольно важный кусок блокчейна, чёрт возьми. Вот, а тем временем я нашла статью, на которой говорила, так вот, они получили пропускную способность 1 миллион райтов в секунду, то есть это 1000 блоков в секунду с 1000 транзакций на блок. Вот как они это получили. Это обошлось всего в 32 ноды. Вот такая история. Что ещё интересно? У них открыт исходный код, и при этом я пошла на исходники посмотреть, и я обнаружила, что там всё на питоне. Ну потому что этот инстрок у нас имели на нормальной базе данных. Ну то есть, вот к чему моя предыдущая тирада была. И всего 252 томита. То есть мне кажется довольно мало. Ну да, это в плане может быть довольно сырым проектом. К чему я вообще всю предыдущую тираду говорил? Эта штука, она не должна рассматриваться как биткоин блокчейновский, как полностью распределённая штука, где нет никакого authority. Это скорее система, благодаря которой некоторое количество authority смогут договориться между собой. Это как бы из того, что я понимаю. То есть это совсем не peer-to-peer, это не настолько peer-to-peer система, как нормальный блокчейн. Ну то есть вообще не стоило брать блокчейн для этой задачи? Ну скажем так, битчейн ДБ скорее всего решает какую-то реальную проблему. Я не смотрел на качество реализации, я не буду утверждать решательно или нет, но проблему, которая следует из пейпера, она в принципе скорее всего нужная. То есть некоторое количество authority договорится, но в принципе тоже нужная и важная проблема. На мой взгляд, все их попытки играть типа «эй, смотрите, это блокчейн» или «эй, смотрите, это как-то связано с биткоин-технологиями», это мне кажется очень неправильно, потому что они, по-моему, связаны с этим всем примерно никак. И это совсем другие трейдовы по многих местах сделаны. Скажем, основная идея вот этой базы данных. То есть она ориентирована на большие объемы данных, это раз, и она пользуется некоторыми мыслями из блокчейна. Она некоторым образом имплементирует качества, непонятные на данном этапе. Я как раз все еще буду спорить с тем, что она никак никакие мысли из блокчейна не имплементирует. Я правильно понял, Свет? Я не могу с этим согласиться. Ну, Свет, скажи, что из блокчейна она имплементирует? Вы не придете здесь к консенсусу, поэтому я все же задам свой вопрос. Я правильно понял, что задача, которую они пытаются решить, Свет, из твоей последней фразы, это писать и читать много данных? Больше, чем нормальный блокчейн. У нормального блокчейна это известная проблема, нормальный блокчейн очень плохо скейлится. Очень плохо скейлится. Ага, то есть это такая экспериментальная штука, чтобы решить проблему скейлинга в блокчейнах. Ну, при этом да, они решают эту проблему, но при этом блокчейн перестает быть блокчейном. Я просто удивился, потому что, ну, Света заговорила про большие объемы данных, у меня нет проблем записать большие объемы данных. Хорошо, о каких объемах данных мы говорим? Ну, о любых. Давайте так, эта база данных очевидно строится поверх какой-то любой другой распределенной базы данных. То бишь она в любом случае может справиться с теми, как бы не с большими объемами данных, чем ниже лежащая база данных, так? Вот так. Тут вопрос в том, что записанные туда данные, это как правило, оно должно использоваться как некая леджер, книга учета. Содержание которой должны договориться некоторое количество разных участников, например, нескольких крупных компаний. И вот эту задачу она решает. То есть у нас есть несколько крупных компаний, которые все друг другу более-менее доверяют. Они могут сказать так, считается, что все разом они... То есть это бизантийский, бизантийский фольклор и консенсус с небольшим количеством актеров, которые могут вести себя, иметь бизантийский фольклор, из того, что я понял. Опять-таки я мог быть совершенно неправ, я читал пейпер очень бегло, я мог быть очень неправ, но из того, что я понял, у нас есть, например, 10 организаций, и мы считаем, что уж 5-6 из 10, или даже 7 из 10, они будут себя хорошо вести. И даже если какие-то из них сошли с ума и какую-то фигню коммитят, ну остальные их проконтролируют. В классическом блокчейне. Нам нужно как бы... В классическом блокчейне у нас актеров сильно больше. И по сути это проблема консенсуса, которую они решают. Ну да, бизантийский фольклор и консенсус. То есть по сути бикчейн ДБ позволяет писать много и часто, в отличие от блокчейна, и с маленькой лейтенанси, но при этом трейд-офит гарантии возможности по бесконечному количеству участников. Бикчейн ДБ по сути устанавливает некоторые организации, которые являются authority. И бизантийский консенсус, насколько я понимаю, достигается между ними. И даже если коммитит кто-то вообще левый, бизантийскость, ну и валидация того, что происходит, насколько я понял, производится только этими authorities. А в биткоине и в нормальном блокчейне вообще никаких authorities нет совсем. Я предлагаю интересное, опять же, двум слушателям обсуждение прекратить. На самом деле, если кто-то из слушателей это понимает лучше меня или прочитал поп-пейпер полностью, пожалуйста, придите и расскажите. Да. Следующая тема моя, я так понимаю. Будет платный переход, нет? Я не смог придумать. Что еще интересно двум слушателям, это следующая проблема. Статья из блога, который часто у нас упоминается, The Morning Paper, и она про следующее. Рассмотрим такую задачу, что нам, вот у нас есть облако, и мы используем его ресурсы для, как это сейчас называется, big data, да? И машин лернинг, и deep neural networks, и вот это все. Проблема в том, что данные наши могут быть довольно приватные, например, это какие-то медицинские данные, и поэтому заливать их в облако, чтобы там обработать, как-то небезопасно. Мы понимаем, что владелец этого облака, он может их, ну, забэкапить на всякий случай. Более того, там наверняка есть бэкапы просто потому, что они нужны в системе. И, оказывается, эту проблему можно таки решить при помощи так называемого гомоморфного шифрования. Что это такое? Есть обычное шифрование, когда, ну, разные его виды, когда ты просто шифруешь что-то с ключом, расшифровываешь что-то с ключом. Есть асимметричная криптография, когда ключа два, один для шифрования, другой для дешифрования. А гомоморфное шифрование — это следующее. Представим себе шифрование как функцию от данных, да, f от x. Представим себе, что мы зашифровали два куска данных, там f от x, f от y. И гомоморфное шифрование — это такое, что ты зашифрованные куски можешь сложить, например. Ну, то есть у тебя есть определенная операция сложения над шифрованными данными, результат которой — это зашифрованная сумма незашифрованных данных. То есть f от x плюс f от y — это равно f от x плюс y. Кроме сложения, также еще может поддерживаться операция умножения. Вот что такое в общих чертах гомоморфное шифрование. Насколько я понимаю, интересно-то было бы, если бы количество функций было намного больше, просто пока их не смогли придумать. Ну, ты понимаешь, что ты можешь использовать разложение в ряд и очень многое количество функций аппроксимировать, например. И, казалось бы, при чем тут облака? При том, что в статье речь идет про нейронные сети, и в пейпере, который эту статью обсуждает, пересказывает, такие удалось сделать нейронную сеть поверх гомоморфного шифрования. То есть, по сути, нейронная сеть, которая использует только сложение умножения. Что само по себе достижение, потому что обычно в качестве функции активации, как, по-моему, это называется, в нейронных сетях, используют разные экспоненты, синусы и так далее. Кроме того, там берутся максимумы, минимумы и вот это все. Вот, тем не менее, сделали рабочую нейронную сеть, которая работает только на сложение умножения. Соответственно, применили гомоморфное шифрование и получили следующее, что ты заливаешь в облако полностью зашифрованные данные, ты обучаешь на этих данных полностью зашифрованную нейронную сеть, у которой все веса и так далее зашифрованные. Потом ты даешь на вход зашифрованной нейронной сети зашифрованные данные, получаешь на выходе зашифрованные данные. Слеваешь в себе, дешифруешь и получаешь что-то осмысленное. При этом в облаке все зашифрованное. Непонятно что на входе и что на выходе. Дешифровать это нельзя, облако само не знает, что оно насчитало. Но пользователю, то есть нам отдало что-то осмысленное. Разве это не здорово? Звучит фантастично и похоже на проект Enigma. Тот, который то ли MIT, то ли Stanford. Так называемый Multiparty Computations, когда у тебя несколько участников в процессе вычислений что-то производят. И при этом каждый может видеть только свой кусочек данных, над которыми можно произвести вычисление. Я, честно говоря, все еще глубоко в эту тему не копал. Но звучит похоже. Пэйпер я так и не нашел времени прочитать оригинальный. Но он небольшой, всего 12 страниц. Я думаю, я... Притом не двухколоночном формате, а в моем любимом обычном. Поэтому я думаю, я на выходных таки его прочитаю. Кроме того, на Википедии есть интересные статьи про гомоморфному шифрованию. Оказывается, это довольно старая идея. То есть там где-то с 60-х идет. Но сравнительно успешной, то есть криптостойкой и полной, то есть поддерживающей не только сложение, но и умножение, она стала где-то буквально в последние годы. То есть речь идет про 2015 год, например. И поэтому все так загорелись. Есть одна проблема с ним, с гомоморфным шифрованием, что оно на самом деле пока что очень-очень медленное. Конкретные цифры примерно такие, что распознавание образа, ну, картинка типа 20 на 20, распознавание образа может занимать 5 секунд, не считая сетевых задержек. То есть типа послать в облако, получить из облака. Что для использования в реальном времени как-то никуда не годится. Но есть несколько моментов. Во-первых, ничто не мешает бачить запросы, за счет чего как бы в среднее время оно будет меньше. Параллелизм, вот это все. Ну, как бы это все. Во-вторых, нет. А во-вторых, вам в шашечки ли ехать? То есть если уж вы хотите полностью шифрование, но оно может быть медленным. То есть как бы гоняете чисто зашифрованные данные, никто теоретически не может вам их расшифровать. Оказывается, это очень сложно, сделать такое надежное гомоморфное шифрование. То есть там я прочитал историю всего этого дела, там прям было очень много попыток, таких хардкорных математиков. Прямо реально десятилетия бились, пока это не заработало. То есть 60-х годов, 50 лет. Да, получается. И да, это, кстати, напоминает ZZRDB, который мы обсуждали в прошлом выпуске. Я так понимаю, там в основе примерно те же идеи, хотя я так пейперы не прочитал. Ну, так что давайте обсуждение какое-нибудь поднимем. Нужно обсуждение, понимаете? Скоро все будет в облаках, все шифрованное. Представляете, end-to-end шифрование. Держать все зашифрованное, писать end-to-end зашифрованное сообщение Валере, или это может быть не блок, а instant messenger. И в облаке будет все вообще зашифрованное. Это вообще очень опасно. Потом придет тебе ФБР и скажет, я хочу, чтобы ты расшифровал или придумал возможность в твоих телефончиках расшифровывать эти возможные штуки. А то я не понимаю, что у тебя есть off the record. Это сообщение вообще не ты слал, там через пару минут уже. То есть криптографы, они вообще такие трудолюбивые ребята, не спят последние несколько лет. Они придумали на 3 хлора, и вот это все схемы, которые тебя от всего защищают. То есть ты уже спустя какое-то время публикуешь секрет, после публикации которого нельзя доказать, что ты вообще что-то кому-то слал.",
    "result": {
      "query": "BigchainDB блокчейн обзор"
    }
  }
]