[
  {
    "segment_id": "3d3ab898-5b3e-46c4-8b0e-4b400373b576",
    "episode_id": "88981b4b-8ad3-4f08-ae0e-a9957a01583f",
    "episode_number": 356,
    "segment_number": 25,
    "text": "как с какого транзакшн айди этот тюпл стал виден и когда он стал не виден эти айди 32 битные поэтому и вот я не очень хорошо знаю эту этот кусок посгресса по моему они замкнуты в кольцо то есть у тебя не так что они при достижении 2 в 32 считается конец а вот у тебя есть метка конца этого кольца и тебе нужно трекать активные транзакции завершенные транзакции и освобождать транзакшн айди которые в будущем могут переиспользоваться для сейчас я говорю очень весело то я понимаю смысл в общем что если у тебя выполняется много транзакций то вакуум в какой-то момент перестает за ними поспевать и перестает успевать освобождать транзак вот эти транзакшн айди и здесь тебе тюнинг уже не сильно помогает у тебя проблема с тем что ты пишешь так быстро проблем в том что у тебя обычно ограниченное количество ядер и ты начинаешь писать так много что ты не успеваешь освобождать транзакшн айди вот я как раз хочу сказать наверняка можно вакуум патюни то есть я отказываюсь считать что у них что как это что они хуже на такой такая лютая нагрузка что просто вообще вакуум не тюнинг то есть я понимаю что наверное они как бы хотели просто сделать фьючерпруф и у них была эта возможность но я также хочу сказать что скорее всего у них там еще можно было с тюнингом вакуума еще год другой да ты можешь триггерить вакуум чаще у тебя за счет этого вся система начинает медленнее работать нет вот этот транзакшн рап раунд это реально родовая травма пасгресс это очень сильные ограничения и я охотно верю что на их объемах на их объемах данных они потому что вакуум он зависит не только получается даже нет объема скорее транзакции от их количества транзакций получается но там несколько факторов один из них это количество твоих транзакций а второе это просто объема твоих данных потому что вакуум он ну да он вынужден сканировать весь хип он он не обязательно всегда вынужден это делать ну короче это тоже влияет повторюсь я вот не эксперт по вакууму это не что-то с чем я очень много работал он вынужден сканировать весь хип который он еще не сканировав прошлый раз если транзакций много то типа считаем что весь хип то есть если транзакции много и в них еще и большие данные то ситуация хуже чем для транзакций просто много а еще может быть так что у тебя ты обновлял данные на какой-то странице которая долго время было холодной ну короче там возникают интересные истории смысл в том что охотно верю что на их объемах и на их количество транзакций они могли в эту период это известное ограничение и если вы придете вот вы выбираете новую систему выбираете использовать подгресс вы приходите в тематический чатик слэки и говорите ребят я собираюсь использовать прогресс я все у меня уже ночь я собираюсь использовать пасгресс о чем мне следует знать вот вам весь сейчас скажут то что нужно знать про транзакшен на рапараунд ты валера говоришь ой да сорян я конечно же замьютился и говорю мют я хочу сказать я тут начал говорить что между как раз вот выпусками предыдущим и сегодняшним случилась такая интересная история что пасгресс это блин пасгресс пасгресс это короче такая довольно популярная база данных даже не просто популярная база данных это еще и популярный язык общения между приложением и базой данных ну то есть типа протокол потому что если мы посмотрим на разные продукты которые выходили в последнее время то есть например у нас есть крейт кажется айоли так база называется на основе эластика если правильно помню у нас есть как рожди у нас есть что-то еще по моему было ну собственно вот мы в своей компании в какой-то момент делали подход к тому чтобы вызывать пасгресс совместимый интерфейс не помню я говорил об этом или нет и тут появилась новость что на какой-то кажется конференции называется next так google анонсировали что в cloud spanner то есть в их кладные то что у вас есть google cloud это google cloud вот в спеннере которые вы можете купить google cloud у вас теперь есть возможность туда ходить не использовать использование из этой сквели если помнить как раз то то как на комы сквели на ком на ком",
    "result": {
      "query": "Postgres transaction ID wraparound"
    }
  }
]