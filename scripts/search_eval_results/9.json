[
  {
    "segment_id": "b55ac688-091b-4073-8007-ec6d47d874e9",
    "episode_id": "f6c3e65b-2a8e-46f1-a83d-e3d96d64af74",
    "episode_number": 9,
    "segment_number": 4,
    "text": "Нет, не как минимум, а как максимум один раз. То есть гарантии доставки нет. И гарантии доставки нет. Это особенно ярко проявляется, когда работаешь с Аком-кластером. И так же это тоже нужно все понимать. Когда ты работаешь с удаленными актерами, нужно понимать, каким образом у нас сериализуются сообщения. И о том, что Java стандартная сериализация работает не так быстро, как хотелось бы, это тоже нужно хорошо понимать, что происходит. Быть может, не в каждом случае нам нужны актеры. Быть может, нам нужно подумать про агенты. Про агенты, к слову, я только читала. И я особо не видела смысла их где-то применять. Мне хватало актеров. Более того, мне хватало, как правило, только нетипизированных актеров. Даже типизированные актеры я использовала только для себя, для своих нужд. А в проекте типизированные актеры я нигде не использовала. А чем типизированное от нетипизированных отличается? Типизированное... Ну смотри, когда ты пишешь нетипизированный актер, ты, по сути, наследуешься от какого-то... От просто Untyped Actor есть такой класс. И дальше тебе нужно только написать метод, который будет обрабатывать твое сообщение. В сообщение у тебя верхнего типа приходит тебе Object, и дальше ты проверяешь. В зависимости от того, какое у тебя сообщение, будет какая-то выполняется логика. Для нетипизированных... Это нетипизированные были актеры. А при типизированных актерах у тебя, по сути, твой обычный класс является актером. То есть тебе не нужно, скажем, тянуть логику, которую идет везде у нас. Есть акка стандартная. А здесь ты можешь, скажем, добавить актеры в твое существующее приложение. Довольно легко причем это делается. Но мне особо такого не нужно было. Да, понятно. От себя я хочу сказать, что статья, она мне показалась довольно такой капитанской. Но это хороший такой чек-лист. Что нужно делать в проекте, что не нужно делать в проекте. То есть когда проект уже есть, можно с ним свериться. Плюс там было пара интересных слов, которые я не знал. Например, какой-то common и greylock. Кстати, могу сказать про common. Когда я смотрела, чем же лучше мониторить акка-приложение, я рассказывала про то, что есть такая хорошая Toza, TypeSafe консоль. Но как я и ранее ругалась на нее, то что она не поддерживает последнюю версию протобафа. Пришлось на проекте откатить версию протобафа на более старую, чтобы это все могло работать. И когда я писала разработчикам, они ответили, да-да-да, мы скоро это все поменяем. Ничего так и не поменялось. И я смотрела на common. И даже пыталась как-то его настроить, но у меня так он с полупинка не завелся. И все. Мне больше не было времени, чтобы этим заниматься. Ну, виду довольно штука интересная. Но не знаю, как она себя покажет. Я искала чат в скайпе, я даже спросила у людей, может кто-то использовал common, какие хорошие новости, может там что-то есть получше, интереснее. Но, насколько я помню, никто мне ничего не ответил. Совет разработчикам – делайте так, чтобы заводилось с полупинка. Да. Мне, честно говоря, намного интереснее показался Greylock, потому что это такое типичное решение, когда у тебя больше одного сервера, нужно куда-то сваливать все логи. И обычные люди попробуют пару решений, плюются, начинают писать свое. Кстати, Вань, вы у себя куда логи складываете? Слушай, у нас столько решений для логирования, что я даже потерялся, какое из них основное. Десятки, миллионы. Реально, каждый напишет свое, а у нас еще несколько команд, каждый написал свое, и все замечательно. Ну, вот как раз то, о чем я говорил. А Greylock – это, похоже, решение именно такое готовое. Не знаю, не пробовал, но слово умное, полезное. Я думаю, надо будет ознакомиться поподробнее. Вспомнилась про логирование, тоже такая обольная тема. Очень много библиотек, особенно в Java мире, которые делают свое логирование и тянут свои зависимости. И получается очень часто в проекте, что у вас есть какой-то свой логер, есть еще какой-то левый логер. И зачастую это незаметно. И видно только, когда вы видите dependency, вообще дерево, дерево зависимости, и тогда можно понять, какие же библиотеки к нам попадают. А это, в свою очередь, очень часто рождает какие-то странные, непонятные, тяжело отлавливаемые ошибки, когда у тебя в класс пасс попадают библиотеки разных версий, скажем, одно и то же, не всегда это совместимо, и они могут в разном порядке пасть в класс пасс, и вот это начинается большая головная боль. Поэтому тоже есть хороший совет в этой статье про то, чтобы посмотрели, что же у вас логирует на самом деле, какие у вас логеры оказались на практике. Очень полезно, и не только в Аке, это вообще везде в Java мире. Очень стоит понимать про то, что у вас попадает в класс пасс. Как оно туда попадает. Вот совет. Очень полезный. Да. А еще есть очень полезная статья, Свет, ты ее добавила. Да. Кстати, про актеров. Да, тоже в тему актеров. Я нашла paper, статья, которая у меня лежала в покете порядка года, и я так ее прочитала, как-то вот на мне. Это pocket, это нормально. Это нормально. Вот я ее такие прочитала. И статья написана про то, что модель актеров не работает, про то, что это все неправда, это все не так, и оно нам не нужно. Статья, ну, странная. Основная идея о том, что вот был когда-то OOP мир, была OOP модель, потом появились распределенные системы, не знали, как с этими распределенными системами работать, и была какая-то модель актеров, математическая модель, придуманная где-то в 70-х, да, в 76-м году. Ее решили каким-то образом заиспользовать в программировании распределенных систем. И наезд на модель актеров в том, что актеры невозможно каким-то образом наследовать, невозможно делать из них иерархии. Вот я не знаю, как в R-Lang мире, а в Java мире это вполне возможно сделать. Как минимум, у вас всегда найдется, ну, всегда это можно делать диригированием, да и, в принципе, вы можете наследовать актеры. И хотя я читала в официальной документации АККИ о том, что это не очень хороший подход, чтобы наследовать актеры, но, в принципе, это было, это работало, и это работало достаточно хорошо. И проблем с этим больших я не видела. И да, актеры можно было наследовать. А что, кстати, Ваня, у вас в R-Lang мире? Ну, у меня тут два вопроса. Во-первых, то есть, как бы, автор не прав в том, что это невозможно, да, а во-вторых, он показывает, какие из-за этого проблемы. Ну, знаешь, это же paper, и это такая очень абстрактная такая статья, и там я не видела, какие проблемы могут быть. Кроме меня, не описано. Ну, то есть, в R-Lang нет наследования, в принципе, то есть, такого понятия нет. Но я так не вспомню на скидку ни одной проблемы, связанной с этим. Я думаю, то, что спрашивает Света, ответ заключается в следующем, что в актерах в R-Lang можно сделать не совсем наследование, скорее можно объявить интерфейсы и сделать их реализацию. Это называется Behaviors. И при помощи делегирования ты можешь изобразить, ну, делегирования и вот этих интерфейсов, ты можешь изобразить вполне себе такое наследование. Ну да, то есть, какое-то псевдо-наследование, но это смотря, какую проблему хотел решить автор, может, он совсем другое имел в виду. Я пока не очень понял, что он хотел сделать. То есть, в R-Lang, например, считает, ну, то есть, все актеры наследуются либо от генсервера, либо от супервайзера, условно говоря, наследуются. Супервайзера наследуются? Ну да. Ну, вообще нет, конечно. Ну, как-то я бы не согласен с наследованием. Это правило хорошего тона. Правило хорошего тона, что у тебя актеры просто сами по себе, это не бывает. У тебя чаще всего они бывают либо какими-то отопосущностями, а это уже все-таки прототипизировано, то есть, у тебя уже есть какой-то у него шаблон поведения, и ты не просто так на пустом месте говоришь. Смотри, то есть, когда ты говоришь, наследуются от супервайзера, супервайзер его породил, супервайзер смотрит за этим актером. Он может сам стать супервайзером, а он может стать тем, кто сидит под таким супервайзером. Нет, смотри, когда мы говорим про наследование, наследование это одно, а тот, кто у нас порождает актер, это другое дело. Вот есть иерархия зависимости между актерами, тот, кто является чьим предком, кто является чьим потомком, это одна история. А есть другая история, это про то, какая логика наследуется в актерах. Это другое. И там про супервайзеров ничего никак не упоминается. Если у тебя актер рождается со свойствами супервайзера, мы можем назвать, что это наследует супервайзера? Ну, да, да, да, ты в принципе можешь сделать так, но я бы не соединяла эти два понятия. Это разные вещи. Почему? Если у тебя нет сущности, кроме как актера, который может исполнять какие-то действия, часть актеров должна быть супервайзерами, часть актеров должна быть теми, кто сидит под супервайзерами. То есть, ну, это все ложится как бы в ОП-модель. Но это сложно назвать, конечно, наследованием, но все очень сильно зависит от того, какие задачи решает автор. То есть, как-то так абстрактно мы сейчас рассуждаем, надо применить. То есть, если бы там были примеры какие-то, можно было бы, например, их рассмотреть. Я предлагаю рассмотреть некую вакансию. Отличный переход, согласен, давай. Значит, это я случайно наткнулся, не помню как, на вакансию. То, что в Трелло ищется новый сотрудник, и они разместили об этом объявление у себя на сайте. Ну, я надеюсь, все знают, что такое Трелло и кто такой Эспольский. И мне очень понравилась краткость описания необходимых навыков. То есть, там говорится, что ищется девелопер, что он должен быть умный и все такое. А для того, чтобы предложить свою кандидатуру, вам необходимо решить маленькую задачку. И эта маленькая задачка здесь описывается, ну, я не знаю, 10 строчек, грубо говоря. Расскажи свою задачу, если можно кратко. Найти 9 букв строчки символов, которые содержат следующие буквы. И там дается частичный алфавит. То есть, не все 26 букв английского алфавита, а, скажем, 20. Я не считал точно, но я вижу, что вырезаны частично буквы. И эта строчка должна быть такой, что функция hash от данной строчки возвращает соответствующее число. Число из 15 символов. И дано описание, что такое функция hash, каким образом она строчку превразует в чиселки. И вам необходимо фактически сделать обратное дехеширование. То есть, вам дано значение хэша, вам необходимо восстановить строчку. То есть, здесь сложная задача в том, что, во-первых, это не прямая задача. Нет возможности, скорее всего, переборов решить. Я думаю, что они защитились от такой штуки, что у вас переборы будут очень долго решаться. И вам необходимо какие-то эвристики находить, чтобы решить эту задачу. И я сходу вешал одну эвристику. Не подсказывай. Задачка действительно забавная. Там такая интересная хэш-функция. Вы посмотрите на досуге на этот псевдоход, который они приводят. И его можно интересно решить. Да, говори. В любом случае, я считаю, это очень хорошей практикой, когда компания предлагает открытое тестовое задание. И я считаю, это вообще очень здорово. Не обязательно апплодиться на какую-то позицию. Вы, как минимум, можете просто для себя в любое свое свободное время решать это. Не обязательно просто, знаешь, какая есть проблема. Вот ты устраиваешься на работу, тебе дают тестовое задание и говорят. Мы, в принципе, не замеряем время, сколько вы решите. Но, скажем, секундомер мы включили. И тебе человек говорит, я знаю, сколько я времени потрачу на такую задачу. И он тебе говорит, я, в принципе, хочу, чтобы сотрудник, которого я нанимаю, примерно решил за такое же время эту задачу. Единственная проблема здесь, и самая большая проблема, это то, что всегда есть какая-то, как зачастую, есть основная работа, еще какая-то деятельность. Например, тяжело. Допустим, мне тяжело прийти после работы вечером и решать задачу. Это не например, это основная проблема. То есть, реально. А как вернуться домой после работы? У тебя еще куча дополнительных дел, тебе нужно еще эту задачу решить. Да, и тебе нужно решать, и тебе нужно начать думать. И при этом думать, и писать хороший, качественный код. Потому что его нужно будет показать человеку, который будет по этому коду как-то тебя оценивать. И в таких ситуациях я обычно просила ребята, да, у меня понедельник, дайте мне на выходных время, потому что у меня банально нет времени решать. И как-то всегда так неловко было просить, дайте мне больше времени. Мол, как бы задача простая, почему вы не можете это сделать? И как это объяснить людям? Ну, не могу, тяжело мне сосредоточиться уже вечером, чтобы делать что-то качественно и хорошо. А здесь, когда есть время свободное, это вот один поинт. И второй поинт, ты всегда можешь оценить уровень задачи, уровень заданий, которые там даются в той компании. И, следовательно, им нужен определенный уровень человек. И по этой задаче можно как-то судить, по крайней мере, как-то хотя бы косвенно, о том, какого плана задачи придется решать, либо какого уровня люди им нужны. Это довольно интересная и хорошая практика. Я считаю, что вот так должно быть, и как можно больше. И это, опять же, хочу вспомнить задачу, которая есть в ЭХО. Шикарная задача, просто здорово. Вот такие должны быть. Не надо нас рекламировать. Но я не могла удержаться, мне правда очень понравилась эта задача. Это вот так должно быть, я считаю. Саша, ты что-то хотел сказать? Да, я хотел сказать две вещи. Что, во-первых, когда... Ну, задачки это хорошо в том смысле, что они позволяют отфильтровать всяких левых чуваков, которые тратят свое и чужое время, ходя на собеседование, чтобы просто попробовать. Но задачки, когда мы давали, мы всегда давали, типа, решайте сколько угодно времени, нам все равно. То есть, хоть две недели. Но обычно... Понимаешь, не все равно. Вот именно. Даже тебе когда говорят, ну, мы вам даем времени много, решайте, когда вам будет удобно. Но если ты принесешь это через месяц, они скажут, ну, как-то вы долговато это решали. Я не могу сказать про них, я не знаю, о каких их речь идет. Но вот когда вот я с коллегами давали задачку, нам реально было все равно, сколько чувак будет решать. Главное, чтобы решил. И ребята присылали очень немногие. То есть, большинство присылало там в течение недели, ну, там полутора. А те, кто не присылал, они вообще ничего никогда не присылали. Это первый поинт. А второй, вот я не припомню, чтобы я... Короче, вот когда я работу менял, у меня ни разу не было такого, чтобы я устроился куда-то, где дают какие-то задачки на дом. То есть, если я куда-то устроился, то там в худшем случае тебе на собеседовании дают какие-то простые задачки. Там, знаешь, из серии на 5 минут подумать. И вот как... Это просто случай. Кстати, да. В общем-то, у меня тоже не было такой практики, что мне на дом... Те компании, где я делала на дом задания, я туда в итоге не соглашалась идти. То есть, офер был, в конце концов, но я почему-то не шла. Но были более интересные предложения. Эти задачи были классные. Мне нравились. И некоторые задачи, вот я считаю, что вот это отличная задача для собеседования. А были задачи, которые ты вот сидишь и, в общем-то, сделал, а потом тебе говорят, ну, вот мы вообще-то что-то другое имели в виду. И тебе говорят, что подумайте еще. И тебе не говорят, вот что не так, чего от тебя хотят. Угадайте, что мы имели в виду. Угадайте, что мы имеем в виду. Там нужно было написать свой СТМ. Ну, спасибо, ребята. Но догадаться до этого... Само это... Ну, была история. Все телепаты в отпуск. Нет, на самом деле, мне кажется, я просто добавлю из старого, то, что вот у нас, когда мы тоже нанимали, и поток людей был достаточно большой, человек присылает задания, я вот вообще не смотрел, когда мы ему его отдали. То есть, он прислал задание, вот его код, я посмотрю его код. И в любом случае, когда он придет, я ему задам парочку вопросов по коду, чтобы понять, он это написал или нет, потому что бывали иногда подозрения, что люди писали не сами. Но какая разница, когда он это начал делать? То есть, я вот сужу по себе, у меня нет времени дополнительного, чтобы решать задачи быстро. То есть, если я и сделаю, я и сделаю не сразу. Как-то так. Я смотрю в наш скрипт. И, Вань, там такие сплошные темы с пометкой Туду, Туду, ты их вообще читал? Это не Туду, это Туду. Это Фейсбук присоединился к открытому сообществу. Туду. Кстати, может, они называются Тудо? Вообще ведь правильно читать аббревиатуры по именам букв? То есть, Туду – это произношение, а Тудо – это аббревиатура. Ну, короче, я не знаю, как это правильно делать. Есть такое открытое сообщество, которое… Как это? Working together to make open source easy. То есть, они… Куча компаний объединилась для того, чтобы развивать еще больше open source. И туда входят Dropbox, GitHub, Google, Khan Academy, Square, Twitter и так далее. Вот сейчас туда присоединилась Фейсбук. И в качестве… Я не знаю, так это или нет, но мне кажется, что в качестве начального взноса они туда добавили такую новую open source штуку, как MC Router. Это роутер, который работает с memcache. И это… Ну, фактически это умный memcache роутер. То есть, у вас за этим роутером может быть несколько кластеров memcache с разными конфигурациями. То, к какому cache, с какими настройками вы обращаетесь, с умными настройками в плане partition tolerance. То есть, когда кто-то отрубается, что надо делать и как надо делать. Они могут ввести логирование запросов для того, чтобы все райты ввести в тот момент, пока какой-то из кластеров у вас упал и недоступен, чтобы потом в дальнейшем перезаписать. Они умеют… Там очень много всяких интересных и вкусных фишек. Это бывает полезно в том случае, когда у вас реально очень много memcache машин, которые объединены в разнообразные кластера с разными настройками, и вы хотите этим очень красиво и мощно управлять. То есть, я думаю, что если у вас, скажем, в вашем кластере больше тысячи серверов и количество memcache серверов больше десятка, то, наверное, вам стоит рассмотреть эту штуку. И они это все сделали за open-sourcing. И что мне больше всего понравилось, MC-роутер в основном написан на C++ с большим количеством использования C++ 11 фич. То есть, мы как-то обсуждали по поводу C++ нового поколения, и вот знаете, кто использует C++ новые фичи. Так он же уже устарел. Мы 14 обсуждали, да. Да, это же устаревший сервер. Это легоща. Может, потому они и вытащили в open-source, что у них теперь есть уже на 14 написано, а это старьё берите сами, используйте как хотите. Вот. Что думаете? Я, честно говоря, не совсем понял. Вот у меня есть куча серверов с memcache. Допустим, я хожу, у меня в конфиге прописаны все эти сервера, и я по хэшу отключаю, знаю, куда мне ходить. Ну, ты понял. Да. И зачем мне роутер? Ну, у тебя могут быть ситуации, например, когда у тебя... То есть, как ты обращаешься к этому memcache? То есть, у тебя всё равно они стоят за какой-то либо, скажем, параксёй, либо за load-балансером и так далее. Вот. Вот mc-роутер может выступать в качестве умного load-балансера, когда у тебя, скажем, один сервер не может не выдержать нагрузки по сети в плане, и у тебя есть, скажем, два сервера. И оба эти сервера посылают риды только на один из memcache, который за ними находится, а рейты посылают на все для того, чтобы сдержать их в консистентном состоянии. Или, например, у тебя есть несколько кластеров, у которых хранится разная информация по ключам. Скажем, там погода хранится на одном, я не знаю, а курсы валют хранятся на другом. И это всё у тебя прописано в виде хитрой строчки в имени ключа. И ты можешь прописать, что если у тебя в mc-роутере это прописать, и использовать фактически один mc-роутер перед всеми memcache, это может быть удобно с архитектурной точки зрения, не надо настраивать разнообразные load-балансеры для обращения к разным кластерам, ты можешь использовать один кластер mc-роутера. Честно говоря, я, может, чего-то не понимаю, мне кажется, это больше проблем потенциально создаёт, чем решает. То есть, ты, например, привёл кейс, когда у меня сервера memcache не справляется с нагрузкой, и поэтому роутер может на чтение балансировать. Я тебя правильно понял? Да. Ну, смотри, тут сразу возникают проблемы с тем, что когда я пишу сразу в два кэша, понятно почему, потому что я потом чтение буду балансировать, мало того, что у меня данные избыточные хранятся и там, и там, память используется впустую, у меня ещё и может сеточка мигнуть, и кэши разъедутся. Вместо простого тупого memcache, когда я по ключу знаю, куда идти, если там ничего нет, значит, промахнулись мимо кэша, и идём за нормальными данными. То есть, простой, тупой и понятный memcache превращается в что-то такое сложное и потенциально не совсем рабочее. И, честно говоря, я скептически настроен. У тебя, когда количество данных превышает способность одного, или количество данных, или количество обращений к этим данным превышает способность одной машины работать с этими объёмами, у тебя возникнет необходимость как-то всё равно это превозмогать. То есть, тебе необходимо либо добавлять шардирование, тебе либо необходимо добавлять каких-то лод-балансеров, тебе необходимо раскидывать консистентные сервера, чтобы ряды к разным memcache пускать. И вот со всем этим тебе придётся работать рано или поздно, когда у тебя масштаб возрастёт. В смысле, подожди, нет, нет, нет. Если я не справляюсь с нагрузкой, например, на чтение, я просто поднимаю ещё 2-3 сервера с memcache, добавляю в конфиг эти новые сервера. Понятно, у меня часть кэша инвалидируется при этом. В смысле, они будут иметь разные данные или одинаковые? Каждый memcache хранит свои данные. То есть, это называется шардирование, то есть, ты будешь шардировать. А кто знает, к какому memcache необходимо обращаться? Я по хэшу отключаю, знаю, куда ходить. То есть, тебе необходимо дополнительно сделать DHT-ринг какой-то, и у тебя прямо в приложении тебе необходимо будет делать этот DHT-ринг и поддержку знаний о том, в какой кластер... Скажем, ты сперва разделяешь на машины, потом ты разделяешь на кластера, внутри которых есть своё разделение на машины. И всё это тебе необходимо засовывать в логику твоего приложения. Да, мне придётся написать целых 5 строк кода. Проблема не в том, что тебе это необходимо в коде писать, а проблема в том, что тебе это необходимо будет поддерживать. В том числе администрировать, в том числе... Вот упал один memcache, тебе надо поднять другой, тебе необходимо конфигурацию твоих кластеров где-то хранить, и вся эта штука отложится на плечи фактически приложения. Хотя теоретически она от приложения вообще никак не зависит. У тебя есть абстрактный слой кэша, и ты можешь его как-то выделить. Ну вот насчёт упал на самом деле интересный поинт. И у тебя получается, что ты можешь теоретически вынести, и большинство крупных компаний они так и выносят. То есть, у тебя уровень кэша становится отдельным уровнем, а твоё приложение просто говорит, а дайте мне из кэша эту штуку. А всё остальное уже ложится на плечи самого приложения. И получается, что тебе придётся фактически самому написать MC-роутер с нуля. А ты можешь взять уже готовый, написанный на плюсах, то есть достаточно быстрый код, и просто правильно его расконфигурировать. Но я как-то так понимаю. То есть, я тоже не пользовал его ни разу, я просто прочитал эту статью, и вот своё понимание рассказываю тебе. То есть, может я ошибаюсь, и кто-то из слушателей его уже использует. Добро пожаловать тогда и к нам в комментарии. Ну и смотри, если ты будешь писать какой-то свой балансер умный для кэшей, это никак не будет 6 строк. Ну не верю. Ну на Ирландии же, ну что ты, сын? 10 минимум, наверное. На Ирландии-то это 3 строчки. Одна из которых это имя модуля. Ну, понимаешь, там должна быть какая-то определённая и хитрая логика, особенно если у тебя какая-то нода падает, тебе нужно как-то перераспределить нагрузку на другие ноды. И это никак не 6 строчек. Ну это, конечно, образно говоря. Это большой кусок логики, нужно писать какой-то хитрый координатор для того, чтобы отсылать запросы. А потом, когда поднимается этот кэш, тебе необходимо его прогревать каким-то образом. Кстати, MC-роутер умеет прогревать кэши, то есть ты ему говоришь, я включаю тут новый кластер с кэшами, давай-ка ты его прогрей. И каждый раз, когда к нему идёт обращение, и когда MC-роутер видит, что здесь у него нет данных, он делает запрос к другому кластеру, где есть данные, а сюда записывает те значения. То есть это он всё сам делает прозрачно. Ты даже не замечаешь этой штуки. В общем, казалось бы, такая простая задача, как кэширование, это на самом деле вам не в тапки ссать. Ты знаешь, кэширование – это обычно самая большая боль, и самые такие тонкие ошибки возникают часто из-за кэшей. Я знаю. В том числе из-за кэшей, например, процессора. Очень хитрые вещи и порой непонятное поведение. Когда в следующий раз вас в Facebook глюкнет, знайте, это MC-роутер у них сбоит. А что ещё не в тапки ссать? Это 40 миллионов долларов. О, это ты про докер? Да. Докер поднял инвестиции на 40 миллионов долларов. Я не нашёл нормальный статив, в котором было бы написано точное значение, во сколько была оценена докер, но насколько ходят слухи, это получается его оценили в 400 миллионов, то есть 10% компании. Так подожди, им дали 40 миллионов или что произошло? Да, им дали 40 миллионов. Кто дал? Там несколько венчур капиталистов. Секвойя, там ещё кто-то, там несколько их. И чего они хотят взамен? Ну, обычно всегда берут... Хлеба и зрелищ. Хлеба и зрелищ, конечно. Всё по-старому, ничего не изменилось. Ваня, слушай, а у вас докер используется? Пока нет. Пока, то есть вы смотрите на него пристально? Да. Просто я только читала, слушала в подкастах о докере. Такая штука интересная, на мой взгляд, но я пока ещё не до этого. Мы вот за докер поговорили с Валерой, ну, как бы в реальной жизни, in real life. И на самом деле пришли к консенсусу насчёт докера, что нужен он по большому счёту в двух ситуациях. Первое, это, допустим, ты очень заморочен насчёт тестирования своего приложения и хочешь протестить, как оно тебя будет вести, когда у тебя сеточка мигает между узлами. Ты на одной машине поднимаешь там 20 контейнеров, какие-нибудь данные в них пихаешь и начинаешь как-то искусственно ронять сеточку. И смотришь, что у тебя при этом происходит. Это первый кейс. Второй кейс, это когда твоё приложение, оно как-то очень заморочено зависит от других приложений. То есть, например, у тебя требования, что приложению нужна локальная реплика Puzzle.Gri. Или там локально хитро настроенный Nginx. Или там ещё что-то такое. И тогда ты все эти зависимости можешь вернуть в один контейнер и катить его как, условно говоря, такой хитрый DEP-пакет. Такой, ну понятно, да, всё в одном. И у тебя в результате может рядом крутиться два контейнера, в одном один Nginx, в другом другой Nginx и так далее. То есть, во всех остальных случаях преимущество, честно говоря, не особо понятно. Ещё можно пяток пунктов накопать. Но я не знаю, стоит ли это сейчас обсуждать. Смотри, какая штука. Теперь всё ближе мы идём к тому, что появляется какая-то тулза. И мы думаем, как же нам её использовать. И начинаем придумывать какие-то странные кейсы, где она могла бы нам помочь. Ну вот здесь я совсем не согласен. Ну что? Это может быть у вас так есть. Но вот лично мне, как появился докер, я сразу увидел десяток разных возможных использований у нас в компании. То есть, начиная с диплоймента, который уже описал Саша, и заканчивая повторяемостью окружения для тестирования. То есть, не то, что Саша описал в качестве тестирования, а именно повторяемость. То есть, ты берёшь с продакшена имидж, скопируешь его себе, берёшь строчку, я не знаю, с курла, нажимаешь кнопку, и у тебя повторяется баг, который появляется на продакшен. Тебе не надо лазить на продакшен, чтобы проявить эту ошибку. И таких кейсов ещё куча. А когда это? Как вы без докера жили? То есть, вы же обходились и вполне неплохо обходились. Ну, вполне неплохо может включать в себя такие практики, за которые можно, не знаю, по пальцам бить. Лезть на продакшен, вставлять туда логи в момент, когда идёт туда большой поток наплыв каких-то кастомеров, тоже не слишком красиво. У вас вообще нет логов на продакшене в обычном случае, что ли? Нет, логи-то есть, но какой-то страшный юзкейс, когда у тебя один конкретный запрос, вроде бы нормальный, внезапно начинают класть твой сервис на этой ноде. Тебе надо понять, почему это происходит. Оказывается, что это какая-нибудь проблема в библиотеке, которую не предусмотрели в правильном случае использованию TF8 при работе с чешскими символами какими-нибудь, я не знаю. То есть, все эти случаи ты заранее не можешь залогировать и понять, что именно не так работает. Поэтому тебе приходится постоянно как-то при очень изобретательных и интересных новых пользователях разбираться на продакшене. Чего я никак не могу понять, это как же нормально решить проблему с сервис регистрейшн? Это ещё одна интересная статья, на которую я наткнулся. Это новый автор, я почему-то не дотыкался на него раньше. Я думаю, что, наверное, многие пользователи докера и слушатели нашего подкаста его слышали и видели. И зовут его Джефф Лин Цей. Он пишет много интересных статей. Вот три последних статьи у него рассказывают как раз про, что такое сервис регистрейшн, чем хорош консол. Вторая статья, чем хорош консол с точки зрения сервис регистрейшн и сервис дискавери. И третья, как поможет в этом смысле докер. Мне очень понравилось, как легко и свободно автор рассказывает про проблемы, с которыми можно обходить, и какие могут возникнуть проблемы, и как их правильно будет решать. И в целом он неплохо теорию показывает, что такое сервис регистрейшн, для чего это нужно. И почему это становится все более актуальным вопросом в современном мире. Ну, то есть, после прочтения этой статьи я наконец-то пойму, как решается эта проблема? Возможно. 50 на 50, как обычно. Ну, от моей тупости зависит. Ну, и я думаю, что сталкивался ли ты с подобной необходимостью раньше. То есть, опять же, эмбеддет разработчики, пишущие на ассемблере, они, скорее всего, даже после прочтения задумываются, что за фигню пишут здесь. Ты знаешь, я сталкиваюсь с этой проблемой ежеминутно, но в течение часа очень много раз, и успешно решаю ее с помощью DNS. Ну, консул включает в себя DNS. То есть, они точно так же решают, просто, может быть, более генерально. А зачем он нужен, когда есть Bind? Bind? В каком смысле ты имеешь в виду? Ну, в смысле DNS сервер. У DNS сервера стандартного есть проблемы. Во-первых, насколько долго он хранит свои записи, насколько быстро он обновляется, и как он будет проверять жизнеспособность какого-то сервера на какой-то определенной ноде, на каком-то определенном порту, чтобы поменять или не поменять свою запись. То есть, подобные вопросы у консула, скажем, решены. А у стандартного DNS тебе придется писать это что-то вручную, дополнительное. Причем заранее даже сложно описать, с какими проблемами ты столкнешься и что надо предусмотреть. Как-то так. Но при том, с точки зрения современных контейнеров, у тебя получается, что контейнеры, они немножко изменили точку зрения. То есть, стандартный DNS, он все равно определяет по имени сервиса IP-шник. А с точки зрения контейнера тебе необходимо определять не только IP-шник, но сейчас уже и порт. Потому что у тебя может быть на одной машине куча контейнеров, скажем, однотипных сервисов, но отличаться будет только названием и портами. Или наоборот, когда у тебя названия не отличаются, но там порт. Ну, короче, куча разных ситуаций. А стандартный DNS не все могут работать правильно именно с портами. Я боюсь пересказать там выпуск Radio IT, я смотрел пару выпусков назад, но ISRV рекорды нет. Ну да, но насколько я понимаю, они не все же поддерживают. Кто не все? А с помощью чего ты будешь его туда прописывать? Я зайду в админку Amazon и ей запишу. А, так вот. А когда новый сервис поднимется, еще раз зайдешь? Новый сервис или сервер? И то, и другое. То есть там вопросов возникает множество, когда начинаешь думать не о том, чтобы поднять себе кластер, поднять кластер достаточно просто, а о том, как поддерживать его в работоспособном состоянии, особенно при наличии, скажем, у Амазона ASG, при наличии каких-то дополнительно своих, каких-то расширяющихся способностей. То есть, ну там пришел еще один кастомер, ты поднимаешь ему полную реплику твоих всех сервисов именно для него. И должен как-то полностью все сдублировать. Ну то есть, там возникает куча дополнительных вопросов. Ну тогда ладно. Свет. А, Свет. Хорошая новость появилась. 12 сентября 2014 года такие ACA Streams и HTTP были релизнуты. Это очень здорово, мы так долго этого ждали, потому что оно все время было в бете, и никто не решался это использовать в продакшене. Все, теперь можно. Вот. Кроме этого, в этот релиз вошел новый DSL для работы со стримами. Называется он FlowGraph DSL. Раньше был другой DSL. Он назывался похожим образом FlowDSL просто. Теперь можно работать со стримами еще лучше. Кроме этого, была добавлена поддержка SSL для стримов. И вот. Как-то так. Еще был какой-то драйв. Еще один DSL был добавлен для работы с ACA HTTP модулем. Для работы с HTTP, по-моему, удобнее. Для роутинга HTTP. В FlowDSL есть ACA IP и Java IP. Что ты хотел сказать? Я все пытаюсь слово вставить. Давай. Ты мне как дураку объясни. Да-да-да. ACA HTTP это, ну, понятно. Это чуваки сделали спрей и впихнули в... Нет, они его переделали. Я же рассказывала про то, как они в рефакторе выбирали оттуда же самые лучшие. Переделывали, и теперь это часть ACA. Ну, условно говоря, это такой HTTP сервер для написания рестов. Так можно его характеризовать? Ну, да. Думаю, да. В первом приближении. Хорошо. А вот это твои ACA Streams. Я так понимаю, это они Storm переписали на ACA? Ты знаешь, да. Это, наверное, самое лучшее сравнение. Это теперь уже не Twitter, а патч Storm. В принципе, да. Я, кстати, с таким еще не сталкивалась с сравнением. Но, да, это самое похожее из того, что есть. Ну, понимаешь, смотри, если у тебя есть уже какое-то приложение, написанное на ACA, то наверняка лучше использовать ACA Streams. Я бы скорее посмотрела в эту сторону, нежели приплетать еще новый фреймворк в существующий зоопарк. И, конечно, интересно попробовать Twitter Storm для каких-то своих целей. Если в ACA это уже есть, то я скорее бы посмотрела на то, что есть в ACA. Выглядит это очень интересно. Ну, вот смотри. Никита Прокопов, если ты... По старой доброй традиции, каждый выпуск мы должны упомянуть одного человека. А, кстати, может быть, разбудим Колю? Коля, проснись! Да, Коля, у нас... Коля, не спи, Коля! Не спи. Коля, не спи! Встань, пройдись. А можно я вас прерву ненадолго? ACA Streams VHTP 0.7 в версии, да? То есть это еще не Production Ready? Ты знаешь... Пока Света думает над ответом, я просто послушаю, что только что произошло. Во-первых, у нас есть слушатель Коля, который просил... Он говорит, что он засыпает под наши голоса. Где-то после часа. Темы типа интересные, но вот под голоса он засыпает. Вот он просил разбудить в Твиттере. Да. А во-вторых, да, для вновь бывших просто пояснение, что мы в каждом выпуске обязательно упоминаем Никиту Прокопова. И Никита Прокопов, он наверняка поинтересуется, что вот в Шторме есть такая проблема, что его очень трудно поменять. .. Топологию? Да, да, да. Топологию. А в Акастримс ее можно поменять прямо в рантайме? Не скажу по этому поводу. Предполагаю, что можно. По крайней мере, топология там не деплоится как-то отдельно, как в Шторме. Но я, скажем, глубоко не работала со стримами, так немного смотрела, но я, пожалуй, пока не компетентна, чтобы отвечать на этот вопрос. Ну, по-моему, но нет, оно немножко по-другому работает, чем в Шторме. Ваня, у тебя был вопрос, и я всех перебил. 0.7. Я все про 0.7. То есть вы говорите, что это интересно и так далее, насколько это production-ready? Ну, судя по тому, что они релизнулись, я думаю, что уже production-ready. Почему все так боятся версий, начинающихся с нуля? Я боюсь вообще всех версий. А вот, кстати, да, в принципе, я как-то не особо обращаю внимание на 0.7, 0.8. Я помню, есть какой-то большой такой всем известный сервис, который до сих пор в нулевых версиях ходит, и нормально все пользуются. Нет, это не нормально. Это Google всех приучил, что давайте в бетах мы будем работать, вы будете верить, что мы вам ничего не сломаем, но вы используете это в production. И все сейчас постепенно начинают это, как бы, перенимать, что это нормальный опыт. Но это не нормальный опыт. Если люди не назвали свою версию 1.0, значит, они еще собираются что-то поменять так, что, возможно, к 1.0 у вас все поломается. Или, возможно, у них есть ошибки. Ты не правильно говоришь какие-то глупости, мне кажется. Почему это? Потому что ты говоришь вещи из серии вот так-то, так-то, так-то, потому что вот всегда так было, или потому что я так считаю. Да, да. Потому что всегда так было. Ну, понимаешь, это же как принято в какой-то библиотеке версионирование. Если у них принято по-другому, то, окей, я думаю, это можно использовать. Нет, я хочу сказать, что да, Вань, это твое мнение, и ты имеешь в него право. А давайте голосование на эту тему устроим. Впрочем, я не чувствую мотивации тебя переубеждать. Отлично, я предлагаю устроить голосование на тему. Можно ли пользоваться раньше, чем 1.0, какими-то версиями в продаже? Можно. Дойдет до этого еще. Да, но в целом мне кажется, что если... Это общепринятая практика, опять же. И опять же, это мое мнение, что если создатели библиотеки или какого-то продукта называют свой продукт 1.0 или больше, значит, они говорят, ребята, приходите. Посмотрите на RAST, к примеру. Да, он же теперь у нас 1.0. Нет, еще, по-моему. Да. Уже все, да, 1.0. Да, я пропустил. Я видел, что они говорили, что мы собираемся его сделать. Уже на этой неделе, по-моему, было. Отлично. Есть что сказать? Я так понимаю, что мы все-таки немножко нагнали. Они действительно планируют его выпустить. Да, планируют. Что вы меня путаете? Разве нет? Подожди, он же на этой неделе был. Нет, они хотят до декабря, до января, по-моему, сделать его. Да, статья называется post road to RAST 1.0. И ребята, да, действительно, что-то мы поспешили, дали маху. Попали в просаг. Ребята говорят, что они очень скоро стабилизируют RAST. И там все будет стабильно-стабильно. И они перестанут наконец-то ломать синтаксис. И можно будет уже наконец-то выяснить, что же это за RAST такой. У них есть список, что еще им осталось сделать. И в этом списке довольно много таких серьезных вещей. Я так понимаю, они хотят это сделать к 1.0? То есть это те большие тикеты, над которыми мы работаем прямо сейчас. Dynamically sized types, то есть динамически изменяемый размер типы. Unboxed closures, associated types. А, деструкторы и зеленые трэды. Деструкторы? У них нет автоматической сборки мусора? У них там есть разные. Мы улучшаем семантику наших деструкторов. Деструкторов не требует 0-ин-0-ин-ин от памяти. Ну, вообще интересно в мире, где все пользуются ГЦ, давно иметь деструкторы. Интересный подход. Тут нужно пояснить. Как я это вижу, опять же, я могу заблуждаться. Mozilla делает DSL для своих задач, а именно для написания браузера. Им нужно сделать браузер, который будет круто масштабироваться на 8 и более яграм процессора. Они сейчас масштабируются, но им нужно вообще, чтобы круто. И поэтому они делают язык, который с одной стороны, такой, весь у себя C++, но с актерами. А с другой стороны, который позволяет всякие низкоуровневые вещи. Типа работа с указателями, выделение памяти лапками. Ну, все. Я поняла. То есть, это обертка над C++ деструкторами. Ребята делают DSL для решения своих задач. Точно так же, как Google сделал Go. Который, как я это вижу, это такой диалект C++, на котором они пишут в Google. То есть, без исключений, без чего там еще они в Google запрещают в C++ и так далее. Нормальное решение. Нормальное решение, да. Я только не понимаю, зачем всем так внимательно на него смотреть и пытаться, не знаю. Бобок рекламирует, потому что. Вообще, здесь совсем недавно, буквально сегодня или вчера, в LiveJournal проскочила заметка одного из апологеров функционального программирования DMZ-LG. Видели, нет? В которой он как раз не хвалит, наоборот, Rust. И говорит, что он не понимает, почему в Rust не поддержат tail call optimization. И там развернулась небольшая дискуссия на эту тему. Я ссылку в шоу на это прикрепил уже. Нужны ли вообще tail call optimization для императивного языка. И если вы хотите писать в функциональном стиле на императивном языке, нужны ли там поддержки tail call optimization. Свет, тебе настало пора перезвонить. Или замьютиться хотя бы. И как раз вот эта штука, почему я лично не смотрю на Rust пока что. У меня пока две причины. Первая причина, что они слишком часто меняют какие-то соглашения внутренние. Так что следующая минорная версия уже становится несовместима с предыдущей. Мне кажется, смысла нет большого смотреть. И вообще мне не нравится такая... Обычно, когда пишут языки, очень много думают сначала, а потом мало меняют посередине. У них получилось так, что они очень мало думали в начале, и очень много меняют посередине. Ну да, действительно. Давайте посмотрим на C++, на Java, на Scala. Все они были спроектированы один раз и никогда после этого не менялись. Не, ну они менялись. Но они не менялись настолько серьезно, насколько ребята в середине переписывают полностью все интерфейсы с нуля. Они уже не один раз это делали. То есть, ну это как-то уж чересчур. То есть, я согласен, что все языки меняются. Наш любимый Haskell и Orlanka, те переписывались, но не раз в полгода. Это во-первых. А во-вторых, отсутствие поддержки tail call optimization. То есть, в современном мире, который доказал уже, что всякие лямбды и поддержка функциональных конструкций важна. Хотя вот исходя из указанного уже поста в LiveJournal, у меня уже нет окончательной уверенности, что эта оптимизация настолько уж необходима. Я не понимаю, в чем... Ой-ой-ой, Свет, Свет, Свет. Свет, там, перезагрузись, или там... Что ж началось? Не говори ничего. Ничего не говори, пожалуйста. И даже не улыбайся. Эх, мы обидели девушку. Ну, обещала прийти с новым микрофоном, а сама... А сама, да. Так вот, мы же благодаря Максиму Сахасскому знаем, что RUST это такая, самая настоящая сишная лапша. И зачем им сишная лапша, какой-то tail call optimization? Вообще, на самом деле, может быть, позовем специалиста по RUST. У нас есть кто-нибудь знакомый, большой специалист по RUST? Ты знаешь, Валера упарывается RUST, но я думаю, его именно к выходу 1.0 можно позвать, и он там все расскажет. На самом деле, может быть, так и сделаем. Да. Давай тогда перейдем к следующей теме. Давай. Значит, следующая тема, я наткнулся тоже совершенно случайно на рассылку в лист гнуорг, почтовая рассылка, где некто Rasmus Borup Barab Hansen, я не знаю, как правильно произнести его имя, написал свой опыт копирования большого объема файлов. То есть у него был небольшой рейд, в котором поломалось то ли один, то ли два диска, я сейчас уже не помню. Ему необходимо было скопировать все файлы, а именно 39 терабайт файлов, на новые винчестеры. 432 миллиона файлов, 39 терабайт. И он по итогам своего копирования, он написал вот этот вот пост на несколько страничек. И, если честно, я никогда не задумывался о проблемах копирования большого числа файлов, и мне прям вот... Он открыл глаза. В частности, он говорит о том, что если вы хотите копировать большой объем файлов, вам необходимо иметь количество оперативной памяти чуть не столько же, а то и больше, сколько вы будете копировать. Потому что ЦП во время копирования, он должен хранить большой объем информации о том, что откуда, куда он скопировал, чтобы не повторять копирование. Подожди, подожди, подожди. Сколько мне чего нужно, когда я куда-то что-то копирую? Ну вот я сейчас не помню точно, давай сейчас найдем здесь информацию, сколько он рекомендует иметь. Но у него была проблема, что... Ну вот в выводах он говорит так, что если вы копируете большое количество файлов, и хотите в том числе сохранять hardlink'и, будьте уверены, что вы имеете достаточное количество памяти. Если вы копируете не с помощью DD, а на уровне файлов. Но вот про объем памяти я сейчас не помню. Ты, Свет, что об этом думаешь? Ну как, меня слышно? Нормально. О, неужели? Да. Все-таки что-то происходит у меня с USB разъемами. Так, про большое количество файлов. А на какой файловой системе у него это все хранилось? Вопрос. Ты думаешь, это имеет большое значение? Ну, мне просто интересно, через что он переносил какие-то свои тулзы, либо какие-то сторонние он использовал. Я так понял, что он говорит про ЦП. То есть это, соответственно, из какого... Просто скопировал. Скопировал. Core Utils, да. То есть он из Core Utils скопировал. Он говорил, что у него было... Сетап это All Dell Server, два ядра, два гигабайта памяти изначальной, он добавил еще 10 гигабайт. И запускалось это на Ubuntu Trusty. И копировалось это все на 12 4-терабайтных дисков в RAID 6. А сколько же времени у него это заняло? Я так понял, что несколько недель. То есть он несколько раз останавливал после суток работы, когда ЦП в режиме Verbus, я так понял, не говорил ни одного нового файла, не копировал, и когда он понимал, что у него ЦП отъел всю память и уже ушел в далекий своп, он с помощью GDB и так далее отлаживался. В общем, в целом получается как? Если вы копируете большие объемы файлов в уверенной своей файловой системе, то есть у вас диски не ломались, не крэшились, и вы можете просто сделать DD, сделайте DD и не мучайтесь. Вывод для меня такой. А если что-то поломалось, то дважды подумайте, поищите информацию, посмотрите, как работает ЦП, копайтесь в исходниках. Подожди, а эти терабайты данных, это он порнуху копировал или что? Ну, скорее всего. Ну, что еще может столько терабайт занимать? Конечно, конечно. Ну да, это большая проблема. Ну да, столько порнухи копировать, это очень тяжело. Вот, Свет, ты хихикаешь, а про тему свою наверняка хочется рассказать что-то интересное. Да, я обязательно расскажу. Тема называется «Тема». Был такой пост интересный, где человек жалуется, как ему тяжело разрабатывать софт одному, ему никто не помогает. А собственно, в чем тема? Он говорит, что разработал первый в мире игровой движок, написанный на функциональном языке программирования. Он использовал F-Sharp и рассказал, с какими проблемами он сталкивался. В частности, ему нужна была какая-то поддержка, и он писал разным людям, в том числе, кто выступал на всяких конференциях, и они в лучшем случае ему просто отвечали, но никакой ощутимой помощи они ему не давали. И в итоге он опечалился совсем, выложил это все на GitHub и просит о какой-нибудь саппорте, либо еще о какой-нибудь поддержке, чтобы хоть кто-нибудь к ним присоединился. И звучит это интересно, но я сильно сомневаюсь, что это прям совсем первый в мире игровой движок, написанный на функциональном языке. А еще он рассказал, что ему изначально говорили, мол, на функциональном языке невозможно написать игровой движок, что это в принципе что-то недостижимое и для этого FPA не подходит, но он не соглашался и все-таки сделал что-то свое. Молодец. Вот мне очень интересно, в какой вселенной он живет. Да, вот это. Ну, это такая странная статья. Вот я ее читала, такое впечатление, что человек как-то обижен на весь мир, и вот что-то такое там было. Может это китайский интернет и китайские разработчики? Я потому что сразу после того, как увидел эту статью, я полез и просто набрал Haskell game engines. И там есть в шоу-ноутах уже ссылка на большой список, то есть там несколько экранов, перечисления просто этих, со ссылками разных игровых движков, написанных именно на Haskell. Они 2D-шные, либо 3D-шные? И такие, и такие. А вот здесь именно 2D-шные. Там 2D-шные тоже есть. Я даже компилировал, запускал и немного играл в трехмерную игру на Haskell, которая подгружала карты от Quake, и ты там бегал и стрелял, правда без ботов. Слушай, я помню, но я не помню название. Как она называется? Черт. Я просто точно ее видел, я даже видео смотрел, но совсем забыл название. Как-то на F начинается, я забыл. Фрак, фрак. С Q на конце, точно. Вот. И еще хотел бы я узнать, а какого вида поддержку он хотел? То есть он хотел, чтобы кто-нибудь пришел и написал ему помог? Или что? Я думаю, ему нужна была любого плана поддержки, как среди разработчиков, чтобы присоединились, так и, наверное, финансовая что ли. Ему никто не хотел помогать, но... Очень странно. Это странная статья, очень странная статья. Но в любом случае, если кто-то ищет проект, чтобы присоединиться на F-Sharp, вот, пожалуйста, помогите человеку. Я вполне понимаю, почему на F-Sharp не пишут никаких игровых движков. Потому что F-Sharp это значит винда, а в винде уже настолько много хороших игровых движков, уже готовых реально. Какой смысл писать новый на функциональном языке? Ну, так вот, понимаешь, вот в этом и есть фишка, чтобы написать на функциональном языке, мол, это... ему говорили, что это невозможно. Ну, как-то странно. Хотя, на мой взгляд, F-Pay не очень хорошо подходит для игровых движков, для такого плана задач, работы с графикой. Ну, я немного писал, конечно, игровых движков, но вот этот список, если честно, меня впечатлил, этих игровых движков на Харскиле. Я думаю, можно даже что-нибудь попытаться скомпилять, посмотреть, как оно на самом деле работает. Ну, а в целом, мне кажется, что когда вы пишете... Это как бы такое размышление, я надеюсь, ты мне поможешь. Когда кто-то создает какой-то новый проект и пытается сделать что-то совершенно новое или в каком-то новом направлении пойти, вообще не стоит рассчитывать, что кто-то вам придет и чем-то поможет. То есть, будет большой удачи, если к вам придет какой-то младший сотрудник старшего дворника, который плохо разбирается в программировании, который скажет, давай мне что-нибудь помочь, я сделаю тебе что-нибудь. Вот это здорово. Если придет настоящий хороший программист, это просто нереальная удача. А если еще и денег положат, ну, я даже не знаю, что для этого нужно сделать. То есть, никаких иллюзий питать не стоит. Open Source мир, он не поддерживает просто так, он не дает денег на халяву. Не прибегают люди, когда ты располагаешься на GitHub и говоришь, у меня тут есть классная штука. Ничего такого нет. Это так срово звучит, как будто не просто его не поддерживают, но наоборот, тебе все мешают, и никто не рад, что ты там что-то делаешь. Хотя при этом, посмотрите, у него на депозиторе на GitHub 51 звездочка, и есть даже 3 форка. То есть, видимо, кому-то это интересно. Кому-то стало интересно. Не все так у него плохо. Ну вот, он нашел себе помощников, похоже. Это же замечательно. Но вот, возвращаясь к функциональным языкам, Саш. А что? Как ты считаешь, хорошо ли подходят функциональные языки программирования для написания игровых движков и вообще говоря, работы с графикой? Ну, мы же все понимаем, Хаскелл и Полон по тюрингу. Ага. То есть, раньше на этом месте стоял Перл с регулярными выражениями. Да-да-да. Поэтому, да, самое лучшее решение для написания игр это регулярные выражения Перла. А что ты сделал для этого? Это надо... Большой плакат такой. А ты написал туда? Я тот орел написал по регулярным выражениям. Вот. Ребят, вы тоже теперь все должны что-нибудь сделать. Не, на самом деле, если очень хочется, если, как бы, ну, я не знаю, хобби нет, личной жизни нет, и в выходные очень много свободного времени, то на Хаскелле пописать какие-нибудь трехмерные игрушки замечательно заняться. Нет, там правда, там есть ближенки к OpenGL и есть движки там LambdaCube 3D. Какой-то еще я забыл тоже там, что-то там с 3D в названии. Но их легко найти. И вот Ваня ссылку уже добавил в шоу-ноты. Так что, если очень хочется, то да, можно. Потом, ну, define функциональные языки. Если мы говорим, что Scala, это, помимо прочего, еще и функциональный язык, то есть движки игровые для Java. Например, у меня в очереди на прочтение книжка про JMonkey Engine. И я думаю, его можно использовать и из Scala. Так что, если очень хочется, то да. Ну, я думаю, лучше рекламы было бы, конечно, если бы Юнити сказали, ну, все, ребят, мы все переписали на Haskell, и теперь отлично работает. Да, мы остались без клиентов, и будем работать за еду теперь. К слову, о Haskell, Саша что-то хотел сказать нам? Ну, перейдем к Haskell, я просто пока не забыл. Там движок Torque 3D недавно релизился, очередной версия. Я, честно говоря, не особо слежу, но в контексте надо было упомянуть. Ну, да. У Haskell есть компилятор, называется JCE. А у него есть разработчики. И они решили ввести блогик и чуть ли не каждую неделю туда писать. И такой интересный блогик. Я вот и буду поглядывать. Потому что ребята там приводят баги, которые они закрыли. И там всякие такие интересные вещи. Я, например, благодаря этому блогику узнал, что в Linux можно JCE запускать под VINE. Вот в голову никогда бы не пришло, честно. Очень удобно. Да, можно компилить программы под винду прямо в Linux. Ну, крутяк. Да. Да. А что еще крутяк? У меня, я же в предыдущем, ну, для тех слушателей, которые к нам только присоединились сегодня. И осилили выпуск аж досюда. В предыдущем выпуске... Какой это был? Восьмой. В восьмом выпуске я рассказывал, что у меня теперь телефон с Ubuntu Touch. И они на этой неделе выпустили апдейт R243. И там реально куча багов закрыта. Прямо пользоваться можно. То есть, например, я начал слушать... Я поставил перед собой задачу послушать все выпуски теории и практики звукозаписи. Подкаст Умбутуна. Замечательный подкаст. Спасибо Умбутуну. И всячески рекомендую. И я залил себе в файловую систему на телефоне 50 или сколько их там выпусков. И обнаружился баг в файловом менеджере. Что он иногда показывает все файлики. А иногда только 7. Вот. И они этот баг починили в новом билде. Они починили баг про... Я жаловался, что там нельзя поставить блокировку... Точнее не так. Когда ты ставишь блокировку экрана пин-кодом, у тебя начинает время на этом экране показываться неправильное. Ну, там, отстающее. Они это починили. Теперь в клавиатуре, когда ты вводишь текст, есть автодополнение и автокорректировка. Но все это в настройках можно включить, отключить. Очень здорово все. И на опенетте буквально сегодня появилась новость, что прямо Canonical считает, что это такой прям production-ready релиз. И он реально такой. Он хороший, стабильный. И вот, Вань, ты же спрашивал, по-моему, про телефоны, которые работают под Ubuntu Touch. Вот. По ссылке можно прочитать, что в Испании выпущены уже модели. И в Китае уже есть модели. Это не считая того, что у них и там есть модели телефонов, типа вот моего Nexus 4, для которого есть официальные сборки, и есть куча неофициальных сборок. Ну, где самому надо прошивать все. Да. Но неофициально-то это вообще не считается. Там они фактически можно... В общем, у ребят все здорово. И они, по-моему, вот этот новый релиз, как бы от предыдущего башенного к этому новому, там, по-моему, пару недель прошло или месяц. То есть ребята такими семимильными шагами идут. Я, кстати, почитал их список рассылки немного. Там у них прям серьезно все. То есть у них есть QA, которые гоняют этот релиз и говорят, что вот, кажется, он стабилен, что можно его раздать на нормальных пользователей, на неразработчиков. И у них есть какие-то автотесты, которые они гоняют на разных девайсах. То есть там у них такой в каноникале серьезный подход ко всему этому. Ну, отлично. А следующая новость? Говорят, что в Москве 24 сентября придет встреча под грейскейль-митап. Саш, ты пойдешь? Понимаешь, ребята устраивают митап в среду. Кто устраивает добаные конференции в рабочие дни? Я не понимаю. Ну, как так? Не, ну, они в 7 вечера. А, ну да, это в корне меняет дело. Конечно. Я же смогу в 6 уйти с работы пораньше и как раз к 7 там буду. Ну, я думаю, большинство программистов именно так и сделает. Я думаю, самое обидное для большинства программистов, что на следующий день четверг и как бы много пить нельзя. Нужно всем на работу. Да. Но я не пойду точно. Почему? У вас же там сплошная пасгре. Ты что, о ней все знаешь? Я... В среду мне неудобно вообще никак. В 7 вечера. Мне тяжело с работы уйти, чтобы попасть туда. Подожди, а ты сейчас в Москве, что ли? Нет. В этом, видимо, и дело. В этом и дело, да. Понятно. Кстати, будет это в офисе Яндекса по адресу улица Льва Толстого, дом 16. У них там, кстати, как-то странно устроено. Вот на том же нашему любимому оппоненте пишут, что нужно зарегистрироваться одновременно и в Яндексе на их ивентах, и одновременно на meetup.com. Это очень неудобно, я считаю. И меня это делает очень грустным котиком. Это специально для сильных духом разработчиков PostgreSQL. Кто очень хочет попасть туда. Слабаки не придут. Ну да, пользователи Postgre, они же привыкли писать хранимые процедуры на каждый insert, update, какой-то там, absurd. На каждый absurd своя хранимка. Поэтому на каждое посещение конференции две регистрации. Удобно. Ну и мы пришли к маленьким темам. К маленьким темкам. На самом деле, эта темка была, на которой у меня курсор. Она была в начале, но мы как-то разговорились. Очень здорово про безопасность и все такое. Ты, Вань, советовал же побегать, попрыгать на День Программиста. И я после того, как на День Программиста искупался в фонтане, пошел побегать, попрыгать и пострелять. Первый раз ходил на Lazertag. Как это правильно называется? Lazertag. В общем, там, где нужно, тебе одевают такой специальный жилетик. И ты бегаешь по такому специальной локации. И стреляешь из таких лазерных пистолетов. И, соответственно, за попадание в чужой жилетик, при попадании чувак временно умирает у него, он не может стрелять. И тебе, соответственно, очки начисляются. Такой Counter-Strike в реальной жизни. Очень весело, я прям очень доволен, прям замечательно. Я сам не играл, но мне рассказывали минусы этой штуки. Это то, что продвинутые чуваки знают, где у них расположены датчики, когда выскакивают на поле, где там есть противоположные крики, которые начинают от них стрелять, они умеют закрывать эти датчики хитрыми движениями руками. Там много хитрости, там еще можно боком повернуться, потому что у тебя эти датчики, они только спереди и сзади, а сбоку нет. Вот-вот-вот. Там еще можно сесть в углу, так свернуться клубочком, датчики закрыть, да, там много разных приколов. Кстати, да, а там есть какой-нибудь прицел, чтобы ты смотрел, куда стреляешь? Ты когда стреляешь, у тебя появляется такая лазерная точка, ты видишь, куда ты стреляешь. И можно по ней ориентироваться. Нужно наверное маленькое совсем ее увидеть. Ее хорошо видно, потому что там темно, то есть в темноте красную лазерную точку очень легко увидеть. Я хочу сказать, что это прям лучше, чем качалка, потому что это и весело, и мышцы напрягаются. У меня там два дня потом болели лапки, было очень больно спускаться по лестнице. Мне кажется, вообще любая активность – это очень весело, особенно с друзьями, если пойти это самое. Надо найти какую-нибудь команду и каждую неделю тренироваться. Расстреливать ее. А у меня брат рассказывал, ну я рассказывал, что у меня есть младший и старший брат, вот младший, рассказывал, что у них корпоратив, вот чуть ли не сегодня или завтра, завтра кажется, они вообще играют на природе, в лесу, вот в это самое. И у них там все серьезно. Есть там лазерные, а, сори, есть снайперские винтовки и там разные другие интересные вещи. То есть прям по-взрослому все. А у них именно лазер так или они краскающиеся? Лазер так. Понял. Ну и пришли к мелким темам, я предлагаю уже перейти к ним. Это разные закладочки, которые необходимо себе оставить, если вас что-то интересует. В частности, Саша вот нашел где-то докту.пдф сервис, который многие разные форматы преобразует в пдф. Я сам не пробовал, но мне понравилось. То есть, если у вас нет другой… Я не пробовал, но одобряю. Потому что у меня довольно часто бывает такая ситуация, что у меня прислали, скажем, офисный документ, и мне необходимо его как-то посмотреть хотя бы. Ну то есть у меня нет офиса на компе. А Google Docs? Google Docs? Ну OpenOffice я не устанавливал себе на Mac OS, а Google Docs он не все умеет, скажем честно. То есть особенно какие-нибудь старые форматы, какие-то непонятные со своим форматированием внутренним, оно бывает иногда настолько криво. А, вы пробовали когда-нибудь онлайн Звербанк рассматривать XLS в Google Docs? Ну это вообще даже в ловер глаз. Великий рандом меня миловал в этом вопросе. Мне тоже не приходилось. Ну у меня вот самая больная тема, это вот захожу в этот Звербанк онлайн, я говорю, дайте мне выписку. Он говорит, сейчас мы вам пошлем на ваш e-mail. Присылают XLS файл. Он в Google Docs открывается так, что, в общем, лучше бы не открывался. Потом его открываю локально, там на Mac OS есть штучка, которая может их открывать. Она открывается там все вообще непонятными закорючками и так далее. Ну, короче, очень удобно все. Устанавливать ради этого винду у меня вообще никакого желания нет. Вот я думаю, может эта штука поможет. В общем, если вам вдруг нужно сконвертировать в PDF документы формата Microsoft Office, Open или Libre Office, тут еще поддерживается за каким-то хреном графика PNG, JPEG. Там всякие тексты, HTML. О, HTML, интересно. Вот HTML можно в PDF сконвертить. То добавляйте в закладки doc2pdf. Но они... desolom.com Так это может туда ссылку просто отправить какую-то и он тоже сконвертит? Нет, тут надо именно загружать, что, кстати, недоработка, мне кажется. Вот им, бизнес идея. Вообще, я хотел бы сервис, которому скидываешь страничку, он тебе генерирует PDF. И не этот самый, не Pocket. Он и не умеет, но вы поняли. А этот Evernote, по-моему, может такую штуку делать веб-клиппером, а дальше экспортировать в PDF. Раньше такое было, насколько помню я. Ну да, но там свои проблемы. Я жаловалась на Evernote, как-то он теперь у меня поставился с обновлением на 8-й iOS. Внезапно сам по себе. Мне тут подсказали идею, почему такая ситуация могла быть. И это объяснили тем, что просто новый Evernote был под новую iOS 8. И именно поэтому он мне не поставился. А мой iPad mini отображал его как установленную. Я не могла вообще ничего с этим приложением сделать. Но как бы есть, но его нигде нет. Да, глюк. А еще я случайно наткнулся. Я не уверен, случайно или нет. Может это где-то пролетало. Есть скринкаст про Vim. И если вам хочется быть настоящим крутым Vim-хакером, вот как Ваня. То вы посмотрите пару выпусков этого скринкаста. И вы прям будете жечь на Vim. Я думаю, чтобы стать крутым хакером, надо записывать эти скринкасты. То есть они для автора носят такой обучающий характер? Да. Ну смотри, любой скринкаст, любая деятельность, например, введение блога. Это в первую очередь самое большое развитие для автора этого же блога. Введение подкаста. Ну и подкаста в том числе. Так менее нужно подготовиться к темам и прочитать их. А еще мы хотели прекламировать новую кампанию Романа Душкина. Он начал собирать деньги на первый этап своего проекта по диагностике эпилепсии. Я не очень понял, о чем это. Я потому что не большой знаток этой темы. Но денег дал. Это система поддержки принятия решений при диагностике и лечении эпилепсии. Роман не вдается в подробности, как он заинтересовался этим вопросом. Но дает понять, что у него есть некий мотив к изучению этого направления. И я не вижу причин не поддержать Рому. Мы в предыдущем выпуске говорили про бум стартер. Всякие не очень хорошие вещи. В предыдущем? Да, в предыдущем. Но тут я думаю, что все будет нормально. Потому что Рома много раз работал с бум стартером. И более того, он живет в Москве. И офис у бум стартера в Москве. Так что там не будет особых проблем. Цель компании собрать 125 тысяч рублей в настоящее время собрана маловато. Не хватает. Прямо скажем. Компания пока не находит большой поддержки. Но все в ваших руках. Я считаю, что любой проект, за который берется Рома Душкин, его надо поддерживать вообще ни за одном. Да. Мы желаем ему удачи в этом сложном деле. Так. Ну и мы можем перейти к вопросам пользователей. К вопросам пользователей? Слушателей. Слушателей. Слушателей. Да я... Который раз? Который раз уже даже. Но ночью, потому что на дворе уже спать хочется. Ну их, к счастью, не так уж много. Так что у тебя есть хорошие шансы скоро отправиться в Крафтфатку. Да. Так. Ну, сперва предлагают обсудить РАСТ. Мы уже сделали. Мы уже это обсудили. Немного. Да. Значимость алгоритмов и структур данных несколького программирования для среднестатистического разработчика. Отличный вопрос. Свет, что скажешь? Я считаю и глубоко убеждена в том, что у любого инженера-программиста должны быть хорошие базовые знания алгоритмов и структур данных. Вне зависимости от того, где он работает, с чем он работает. И я считаю, это должен знать каждый программист, называющий себя программистом. То есть, как минимум, какая-то база должна быть. Он должен понимать, что вот есть у нас понятие «связанный список», есть у нас понятие «массив», есть у нас понятие «множество отображений мэп». То есть, что это такое, как оно работает, какая, ну, хотя бы, сложность в среднем, которая получается, о большой это я не прошу и не требую, чтобы люди знали о маленькой либо Sigma, TETU. Это, скажем, уже избыточные варианты. Но просто понимать, как это получается, почему именно такая сложность получается, и знать хотя бы какие-то базовые сортировки. И я не говорю о сортировках всяких, например, Radix Sort и вот всякие такие хитрые вещи. Это, по сути, уже, наверное, избыточная будет информация. Это было бы неплохо. Но я считаю, что это нужно, это как часть хорошего тона быть таким инженером, у которого есть эти фундаментальные базовые знания. А вот миллион индийцев с тобой не согласятся. Вот я знал, что мнение Вани радикально противоположное. Ну, отпускай пишут свой индусский код, и я не хочу на них равняться. Не-не, я, Свет, полностью с тобой согласен, просто хотел вас пошутить. Я полагаю, что на самом деле сложно вообще просто даже пытаться проектировать или начинать разработку продукта, когда ты даже не понимаешь теоретических пределов, что ты можешь сделать. То есть, если ты будешь делать просто в пустоту, непонятно как, непонятно что, ты можешь легко уйти в квадратичную, скажем, зависимость, когда ты можешь делать за константное время. Вот это нужно всегда понимать. А как ты будешь это понимать, если ты не знаешь основ? Так что я поддерживаю твое мнение. Я считаю, что единогласно, потому что, может быть, тебе... Блин, надо было индийца позвать в подкаст. Который был бы оппонентом. И нет, подождите, мы же выясняли, что нужно позвать в подкаст украинскую девушку-админшу, которая сидит под виндой. Тогда у нас будет вот прям совсем... Да, кворум. Отлично. Вообще, пять нужно было бы, чтобы как-то голоса распределяли хоть в какую-то сторону. И так было бы два на два и все. Ну, это как раз подролить бы вообще здорово. Я думаю, для слушателей вообще самое интересное. То, что я пытаюсь сказать, то, что действительно, может быть, я на работе не пишу какие-то бинарные деревья и так далее, но вот знания, которые были затолканы в меня и моих одногруппников в институте, они многократно пригождались. То есть, ты вообще понимаешь, как ты можешь оценить в голове сложность, понимаешь разницу. Но любой программист должен понимать разницу между, условно говоря, стеком и деревом. И, ну, не знаю, я же молчу о таких очевидных вещах, что вот нас заставляли писать там свои какие-то простенькие, совсем примитивные базы данных на этих B плюс деревьях. Это просто было интересно. Так что тут, похоже, без вариантов, раз у нас кворум проголосовал единогласно, что да, программистам это нужно знать, хотя, может быть, редкий программист работает с такими вещами каждый день, вот сам пишет. Да. Ну, мне приходилось при этом неоднократно. Особенно, когда писала какие-то... Когда писала логику, мне очень часто надобилось понимать, за какое время это будет находиться, какое это значение, как мы будем обходить, это будет либо n квадрат, либо нам не нужен n квадрат, может, нас устроит n квадрат для этих наших случаев. И никогда эти знания не были лишними. Ну и более того, даже как-то был у меня разговор с одним человеком, пишущим на ПХП, и он называл себя сеньором, но при этом понятие не было, что такое большое АТМ. Мне было очень грустно от этого всего. Ну, как же так? Как же так? Ну, просто... Можно развить эту мысль дальше. Я имею в виду следующий вопрос пользователя. Да что ж такое-то, куда ж этот мир катится? Почему пользователи? Слушатели, в введении функциональный анализ появился курс на Телесери, и слушатель приводит ссылку, гость безымённый, и спрашивает, любите ли вы математику. И я так понимаю, подразумевает, а нужна ли вам математика в работе, и может быть, предыдущий вопрос расширить, и нужна не только теоретическая база по программным знаниям, но и по математическим, скажем. Ну, скажем, что касается алгоритмов и структур данных, то это должны знать все, на мой взгляд. А что касается математики, математику я всегда любила и всегда её буду любить, и моя диссертация магистрская будет с этим связана. Но математика, она хороша тем, что она позволяет хорошо развивать логическое мышление, абстрактное мышление. И если у вас есть хороший бэкграунд математический, то освоить тоже программирование не стает никакого труда. Это я так считаю. Потому что программирование, если у вас есть хороший математический аппарат в голове, хорошие заложенные эти знания, то всё это остальное легко берётся из практики. И это вообще совсем просто по сравнению с тем же функаном, матаном и прочими весёлыми штуками. То есть математика в этом плане полезна. Ещё полезна, когда вы читаете какие-то пейперы, особенно когда вы видите какие-то выводки математические, сразу уже становится понятно, как минимум, что происходит, что вообще хотят сказать нам авторы. Это полезно понимать. Вот, из такого. Хотя, по большей части, скорее всего, на практике и в реальной жизни не думаю, что вам это пригодится. И если пригодится, то для довольно редких задач. Чаще пригодится какая-то теория вероятности, мат. статистика. Вот эти вещи куда чаще всплывают в практических задачах. Из такого. Мне немного приходилось с рандомайзерами работать, понимать, что там происходит. Там немного была нужна математика. А так, по большому счёту, математика была нужна на собеседовании.",
    "result": {
      "error": "API request failed: Error code: 429 - {'error': {'message': 'Request too large for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Requested 31016. The input or output tokens must be reduced in order to run successfully. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}",
      "stack_trace": "Traceback (most recent call last):\n  File \"/home/andrei/Projects/podcast-shownotes/scripts/build_search_eval_dataset.py\", line 157, in generate_search_query\n    response = await self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py\", line 1927, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1767, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1461, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1562, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'Request too large for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Requested 31016. The input or output tokens must be reduced in order to run successfully. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}\n"
    }
  }
]