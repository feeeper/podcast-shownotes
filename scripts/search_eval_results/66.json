[
  {
    "segment_id": "25624364-7869-4436-b9db-627fa4232768",
    "episode_id": "55ae46d0-1881-4944-80e9-ffd7e54742d3",
    "episode_number": 66,
    "segment_number": 12,
    "text": "Пока неизвестно о чем он будет, но сериал уже будет. Я лично буду смотреть. И похоже я один, кто полон энтузиазма по поводу этой темы, да? Ну, я, скажем так, очень с осторожным энтузиазмом к этому отношусь, потому что надо еще дождаться. Согласен. А вот чего дождаться не нужно, что уже случилось, это выход обновлений разных ИДЕ от JetBrains. Предновогодние? Да, они тут прямо одно за другим, я смотрю, идея, файчарм, как минимум 2-х инструмента. Какие-то еще? Ну, правильно, не катить же под Новый год. У меня будет релиз под Новый год. Сочувствую. Смело. Я вот, просто это нам озвучили. На одной очень хорошей работе, в одной замечательной компании, у нас было правило вообще за 2 недели до Нового года не катить ничего. Не, ну, просто у нас, в общем-то, не проблема катить и раньше. Вот мы сегодня в пятницу кое-что выкатили в продакшен, нормально все. Но к Новому году заканчивается очень много фич, ну, то есть тебе нужно, грубо говоря, до Нового года зателеверить очень много фич. Знаешь, как всегда, накапливается, в конце чего-то не успеваешь. А если вы раскатите это 10 января, то кто-то умрет? Я так понимаю, обещали. Ну, знаешь, как это обычно бывает. Вот к этому моменту мы сделаем какую-то фичу, маркетинг говорит, о, у нас к этому моменту будет такая-то фича, смотрите, приходите. А ты говоришь, блин, я не успеваю это сделать, и маркетинг обижается. Ну, все понятно. Так о чем я? Во-первых, вышел на этой неделе PatchArm 5, я уже обновился, и да, я пишу в PatchArm на Python и очень им доволен. Плюс один, да. То есть прям реально крутая штука. Дальше. Оказывается, на прошлой неделе мы пропустили все, но вышел CLion 1.2. Они там поправили некоторые баги, которые мне лично досаждали. То есть, например, ты в макросах можешь… Ну, мне, например, очень нравится библиотечка DeferXX, которая делает в C++ дефер, как в Go. И там используется такой механизм, ну, понятно, она работает все на деструкторах, а чтобы у тебя деструктор у объекта временно вызывался вовремя, тебе нужно объявить локальную переменную. А чтобы деструктор вызвался именно при выходе из коопа, тебе нужно создавать переменные с разными именами. И вот в этой библиотечке используется какая-то конструкция типа подчеркивания-подчеркивания line, подчеркивания-подчеркивания, или вот что-то такого рода. И в C-Line был баг, что он, когда пытается интерпретировать такие шаблоны, он туда всегда забивает константу. Типа там, например, строчка всегда имеет номер один. И поэтому у тебя подсвечивался этот дефер красным цветом, что типа, дружище, ты его там вверху сделал, дефер, там все окей. А во втором месте у тебя объявляется переменная с таким же именем, и это ошибка. То есть, понимаете, да? Они, короче, это поправили, и поправили ряд других багов. Сделали интеграцию с фреймворком Google Test, то есть теперь можно кроссплатформенно и вот это все писать тесты. Что еще здесь интересного? А, стал намного круче работать вывод типов для переменных, которые объявлены как авто. Меня это очень радует, потому что до этого он работал так себе, скажем. Ну и всякие другие улучшалки. Я лично уже обновился. Впечатления примерно такие, что многое зависит от того, насколько у вас хардкорный C++. То есть на таких больших, страшных, хардкорных проектах там все будет так себе. На проектах поменьше, где C++ не очень хардкорный, оно в принципе нормально работает. То есть там типа за две минуты проиндексировало, и все работает, все автокомплетит. Вообще хорошо, если вы начинаете новый проект, там вот прям надо сразу брать селайн, не думаю. Вопросы, дополнения? Не думаю. Так, так, так, так, так. И похоже, что эта тема себя исчерпала. Да, у меня тут больше нет пометок. Окей. Ну и... Я думаю, время к темам слушателей пройти. Да, и это прекрасно. Мы уже 2 часа 14 минут разговариваем. Что-то мне подсказывает, что по темам слушателей мы пробежимся очень быстро. И первая тема... Блин, да что такое с дискосом? Вот я не знаю, можно как-то так, не знаю, избить дискос, чтобы он лучше вначале показывал? Лучше вначале, а я не знаю, как он это теперь сортирует. Я думаю, у нас один выход, это написать скрипт на питоне. Окей. В общем, я попробую пойти по количеству голосов. На Гону записать. На Гону записать. На скале. Иерланге сразу, одновременно. На Эрджанге, вот, точно. Так вот, я попробую пройтись по тому, чтобы сортировать по голосам, не знаю, как-то в голове что ли, видимо в уме. Но в общем, не обещаю. Так вот, набравшая больше всего голосов тема. Используете ли вы Cake Pattern Scala? Удобно ли это и лучше использовать что-то из мира Java, Google GUI, SpringDi или специальные библиотеки для Scala? Ну, я небольшой специалист по Scala, но из того, что я знаю, что Cake Pattern, ну, как бы, не то, чтобы его надо избегать совсем вообще, но вот Cake Pattern для DI использовать точно не стоит. Теперь я, пожалуй, передам слово эксперту. Эксперт Светлана. Эксперт Светлана отвечает. Cake Pattern я на своей практике ни разу не использовала и необходимости в этом не испытывала. Вот, для, даже более того скажу, я вот уже, наверное, года полтора не пользуюсь Spring, и я понимаю, что жизнь без Spring тоже есть. Вот, и в принципе, если у вас микросервисы, и если вы в Мэйне возьмёте и построите ваше дерево зависимости, то ничего страшного не происходит. Вот, а если нужно, например, тестировать на разных окружениях с разными параметрами, как это обычно бывает, то есть, когда говорят, почему нужен DI, вот вы и сделали, и потом в XML-е не поправили конфиг, и у вас, получается, переключился на, там, не знаю, на какую-то стабовую версию вашего сервиса. Вот, вот почему DI это хорошо, и почему это очень удобно и эффективно. Вот, на практике получается, что просто разные конфиги для разных окружений, и, то есть, грубо говоря, у вас просто есть некоторые урлы, и вы вот уже в конфиге урл переключили на какой-то тестовый, вместо того, чтобы в каком-то XML-е, не, в какой-то XML-е не что-то менять. Вот, я вижу, что сейчас жизнь без этого есть, жизнь отличная, и пока что необходимости в этом не испытываю. Вот, на CakePattern, насколько я слышала и насколько вот я вижу в сообществе, не особо, ну, сообщество не особо его увеличает, и большой необходимости в этом особо нету. То есть, на самом деле, как такового, выносить вот эти все депенденции, отдельный модуль, отдельную библиотеку, в этом нету необходимости. Только, не менее, на моих проектах это точно нет. Вот, наверное, на этом всё. Александр? Да, я аплюсую, что CakePattern не нужен, и у нас в проекте он не использовался, у нас вместо него использовалась библиотечка под названием Subcat. Я уже прилепил ссылку в шоу-ноты, кому интересно, ознакомьтесь. Она не очень свежая, в том смысле, что там внутри, в кишках глубоко используется манифест и не тайп-теги. Но, в принципе, на Scala 2.11 это работает, поэтому пока никто особо не парится. Вот, оно намного проще устроено, такая приятная библиотечка. Единственный момент, что по моему опыту очень много начинает... Ну, скажем так, ты в одном месте завязал DI, потом у тебя начинает всё делаться через этот DI. Мне кажется, это представляет собой некую проблему. Вот, плюс один, огромный плюс. И потому что есть ещё такой нюанс. Мне недавно пришлось разбираться с новым проектом, он на дотонате написан, и там тоже во всём используется DI. И проблема в следующем, что вы не видите явного объявления ваших зависимостей. Ну, именно по строению дерева зависимости. Оно у вас, получается, так разбросано по всему. И это неудобно. Для новичка в проекте, мне, например, очень удобно. Вот я открыла новый проект на Scala, и там я вижу, как строится вообще это дерево. Я вижу, что, чего происходит, откуда приходит какой-то параметр. И я точно могу узнать, какое значение конкретного конфига я буду иметь в параметрах передаваемых. Я открываю там Application.conf и вижу, ага, вот это нам пришло, такое вот значение. И по большому счёту я пока что хочу попробовать пожить без отдельного инструмента и фреймворка для DI. И я живу так, мне хорошо. Я не вижу смысла. Я сейчас как человек, извините, что перебиваю, как человек вообще далёкий от мира JVM. Я сейчас так слушаю вас, особенно Свету, и такое ощущение, что DI это такая наркота, которые, в общем, там порулись просто много лет, просто по вене ставились, и тут у вас такие чисты вдруг стали, и понимаете, что без этого тоже можно жить. Ну, просто, понимаешь, такая стандартная практика, ты приходишь на любой джавовский проект, и там везде есть спринг. Сейчас да, и мне говорят, что фреймворк с DI. С джавовским. То есть ты приходишь, и там, ну, иногда бывает Google Juice. Но на практике, ну, в основном спринг, всё, что я видела. И ты приходишь, и там вот оно всё так разбросано, всё так по модулям, и у вас бины откуда-то прилетают, и это из одной джарки, это из другой джарки, и здоровый проект, и это настолько сложно, так всё разбросано. Я помню, что в итоге я только через просто поиск по всему проекту, именно полнотекстовый поиск по всему проекту, я могла находить название того, что мне нужно. Это так сложно, неудобно, и я вот сейчас сомневаюсь, что это какую-то пользу приносит. Я хочу как бы сделать плюс один к неявности и сложности, потому что у нас это выглядело так, что у тебя создаётся куча классов, они ещё друг от друга зависят, и тебе, чтобы разрешить вот эту проблему с зависимостью одного от другого, нужно всё сделать обязательно леззи, а леззи – это в скале такой большой жирный мьютекс на переменную, что не очень эффективно, и не знаю, это чревато такими неприятными багами, когда ты запустил проект, и у тебя всё сломалось, ты не понимаешь почему. Потом ты меняешь местами условно две строчки, и у тебя всё заработало, потому что порядок инициализации изменился, и это такая страшная магия, Прямо плюс-плюс у тебя проблемы, извините. Ну, не знаю. Вкратце, какая-то такая довольно спорная тема, прямо скажем. То есть реклама Go, я понял, там же нет DI. Нет, смотри, как бы нет, никто не мешает писать на DI без DI, просто серьёзно, когда вот джавчиков слушаешь, то есть я про DI слышал всегда только от джавчиков и скальщиков, что характерно, я больше про DI не слышал. Кстати, я не согласен, что в Go его нет, в Go есть интерфейс, а следовательно и DI. Вот где его нету... Просто скорее-то в комьюнити не принято сразу братья ширяться этим всем. DI нету в Rust и в Haskell, например. Ну, я, кстати, соглашусь с тем, что говорили, поскольку у меня тоже, когда DI появляется в проекте, он действительно начинает расползаться, и у меня было два таких не очень с ним положительных опыта, очень иногда трудно понять, что происходит, то есть очень странные сообщения об ошибках, в частности, ну, ты что-то там не так аннотировал, и Goose может тебе написать, что ты там Ray out of bounds. И второй момент, это то, что, поскольку для меня это всё равно такой небольшой хак, то есть начинают появляться такие странные классы, которые совершенно замкнуты, они совершенно в себе, все поля там как-то, все они правят, все они где-то как-то инициализируются, снаружи ты к ним не пробьёшься, если ты хочешь с этим что-то поделать. Поэтому да, с DI нужно быть достаточно осторожным везде. В общем, да, дети, не употребляйте тяжёлые наркотики. А ещё у нас... Подожди, Света хотела что-то сказать, а мы её перебили. Просто идея такая, что вот есть DI и Inversion of Control, то есть сама глобальная идея, чтобы ваши зависимости инициализировались где-то вовне, ну то есть, например, у вас есть какой-то класс, который предоставляет вам сервисы по работе с базой данных, и наверняка этот класс будет включать в себя какой-то клиент, работая с базой данных. И было бы неплохо, чтобы этот клиент прилетал как-то извне, или там инициализировался чем-то извне, там, будь то через конструктор, либо через сетторы, например, как в Java принято. То есть это вот основная идея. А то, кто вам будет вот эту зависимость инициализировать, будто фреймворк, который там, например, Spring, либо Juice, либо вы будете это в мейне делать, это уже отдельная история. То есть я не против того, чтобы зависимости прилетали извне, но вот кто извне, это уже вопрос интересный. Хорошо, когда, ну мы как-то приняли определенное соглашение, что хорошо, когда можно, да, есть DI, нет DI, то есть, грубо говоря, ты должен иметь возможность какого-то управления, не делать все только так или только это. Какой-то контроль со стороны разработчика. Похоже, все договорили, да? Ну вот, так, да? Ребят, вообще тут? Мы в ИКВР, мы здесь. Ну просто я, у меня прошлая два раза связь отваливалась, поэтому как бы... Тема себя исчерпала, переходим к новой теме. Да. А еще одна новость из мира JVM, это то, что у нас вышла бета-версия 1.0 языка Kotlin, который лучший язык для того, чтобы писать для него IDE. Так и вышло. Так и вышло. У кого-нибудь вот известно, что под JVMщиков? Я думаю, Саша больше имеет опыты с Kotlin, чем я. Я скажу про Kotlin то же самое, что говорил в предыдущем выпуске, что я очень рад. Окей. Едем дальше. Я не вижу ничего с пятюк, плюсиками, поэтому я перехожу к чему-то с четырьмя. Извините, если я что-то пропустил, это все диск, вопрос к нему. А тут нам Слава Бахмутов принес ссылочку на блог-пост от компании Cockroach Labs, которая делает CockroachDB, который я горячо люблю. Пост о том, как Go это здорово и прекрасно, и почему компания выбрала Go, и почему они этому радуются. На самом деле, мне кажется, что пост написан маркетинговым отделом, и не надо так делать. Не надо такие посты писать. Вы разочаровываете, развенчиваете мой веру в вашу компанию, когда вы делаете такие спорные, коротенькие маркетинговые посты про языки программирования, черт возьми. Согласен. Ну там в комментариях, если я понял, примерно так же обсудили. А еще теперь говорят, что анонсирована MongoDB 3.2. К давно ставшим стандартам Windows 3 доехало несколько сторожей с движком, в том числе InMemory движок. Ну это ставилось уже доступно для скачивания ревью с кандидатами. Ну в общем, я Mongo не люблю, и я просто ничего говорить не буду. Видимо, никто ничего про него говорить не хочет. Я Mongo не использую, мне нечего про нее сказать. Ну и нас она используется. Недавно был большой косяк с Mongo, так я понимаю, больше по вине разработчиков, чем по вине Монги. Вот, и от этого были проблемы некоторые. А кстати, на Highload были доклады от специалистов по Монге, и они рассказывали, что в Монгу то ли уже завезен рафт, то ли приходит. Никто этого не слышал? Я первый раз слышу, но я за ней не слежу, потому что у меня слишком мало доверия к этой системе, чтобы за ней следить. А у меня даже дело не в доверии к Монге, а просто я в последнее время за обычные революционные базы данных, ЦП и вот это все. Говоря, кстати, в Postgres, я слышал краем уха от людей, которые были на Highload, что в Postgres хотят завести шарлинг нормально. Если завезут, то как бы да. У меня будет на прицеле три базы, получается. Postgres, Everything и Crouch. React. React это не база данных, это Eventually Consistent Distributed Storage, это немножко по-другому. Ладно, идем дальше. Снова вопрос про dependency injection. Мы, кажется, уже обсудили, так что мне не имеет смысла снова останавливаться. И там в комментариях большая дискуссия. Тут делится ссылочкой на доклады с Java 1 2015 года, большое спасибо. Рекомендует Саша цикл статей про Python. Тут, наверное, в принципе все из того, что набралось сколько-то голосов. Единственное, что тут есть такая ссылочка с одним голосом, но она в тему к тому, что мы обсуждали в начале выпуска. Эрик Реймонд, небезызвестный в узких кругах товарищ, один из основателей организации Open Source Initiative, опубликовал в своем блоге кусок чата, в котором особо странные феминистки собираются, как бы, устраивать, так сказать, засады на крупных деятелей свободного программного обеспечения, чтобы на какой-нибудь конференции их подловить, соблазнить, а потом заявить, что это они на меня сексуал-ассалт сделали, и вызвать социальное негодование, чтобы подорвать доминацию мужчин в свободном ПВО. То, чем я пытался возмущаться, вот оно вот так оказывается, даже бывает, настолько странно. Ты читал саму переписку? Ага. И там вот прям так и написано? Ага. Я почитаю. Я как-то сильно сомневаюсь. Ну там прям так, что main objective was to get along with the target, and then immediately after cry, attempted sexual assault. То есть, ну, как бы, куда можно однозначнее, я не знаю. Это серьезно очень странно и как бы… Ну в мире много очень странных людей. Я знаю очень странных, совсем очень странных людей. Так что я не вижу, что мы здесь обсуждаем. Это просто к теме про кодов контакта и всякое такое. На самом деле, наверное, все. Мы, наверное, на сегодня закончили. 2 часа 30 минут. Это рекорд, наверное. Это, наверное, один из самых длинных выпусков. Наверное, не самый плотный, но один из самых длинных точно. И на этом, наверное, мы… Подожди, может, обойдем темки какие-нибудь? Да-да-да-да-да-да. Есть еще у нас одна темка. Важная темка. Нельзя про такую забывать. Мы тут много раз говорили про нашего спонсора happydev. ru И вот открыта регистрация на конференцию happydev.ru, которая придется 5-6 декабря на загородной базе отдыха возле Омска. Рано или поздно все сталкиваются с задачами, которые сложны сами по себе, и их сложность не связана напрямую с выбором языка, программирования или инструмента. Для решения таких задач может быть много подходов, и только опыт помогает разобраться. Докладчики на happydev.ru помогут вам сэкономить время и на шишках, и на граблях, и сравнят для вас разные подходы инструмента, а также научат пользоваться ими. Доклады о сложных технических вещах будут понятны и очень полезны, даже если вы не связаны напрямую с разработкой или не очень опытный разработчик.",
    "result": {
      "error": "API request failed: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 7995. Please try again in 15.99s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}",
      "stack_trace": "Traceback (most recent call last):\n  File \"/home/andrei/Projects/podcast-shownotes/scripts/build_search_eval_dataset.py\", line 157, in generate_search_query\n    response = await self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py\", line 1927, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1767, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1461, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1562, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 7995. Please try again in 15.99s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}\n"
    }
  }
]