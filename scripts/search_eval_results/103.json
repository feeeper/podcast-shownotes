[
  {
    "segment_id": "5d9f8ea6-e339-4e88-8915-69397ab9d82f",
    "episode_id": "238e04da-da20-4232-ba7d-4c8c6b7ee1f9",
    "episode_number": 103,
    "segment_number": 3,
    "text": "Есть FreeBSD, у FreeBSD есть порты, и вот туда добавили Haskell stack. И все Haskellисты должны этому быть очень рады, я считаю. Вот такая у меня пачка тем про Nix, вопросы, дополнения. Ну, то есть ни у кого нет Linux в продакшене, и никому не нужно там что-нибудь профайлить. Чаще всего не нужно профайлить, да, хотя Linux и есть в продакшене. Ну, потому что если что-то тормозит, можно докупить серверов, правильно? Ну, на самом деле, Linux просто не нужен, нужна система, которая имеет Detrace, и нужны возможности избавляться от продакшена на Linux, но это я так набросил, на самом деле у меня снова продакшен на Linux. Ха-ха, я неудачник. А на что вы хотите, если не на Linux? Ну, объективы на FreeBSD, он потихоньку умирает. Ну, есть еще SmartOS, Solaris, вот это все. Которые не рождались. Да, которых и не было. Ну, как сказать, ну, есть довольно даже крупные, вот мы недавно обсуждали покупку Samsung, GN целиком построен на SmartOS. Ну да, WhatsApp целиком на FreeBSD, но это не отменяет того факта, что вот объективно все это, оно умирает, вот как бы в большой массе. Я не говорю, что оно когда-нибудь перестанет существовать, оно скорее всего не перестанет. Но вот в большинстве проектов используется Linux. Я, кстати, не понимаю, почему FreeBSD умирает на фоне Linux на серверах, потому что ну не знаю мне лично, при том, что я BSD знаю сильно меньше, бездешный сервер, он кажется чем-то таким гораздо более простым в управлении, чем Linux сервер. Мне кажется, это довольно просто объяснить, вот ты посмотри вокруг себя, вот просто представь себе свой день, людей вокруг себя, которые тебя окружают, и скажи, сколько из них вот знают FreeBSD, или являются хорошими, такой средней руки админами FreeBSD. Ну, ко мне это не применимо, потому что с компанией FreeBSD популярен у нас даже на некоторых проектах в продакшене крутится. Ну вот, ну и ты знаешь много людей, которые прям реально хорошо шарят? Ну в смысле, да. Сколько? Дай подумаю, человек двух, десять, наверное, знаю. Ну, может и действительно не очень применимо. То есть у нас в компании есть действительно хорошие специалисты, но я вот наверное знаю двух, и я тоже не применимо. А так, если брать в среднем, то ты вот не найдешь людей, которые умеют нормально FreeBSD готовить. Ну, проблема-это вечно курица и яйца. То есть у всех на серверах Linux, поэтому не хочется учить FreeBSD, поэтому нет людей, которые разбираются в FreeBSD, их как бы негде нанять, поэтому на серверах не ставят FreeBSD. Нет, ну подожди, а как же ZFS и Database? Вот я не знаю, ZFS есть в Linux? Нет его там. Есть. Ну, блин, он такой же инерковрожденный. Ну, в смысле, с Udoa под GetInstall ZFS, и всё? Ну да, ещё только бы он работал, все фишки бы поддерживал, только ZFS нужен. А ты считаешь, что он не поддерживает? Ну, ARC, по-моему, ещё не завезли. Ну, завезут, проблема-то. Где-то я слышал, что он не очень рабочий пока. В смысле, его пользуют фанаты, но не собирают. Насколько я знаю, он вроде бы рабочий, проблема в том, что его брать, и если окажется, что там что-то сломалось, то это ты будешь виноват, что взял такую непроверную технологию, поэтому её тяжело кому-то в палец. Я сложно себе представляю, чтобы я пошёл кому-то и доказывал, давайте возьмём ZFS, давайте возьмём BSD, или давайте возьмём ещё что-нибудь такое. То есть у меня ни одного даже аргумента нет за то, чтобы это делать. Ну, то есть я пошёл к начальнику, к СТО, сказал, слушайте, давайте BSD, потому что, а дальше я такой стою и не знаю, что бы такое сказать. Продакшен не проще отлаживать. Ну, фиг знает, насколько проще отложить. А вот, кстати, не проще, кстати, вот тоже интересный вопрос. Я, например, знаю, как в Linux профайлить мои программы на C, то есть есть perf, по нему куча статей, как им пользоваться, и вот это всё. Когда ты заходишь в IRC, даже в чатик, и там сидят специалисты по FreeBSD, ты спрашиваешь, чуваки, вот мне бы как perf только под FreeBSD. Они, вот всё, что тебе могут ответить, там типа картинка, знаешь, где такой стек, что типа, ну, вот эта программа, вот тут у нас сисколы, вот тут у нас компоненты ядра, и вот там стрелочками натыкана, какая программа куда смотрит. Видел такую? Ну, она есть и в Linux версии, и в FreeBSD версии. Ну вот, всё, что тебе могут ответить специалисты по FreeBSD, что вот одна из этих программок, она, наверное, тебе поможет, а может быть, нет. Ну, просто, понимаешь, в FreeBSD есть D-trace, и вот у меня D-trace есть на Mac, и у меня вот как бы на Linux есть SystemTab, но он, во-первых, меньше умеет, а во-вторых, по умолчанию он нигде не поставлен, не настроен. Это не правда, что он умеет меньше. Правда, и там меньше провайдеров, и они как бы... насколько я помню, он гораздо менее функционален в плане смотрения в произвольные программы, я могу ошибаться, то есть я знаю, что в плане смотрения в сисколы и всякое такое, он более-менее то же самое, а докер под FreeBSD не очень нужен, когда есть JL. Позвольте, я поправлю. Он немножко другой, то есть у тебя действительно в D-trace есть провайдеры, они там во всякой натыканы, а SystemTab, он предполагает, что ты более-менее шаришь в ядре и знаешь, в какой файлик, в какую процедуру посмотреть. Нет, просто смотри, мне интересно не только в сисколы смотреть, мне вот чем я в своё время помогал в D-trace... Я не про сисколы, извини, у тебя в сетевом стеке тоже есть процедуры в ядре. Это даже немножко по-другому, смотри, вот есть у тебя какая-нибудь такая неведомая ебанина, простите, вроде машин Рубёвого. А вот машин, несмотря на то, что это библиотека для Руби, она, как бы ядро этой штуки написано на C++. Это асинхронная лапша на C++. И у тебя есть какой-то код, который крутится, ну, какой-то код на Рубе, который ведёт себя немножко непонятно. И, в общем-то, для меня было довольно просто, для меня и моего коллеги, было довольно просто взять, как бы, на макет запустить у себя, включить D-trace, притом D-trace именно не на какие-то ядровые вещи, а просто на вызовы функции внутри этой программы, внутренних модулей, и в итоге сузить поиск, так, чтобы мы поняли, что происходит. Позволяю тебе прерву. То есть, ты всё правильно говоришь, да, ты взял конкретную проблему и приводишь её. Это не отменяет всех предыдущих аргументов, во-первых. Во-вторых, тут в чатике правильно пишут, барлок-м, что железо поддерживается сильно меньше во прибеге, если это проблема, ну, то есть я с ней сталкиваюсь часто, присловив, что я, в общем-то, фанат. Правильно пишут, барлок... Извини, ты с ней сталкиваешься на серверах или на дашклопе? Да и там, и там, собственно. Барлок-м также пишет, что докера нет под FreeBSD, но я бы так сказал, контейнеров нет, и то, что там есть джейлы, они очень неудобно ими пользоваться. Ну, то есть, они есть, да, но там ты хочешь им сделать нормальную сеточку вот внутри в машине, и там прям приседать надо. Ну, то есть... Ну, фиг знает, у нас больше новая продакшн с FreeBSD, джейлами и ZFS, и люди рады. Я, собственно, не само грязное. Никто с этим не спорит, и у вас, и у WhatsApp. Ну, это не отменяет того факта, что в целом специалистов мало, и в целом вот всё, что, смотри, выше.",
    "result": {
      "error": "API request failed: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 3357. Please try again in 6.714s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}",
      "stack_trace": "Traceback (most recent call last):\n  File \"/home/andrei/Projects/podcast-shownotes/scripts/build_search_eval_dataset.py\", line 157, in generate_search_query\n    response = await self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py\", line 1927, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1767, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1461, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1562, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 3357. Please try again in 6.714s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}\n"
    }
  }
]