[
  {
    "segment_id": "6078c8af-8cc7-400d-a43f-14094a932608",
    "episode_id": "3dad979c-1ee5-458d-9ebb-c7a944652c09",
    "episode_number": 239,
    "segment_number": 3,
    "text": "Но я надеюсь, что не возникнут. Отлично. Ну давай тогда, может, будем переходить к тому, что же такое SRE в Google все-таки? Давай. Давай вкратце тогда сначала, на бросе. Хорошо. Ну, во-первых, я скажу, что SRE, детали реализации могут сильно отличаться от компаний, в частности, очень многое зависит от размера компании. Моя точка зрения, она основана на моем опыте работы в очень большой компании, где SRE считаются сотнями. Разделены на десятки команд и поддерживают огромное количество разных продуктов. Если речь идет о SRE в маленькой компании, в стартапе, в которой всего 20 человек и один продукт, это, наверное, будет немного другая история. Сказав это, ну, я уже немножко упоминал об этом, но, в принципе, как человек и в плане набора скиллов, SRE, он ничем не отличается от обычного программиста. Мы тоже пишем код, мы в основном стараемся писать код и решать наши проблемы путем создания нового кода, который решает проблемы уже существующего. Ну, не знаю, единственная практическая разница, что дебажить нам, наверное, приходится больше и чаще. А так, ну, просто Software Engineer с немножко другими целями. Что же касается роли самой по себе, то цель Reliability инженеров состоит в том, чтобы обеспечить масштабирование, надежное функционирование, легкое обслуживание некого продукта. И мы работаем в сотрудничестве с продуктовыми командами, у них основная цель писать новые фичи, решать новые юзкейсы пользователей, развивать продукт с точки зрения функционала, а мы одновременно копаем в перпендикулярном направлении, чтобы добиться того, что все, что написали продуктовые команды, оно легко обслуживалось, было надежно, если падало, то само восстанавливалось и все такое. Ну и, в общем, обе эти цели на первый взгляд кажутся противоположными, но на самом деле они хорошо друг друга дополняют, и в итоге продукт получается лучше, надежнее и юзер экспириенс получается гораздо лучше. Волосы получаются шелковисте, это все понятно. Волосы, да. И я хочу добавить сразу, что изначально вообще вся концепция цели, она как раз возникла из-за того, что у Google было желание создать идею и культуру, в которой не будет противостояния, operations против разработки, которая чаще всего возникала раньше и возникает сейчас во многих компаниях. Подождите, мне казалось, что то, что ты озвучишь, мне казалось, это называлось DevOps, нет? Нет, DevOps это не то. Про DevOps я могу сказать отдельно, если вкратце, то во-первых, что такое DevOps, потому что... Это очень широкое понятие. Да, для того, чтобы немножечко опреелиться с терминами, я сейчас скажу что-то, с чем может быть люди не согласятся, но Ops это все, что происходит с кодом после того, как он попал в систему контроля версий. Соответственно, DevOps состоит в том, что одни и те же люди, которые обеспечивают попадание кода в систему контроля версий, они же в той или иной степени и заведуют тем, что происходит после. Ну и SRE это просто один из способов делать DevOps. Так что это... DevOps это концепция, большая концепция того, что у тебя девелоперы делают operations, она не описывает того, каким образом происходит взаимодействие и так далее. А SRE это четкое определение, что ты и как должен делать в компании для того, чтобы у тебя не было конфликтов, для того, чтобы все друг другу помогали, идя к одной общей цели, и вот это все. То есть это немножко разные взгляды на одно и то же, я бы так сказал. Потому что DevOps вообще может быть противоположным от SRE. DevOps это интерфейс, а SRE это имплементация интерфейса, если так понятнее. Отлично, отличная аналогия, мне очень нравится. Подожди, но вот то, что ты сказал до этого, и то, что я потом пояснил, на самом деле оно идет немножко в противофазе. То есть ты говоришь, что люди разрабатывают код, а вы дописываете, делаете, чтобы оно лучше интегрировалось, лучше сопровождалось и так далее. Фактически это ведь тоже немножко разные цели, и они тоже, хотя и не так сильно контрастируют, не так сильно противопоставляются, но по факту вы все равно один и тот же код пишете с разными целями. Ну, верно. Смотри, идея состоит в следующем. У нас как таковые цели, смотри, у продуктовой команды какая цель? Написать фичу, залончить, получить новых пользователей и так далее. И весь их процесс планирования строится исходя из этого. В то же время мы, что часто в реальной жизни при этом происходит, это люди забивают на надежность, начинают создавать технический долг и в конце концов глубоко об этом раскаиваются. Создание отдельной организации СРИ, оно немножко помогает решить эту проблему, потому что у тебя появляются люди, которым не столько нужно срочно зашипить фичу, сколько нужно просто обеспечить, чтобы продукт хорошо работал. Поэтому пока одна команда спешит делать новые фичи, другая команда может сосредоточиться на том, чтобы обеспечить хорошее основание для этих фич, чтобы они потом успешно работали. Описываешь классические development и operations. То есть ты сейчас наоборот вернулся обратно. Я более того сказал, что это мне напоминает такую типичную инфраструктурную команду. Ну по сути СРИ это и есть разновидность инфраструктурной команды. Ну просто раньше была одна такая команда, которая шипит фичи, и команда, которая делает платформу для программистов, которые шипят фичи. А сейчас, правильно ли я понимаю, что мы их переименовали в СРИ? Это сложно сказать. Как это такой вопрос с подвохом? Это специально? Скажем так, СРИ не существуют в вакууме. Они существуют в контексте какого-то конкретного продукта. Допустим, у вас есть веб-сайт. Задача СРИ будет состоять в том, чтобы обеспечить работоспособность этого веб-сайта в условиях жестокости физического мира. То, что сервера падают, то, что сеть иногда глючит, то, что релизы иногда заканчиваются раскаянием и слезами. И вот это все. Просто вот СРИ команда это набор людей, которые специализируются на решении вот таких проблем. И мы вместе работаем с продуктовой командой. Эффективная работа СРИ невозможно без тесной кооперации с продуктовой командой. Поэтому мы должны работать вместе с ними, чтобы убедиться, что все вот эти проблемы, они с одной стороны учитываются продуктовыми разработчиками, с другой стороны у них есть удобные инструменты, чтобы все эти проблемы решать до того, как станет слишком поздно. Вот как-то так. Ты сейчас много всякой воды сказал, не объясним в сути. Как же вы не спорите друг с другом? Давайте так, по кулакам об стол. Ты в какие репозитории контрибуешь? Вот есть репозитории, которые, не знаю, шеф ансибл, это все развертывает по кластеру, там, не знаю, может кубернизм, конфиги, что-то такое. Есть репозитории с, скажем, кодом приложения, которое рисует веб-странички и вот это все. Вот в какие репозитории контрибуешь? Это же монореп, это же куб. Папочки в монорепе, не важно. Отвечаю на этот вопрос во всем. Конечно, больше всего я контрибую в те части кода, которые отвечают за раскатку релизов, которые отвечают за мониторинг и всякие прочие инфраструктурные вещи, в том числе я комичу и в основной продукт, когда вот, ну, грубо говоря, если находится какое-то бутылочное горлышко или бак, который вот приводит к падению сервиса и если я в состоянии его пофиксить сам, то есть если он не требует какого-то очень глубокого доменного знания бизнес-проблемы, и я вполне способен там правильно настроить ретрай РПС или что-нибудь в этом роде, закешировать что-нибудь где-нибудь или поменять там флоу так, чтобы он меньше лишней работы выполнял, я тоже просто возьму и сделаю эту задачу. Вот смотри, давай так, такой пройдем пример. Вот ты сказал выше по тексту, что твоя задача заключается в том, чтобы какой-то бизнес-ориентированный сервис, ну или в принципе какая-то бизнес-функция в организации работала в условиях жестокого мира. Допустим, этой бизнес-функции нужно сделать фейловер. Допустим, у этого фейловера есть какая-то логика, которая трогает бизнес. Вот кто это будет делать, разработчик приложения или СРЕ или вместе будут сидеть, короче, так вот парно программировать за задним монитором, как это будет происходить? Ну, парно программировать вряд ли, но чаще всего это попадает в область компетенции СРЕ, потому что скорее всего мы уже делали подобную фичу для какого-то другого продукта. И это затрагивает еще одну особенность СРЕ в том, что как правило одна команда СРЕ, она поддерживает более чем один продукт. Поэтому у нас есть достаточно широкая картина мира, которую и широкое поле опыта, которое мы можем обобщать и переносить с продукта на продукт. Соответственно, если мы писали фейловер для одного продукта или, допустим, для прошлого поколения этой системы, мы знаем, какие были проблемы с ним и можем помочь сделать это для нового продукта или для новой версии. Надеюсь, это как-то проясняет. А показатели и… А, кстати, отдельная тема. Свет, ну же помнишь про ОКР, когда мы договорились? У вас же ОКР? Ну да. Отлично, можно тебя еще помучать по этому вопросу. И какие показатели вашей работы и как разделять показатели вашей работы от показателей работы команды, которая пишет основной бизнес-логику? Я даже затрудняюсь ответить на этот вопрос. С моей точки зрения это не очень связано с ОКР как таковым. ОКР… Да-да-да, это пока мы не подобрались к ОКР, это просто… Ну, грубо говоря, эффективность работы команды SRE измеряется так, что с одной стороны у нас нет слишком много outages, причем мы изначально исходим из того, что они будут. Если outages не происходят вообще, значит мы слишком медленно двигаемся и ничего не ломаем. И надо, наверное, как-то ускориться. Если у нас выполняется SLA, то значит мы делаем… Ну, как бы наша работа хороша. При этом, учитывая постоянное развитие продукта, который мы поддерживаем, постоянно находятся какие-то вещи, которые нужно делать, чтобы этот SLA можно было выполнять. Соответственно, если SLA зелененький, то все хорошо. И получается, что все поломки сервиса, если вы не укладываете SLA, это ложится на вас, а не на разработчиков бизнес-логики, потому что вы пропустили какие-то потенциальные проблемы и не решили их заранее. Ну, скорее нет. Правильнее сказать, что мы – это первая линия защиты. То есть если что-то ломается, SRE On Call получит пейдж и пойдет разбираться. Возможно, и так случается, что ничего не понятно, и оно сломалось где-то глубоко в дебрях сложного математического кода, который мы ничего не понимаем, и тогда существует ротация девелоперов On Call, которая является второй линией защиты, и мы обратимся к ним на помощь. Например, так. Ну вот, в целом, основная ответственность за надежность и аптайм и выполнение SLA, она лежит на SRE-команде. Следующий тогда вопрос. Вот смотри, к примеру, мы разрабатываем новую бизнес-фичу или вообще полностью новый сервис, продукт, вообще что угодно, и необходимо сделать правильную архитектуру. То есть, с одной стороны, это должна быть полностью бизнесовая часть, в смысле архитектор должен понимать, что этот продукт должен делать, с другой стороны, это должна быть поддержка больших нагрузок, соответствие всем остальным требованиям, включая аутентификацию правильную, правильную работу с логированием или еще с чем-нибудь, без разницы, чем. Я хочу показать, что таких задач полно на самом деле, но часть этих задач должна ложиться на архитекторы с точки зрения бизнес-логики, а часть на архитекторы с точки зрения SRE. Вы как-то вдвоем там сидите или как это делается? Вдвоем, втроем, иногда даже вчетвером. Да, собственно, в этом и состоит идея, что идеальный сценарий сотрудничества продуктовой и SRE-команды в том, что на ранних этапах еще дизайна системы мы садимся вместе и продуктовые разработчики объясняют, что вот у нас есть такие вещи, мы хотим это сделать так и так, после чего SRE говорят, ну вот мы предвидим проблемы здесь, здесь и здесь, и вот как-то так их обычно решают. Давайте попробуем, посмотрим, что получится. А можно вопрос сразу? Смотри, вот у меня, это реальная моя сейчас текущая боль, у нас есть парочка команд, которые не тянут с точки зрения большой архитектуры, то есть заранее почему-то у них не получается сделать такие сервисы, которые в дальнейшем через два года не сломаются при внезапно возросшей нагрузке, ой-ой-ой, никто не ожидал. И как правильно настроить взаимодействие с такими командами? То есть в Гугле, возможно, уже есть готовая культура, что ты посоветуешь остальным не Гуглам? У нас есть пять человек, которые этим разбираются, компания большая и пять человек, которые потянут подобные архитектурные задачи, но к ним никто не приходит. Как у вас это требуется? Это же требуется у вас, это обязательная практика? Ну, не обязательно, на самом деле, скажем так, если твой продукт достаточно маленький, не бизнес-критикал, и если он сломается вдребезги напополам, не потеряются тысячи миллионов долларов. Кто это оценивает? Ну, как правило, какие-нибудь там директора, менеджеры, и вот эти все люди, которые сидят и думают как раз про бизнес именно в цифрах, ревенью и всего такого. Они, как правило, решают, что окей, нам вот этот сервис нам критично потерять, в случае чего давайте пойдем в организацию СРИИ и договоримся, что значит какая-нибудь команда возьмет этот сервис на поддержку, на сотрудничество и так далее. Ну, альтернативный вариант истории состоит в том, что а, ну это маленький эксперимент, пока что денег он не приносит, скорее всего, не принесет, давайте запустимся как есть, а если он вырастет, тогда уже пойдем и будем думать, что с ним делать, нужна ли ему СРИИ поддержка или вообще захотимся переписать. Но это опять же в контексте Гугла, опять же это свойство большой компании, что такие вопросы являются привычными и понятными большинству менеджеров, как со стороны разработки, так и со стороны СРИИ. Мне вот это вообще непонятно, как работает. То есть я имею в виду, у нас небольшая компания, но под сравнением с Гуглом мы вообще никто. И у нас сервисы создаются прям, ну пачками. В Гугле они создаются миллионами. И что по каждому сервису ты идешь к директору, к ВПИ и говоришь, слушай, вот я тут делаю сервис, давай решать нам, привлекать СРИИ или не привлекать, да он пошлет тебя сразу. Ну нет, опять же, некоторое количество здравого смысла никому не мешало. Если у тебя сервис, который не лежит, что называется, на критическом пути каких-то серьезных денег пользователей или пиар ущерба, то никто, скорее всего, не будет отправлять этот вопрос к директору. Скорее процесс идет в обратную сторону, когда сама команда разработчики продукта считают, что ну вот вы знаете, нам наверное нужна поддержка от СРИИ, нам нужно, чтобы кто-то был он колл, нам нужно, чтобы там была ротация, чтобы этот сервис в случае чего там чинить и так далее. В этом случае, как правило, как раз начинается процесс поиска СРИИ команды. Возможно, та же самая продуктовая команда, она уже имеет некоторые сервисы, за которые она отвечает, которые уже являются на поддержке СРИИ и они просто сразу придут к той же команде и скажут, ну вот мы дописали очередной модуль и пожалуйста, давайте его встроим в существующую экосистему. А может и не нет. И те люди, которые написали сервис, они как правило лучше все знают, насколько он критичен для работы компании, работы сервиса. Соответственно, от них все начинается. Тогда следующий вопрос. По СРИИ есть замечательная литература, у Гогла две книжки, мы про них еще чуть-чуть попозже затронем, и в них все замечательно расписано, но по названию книжки, судя, можно сделать вывод, что эту книжку надо читать только СРИИ. И у меня, соответственно, вопрос, то есть если человек пошел в СРИИ, он это знать обязан. Если человек работает и разрабатывает бизнес-логику, я не знаю, какие-нибудь библиотеки на Фартране по отчетной математике, скорее всего, он не читал эти книжки. Где лежит граница, кто в итоге в Гугле знает, как правильно разрабатывать, строить архитектуру, как правильно работать с интроспекцией, знает логирование, настройку и прочее. Это все вещи, которые СРИИ как свои пять пальцев знает. Ну, тот факт, что СРИИ специализируется на таких вопросах разработки не означает, что все остальные про них не знают ничего. Но капу жмет СРИИ. Прости, что? Капу жмет СРИИ. Что такое капу жмет? Диплойт. Кстати, не обязательно. Опять же, если сервис маленький, некритичный и он не поддерживает СРИИ, его разработчики будут отвечать за его диплойт. В этом смысле у нас вся внутренняя инфраструктура работает на штуке, которая называется Borg, которую можно описать как дедушка кубернетиса. Поэтому практически любой разработчик может пойти что-то задиплойт. Вот. А не планируется на кубернетис переносить сервисы, которые на Борге сейчас? Я думаю, это секретная информация. Я еще про какую-то Омегу слышал, у вас даже пейпер был. Но Омега это мамаша. Подожди, дай Костю ответить. Если это NDA, то идем к следующему вопросу без проблем. Скажем так, я даже не затрагивая вопрос NDA, я просто думая об этой проблеме технически начинаю содрогаться и думать, что наверное это не произойдет никогда, потому что столько всего перенести нереально. Да и не сильно надо, если честно. Борг, он как бы не хуже кубернетиса, он просто портретарный. Так а правильно ли я понимаю, что сейчас есть две системы, которые по факту конкурируют друг с другом и они у вас сосуществуют? Да нет, все внутреннее на Борге, все публичное, клауд и вот это все, но на кубернетисе. А что такое Омега? У вас же пейпер был про это. Честно говоря, понятия не имею. Омега это экспериментальная штука. Ну по крайней мере в пейпере написано, что она не нашла использования в гугле. Они на основе этого потом Борга и Омега уже кубернетис создавали. Потом закрыли, закрыли очевидно. Слушай, а еще такой вопрос. Ты сказал, что некоторые сервисы имеют поддержку а некоторые нет. А как понять, какой имеет, какой нет? То есть это какой-то, например, у маркера есть у каждого сервиса, типа вот этот сервис поддержка, этот без. Как вот я вот знаю, я пришла, вот новый человек и хочу понять, как это происходит. Тяжелый вопрос ты задаешь. Да, я попытаюсь ответить так. Если ты член команды, которая работает над этим сервисом, тебе об этом скажут коллеги. Да боже мой, неужели это культура только? Ну как так можно? Если ты человек, который допустим, если ты член команды, которая использует некоторый сервис и этот сервис сломался к чертовой матери и у вас из-за этого все не работает, то есть специальная страница, которая говорит, кому эскалировать для всех сервисов. Ну то есть для каждого сервиса там есть запись, что вот вот эта ротация или вот этот человек или вот этот email, туда пишите проблемы. Ну и если этот сервис поддерживается СРЕ, скорее всего там будет онкол ротация СРЕ. Вот и все. Окей, ну спасибо, это хороший ответ. А мне еще интересно, по процентам, больше сервисов, которые поддерживают СРЕ, либо все-таки больше сервисов, которые поддерживают с разработчиками. Как это соотносится? Чего больше? Я думаю, вопрос сильно зависит от того, что считать сервисом, но в целом я думаю, сервисов, которые поддерживаются разработчиками, больше. Ну просто потому, что... Потому что продеплоили всякого говна? Скорее нет, не так много, ну как сказать, поддержка и СРЕ это некоторая стоимость. В буквальном смысле, как бы ты должен оплатить рабочее время людей, которые в итоге поддерживают, соответственно, нанять дополнительных инженеров и так далее. Поэтому, если поломка этого сервиса не достаточно плоха, чтобы оправдать стоимость получения такой поддержки, он такую поддержку не получит. Если этот сервис может поломаться и пролежать все выходные, пока разработчики не придут в понедельник и никто от этого не пострадает, ну и прекрасно. То есть, получается, при разработке нового сервиса я скорее буду, знаешь, так, biased к тому, чтобы разработчик поддерживал, поддерживала. И если только там какой-то критически важный сервис, вот тогда буду думать о поддержке внешней СРЕ. Скорее всего, да. Ну, я знаю примеры обоих сценариев, когда маленький и, казалось бы, неважный проект в конце концов вырос и получил поддержку, и СРЕ вообще стал весьма критическим. И также знаю случаи, когда продукт разрабатывался с нуля, и всегда было известно, что он рано или поздно получит поддержку конкретно нашей команды, и наша команда тесно работала вместе с разработчиками, чтобы как раз вот предоставить все эти компетенции, которые есть у нас, и результат получился довольно приятный. Как правило, когда заранее известно, что продукт окажется в критическом пути доходов, стараются, по крайней мере, в консультативном режиме привлечь какую-то команду СРЕ. А если нет поддержки СРЕ, то есть ли он колос самого разработчика? Ну, опять же, зависит от... Тест лакмусовой бумажки, как долго должен пролежать сервис, чтобы кто-то от этого пострадал. Если сервис может пролежать, я не знаю, день, то, как правило, он коло ротации разработчиков достаточно. Если нужно бросать все и в течение пяти минут чинить IT-сервис, то, скорее всего, уже нужна ротация СРЕ, геораспределенность, вот это все. Ну и, как правило, это уже уходит в домена СРЕ. А расскажи про принятие нового сервиса. Вот приходит к вам команда разработки и говорит, вот мы написали сервис, нам нужна его поддержка с точки зрения СРЕ. Как этот процесс выглядит? Как вы принимаете от них этот новый сервис? Расскажи, пожалуйста. Это хороший вопрос. Этот процесс может различаться от команды к команде, в частности потому, что некоторые СРЕ-команды могут поддерживать буквально сотни продуктов от сотен разных команд продуктовых. В этом случае у таких команд, как правило, есть чек-лист, который убеждается, что они используют ту же самую инфраструктуру, что остальные 99 сервисов, которые уже поддерживаются. У них есть все стандартные ручки, у них экспортируются стандартные метрики и все такое. И как только этот чек-лист проходит, приемка завершена. Есть команды, больше похожие на нашу, которые поддерживают сравнительно небольшое количество продуктов и команд, но при этом работают гораздо теснее с разработчиками с самого начала. Как правило, это случается с сложными инфраструктурами, продуктами. В этом случае мы просто садимся в одной комнате или через видеоконференцию с разработчиками и пытаемся понять, что этот сервис делает, из чего он состоит, какая у него архитектура, как он может ломаться, что происходит, когда он ломается. И все вот эти вопросы, пока в голову одного из Reliability инженеров не загрузится достаточно точная модель, как этот сервис себя ведет. Вот у тех ребят, которые работают со сотнями сервисов в одной командой, у них как вообще с психическим здоровьем? Там кукуха на месте остается? Мне кажется, я бы поехал. Ну, унификация, она дает обильные плоды. Это все, что я могу сказать. Если у тебя есть сотня сервисов, которые все ведут себя одинаково, RPC вошли, RPC вышли, то в принципе детали бизнес-логики, как правило, по крайней мере с точки зрения оперейшнс, они как правило безинтересны, и поэтому нету никакой сложности в том, чтобы поддерживать большое количество одинаково работающих сервисов. Правильно. Но все-таки... Я хочу вернуться выше по тексту, где я задавал этот вопрос наводящий, про если нужно написать какой-то хитрый фейловер, то SRE подключается. То есть я правильно понимаю, что такие сервисы, где такого специального фейловера быть не может, именно поэтому их 100? Прости, не понял вопрос. Ну то есть это не такие посложности сервиса, где нужно погружение SRE прямо в код сервиса? Ну в общем да, верно. Ну мне все непонятно. Ладно, давай, Свет, давай, теперь ты. Ты сказал, что с точки зрения оперейшнс это не очень важно, то есть там на выходе RPC, на входе RPC, но если что-то ломается в продакшене, и это ломается что-то, например, в бизнес-логике, и вы вот какой протокол, вы идете там прям чините, но вы же не знаете бизнес-логику, почему ты сказал, что они одинаковые в оперейшнс? Ну на это я могу дать такой ответ. Одна из вещей, которая происходит в процессе принятия команды SRE сервиса на поддержку, состоит в том, что пишется набор плейбуков. То есть все предсказуемые способы поломки сервиса, они, как правило, опять же, в пределах человеческих возможностей, они рассматриваются и прописывается некоторая последовательность действий, как эту поломку митигировать, после чего уже самое главное остановить кровотечение. Как правило, в серьезно подавляющем большинстве случаев достаточно просто убрать трафик из какого-то дата-центра, в котором все сломалось, и распределить его осторожно по всем остальным. И часть работы SRE состоит в том, чтобы была достаточная capacity во всех остальных дата-центрах. Но я отвлекся от вопроса. Собственно, когда есть набор плейбуков, человек он колл, получает пейдж, смотрит, что за поломка, и если он просто уже из своего личного опыта не знает, как с этим справиться, он просто пойдет и посмотрит, что написано в плейбуке. Если в плейбуке ничего хорошего не написано, то всегда есть escalation path, который, как правило, ведет к девелоперам. Но опять же, все критические и особенно, что называется, user-facing сервисы, у них всегда большой упор на том, чтобы митигировать проблему в первую очередь, а потом уже искать решение. А вот с этими плейбуками, насколько они помогают с поиском? Представляешь, ситуация, поднимают тебя, 4 часа утра, и это нетипичная ситуация, нужно идти в плейбук, смотреть 50 страниц текста, и думаешь, что я буду сейчас читать это все, а у тебя же нужно быстро это разрешить. Расскажи про такой кейс. У вас какая-то автоматизирована система, чтобы быстрее искать нужные кейсы? Плейбуки, как правило, структурированы просто по имени-алерт, а если я получаю определенный алерт, я иду смотреть на плейбук, соответствующий этому алерту. И плейбук длиной в 50 страниц – это плохой плейбук. Опять же, как правило, плейбук должен быть достаточно коротким, чтобы ты мог в 4 утра быстренько посмотреть по заголовкам, найти подходящий заголовок, и дальше проследовать по простому списку из 5 пунктов, как, собственно, решить эту проблему. Беседа начинается, когда ни один из заголовков не подходит. Да, то есть это получается эскалац на следующий уровень, правильно? Ну, как правило, да. Хорошо. А вот еще такой вопрос. Просто из моего опыта, когда программисты сами ответственны за свои сервисы в продакшене, это очень дисциплинирует в каком-то смысле. Потому что я помню, притянула я как-то, захотелось мне использовать Hazlecast в продакшене. Притянули мы в продакшен, круто заперли фичу, а потом оказалось, что наша система не работала, и нам прилетели альерты очень быстро, когда она буквально день проработала. И ты знаешь, после этого, наученная горьким опытом, я начинаю куда более аккуратно относиться к выбору технологий. И это происходит вот этим путем ошибок и бессонных ночей. Мне кажется, это нужно, чтобы было, чтобы понимать, почему я выберу определенную технологию, почему я буду более консервативна и не буду тянуть совершенно новое, непроверенное что-то в продакшен. И вот знаешь, такая более философская тема. Как ты считаешь, если разработчики перекладывают operations на SRE, не лишает ли это разработчиков понимания, как оно работает в продакшене? И чтобы чувствовать эту боль и понимать, что не так работает. И таким образом улучшать себя как инженера. Ну, ты говоришь правильные вещи, и ответ такой, что, как правило, смысл SRE не состоит в том, чтобы забрать на себя всю operations работу. Опять же, смысл состоит в том, что SRE, как правило, является либо точкой интеграции большого количества разных продуктов, либо просто носителями определенной экспертизы в большей степени, чем среднестатистический разработчик. Просто вот мы концентрируем наше внимание на определенном типе проблем. При этом это безусловно не означает, что разработчики продуктовые эти проблемы полностью игнорируют. Просто им сложнее держать в голове и проблемы operations, и проблемы разработки сервиса. Но опять же, поскольку, как правило, в любом серьезном бизнес-критическом сервисе есть и ротация Devon Call, которую мы эскалируем в случае какой-то сложной проблемы, они остаются информированы о многих аспектах оперирования продукта, который они пишут. Опять же, эскалации не всегда происходят в результате какого-то инцидента, а просто, например, мы можем посидеть, посмотреть и понять, что вот мы, допустим, за последний квартал потратили столько-то времени на то, чтобы делать выкатывание релизов вот этого продукта, и это занимает столько времени, потому что оно совсем не автоматизировано, потому что нет никаких сигналов, которые продукт бы о себе экспортировал. После этого мы пойдем и расскажем об этом нашим партнерам виз продуктовой команды и скажем, что вот у нас есть такие-то проблемы, и давайте вместе подумаем, как их решить. Вы хорошо знаете бизнес-логику, вы поможете нам придумать, какие сигналы лучше экспортировать, а мы подумаем, как лучше это обвязать в существующую инфраструктуру, чтобы она автоматически подхватывалась. Как-то так. Это постоянное сотрудничество. Просто тип проблем, на которых мы тратим большую часть своего внимания, он немножечко разный. Если получается, раз в 4 месяца, и в 3 месяца вы садитесь, анализируете, как оно было за последнее время, и потом уже собираете фидбэк и отдаёте инженерам. Вот это такой процесс? Нет, не совсем. Это может сильно зависеть от команды в команде, но, например, в нашей команде есть еженедельный продуктовый митинг, на который мы разбираем все инциденты, которые происходили за последнюю неделю, и на этом митинге всегда присутствуют представители продуктовой команды. А кто из продуктовых представителей? Это инженеры, либо менеджеры туда входят? Менеджеры туда чаще всего ходят, потому что менеджеры зачастую... Им это помогает держать более полную картину своего продукта в голове. Чаще всего туда приходит текущий DevonCall, который является второй линией эскалации. Ну и, как правило, есть некоторый набор людей, которые в целом интересуются такими проблемами больше, чем другие, и они тоже туда часто ходят. То есть, как правило, это достаточно разношерстная компания представителей продуктовой команды, которая с течением времени немножко варьируется, но эти люди всегда там присутствуют, и смысл этого митинга как раз в том, чтобы регулярно доносить до них тяжелые аспекты физического мира и как он борется с существованием их продукта. А в обратную сторону вы получаете фидбэк, например? То есть инженеры-ли доносят ли они какие-то свои еще хотелки вам? Ну да, как правило, в том же митинге. Этот митинг это как раз для того, чтобы мы обменялись наборами наших проблем. Например, типичная проблема, с которой к нам могут прийти, состоит в том, что автоматические роллауты слишком часто фейлятся. И каждый раз, когда кто-то идет и разбирает, почему по фейлу сякдалось, что это просто шум мониторинга был. Шум мониторинга? Ну, как это, transient. Грубо говоря, сигнал нездоровости сервиса был временный и ничего по большому счету не значил, но это пофейлило автоматический роллаут, потому что роллаут был настроен очень параноидально, и в случае чего сразу все отменяет. Такого рода вещи. И вот разобраться, почему происходит этот шум, откуда идут поломки сигнала и восстановить порядок, это тип проблемы, с которыми к нам могут прийти продуктовые разработчики и сказать, что вот... И как правило, у нас есть лучшая экспертиза, чтобы эту проблему решить. А можешь еще рассказать про гейдлайны для плейбуков? Ты упомянул, что они должны быть короче, чем 50 страниц, а что еще там должно быть? Ничего там не должно быть. Из опыта хороший плейбук и плохой плейбук, что они собой представляют? Ну, идеальный плейбук, это, грубо говоря, набор ссылок на дашборды и относительно простых шагов, которые решают конкретную проблему. То есть, я не знаю, у нас есть алерт, допустим, некий абстрактный, на большой процент ошибочных ответов в RPC сервиса. И в плейбуке будет список основных причин, почему это может происходить, как определить, какая из этих причин в данный момент активна. Грубо говоря, вот посмотрите на этот дашборд, если там какие-то показатели ведут себя таким-то образом, то скорее всего происходит вот это. И здесь три простых шага, как пофиксить эту проблему. Плохой плейбук говорит о том, что, ну, посмотрите по дашбордам, вот, там, я не знаю, попробуйте поковырять какие-нибудь крэшдампы. Если вам кажется, что здесь что-то подозрительное, выполните такую-то команду, или попробуйте, там, я не знаю, сделать еще что-то непонятное и требующее глубокого доменного знания. Вот. Ну, грубо говоря, плейбук должен быть такой, чтобы ты вот в 4 часа ночи, только что проснувшийся, мог его прочитать и понять. Света, у тебя закончились лапы, кажется. На самом деле, я добавлю, что тема того, что представь себе, что ты проснулся в 4 часа ночи, это вообще довольно повторяющийся мотив в нашей работе, который определяет очень много решений, которые мы принимаем. Давайте, кстати, об этом поговорим. Смотри, вот ты лично сколько раз в год просыпаешься в 4 часа ночи? Ну, вообще, в нерабочее время, как часто ты просыпаешься? Даже так, давай разделим. Как часто ты просыпаешься ночью и как часто тебя дергают в нерабочее время? Ну, смотри, есть такая штука, называется онкол, да? Понимаю, но, смотри, онкол, я бы бывал онкол, онкол бывает такой, что, типа, ну, тебя не дергает, и ладно. Я так понимаю, что если ты с РЕ, у тебя не бывает так, что и онкол тебя не дергает. Ну, или, даже так. Мне интересно, как часто оно реально загорается в моменты, когда у обычных людей нерабочие часы? Серьезно, зависит от команды и от времени. Грубо говоря, в периоды, когда наша команда принимала на поддержку новые продукты, которые еще не были обкатаны, и у них там было много всяких корнер-кейсов, которые не были известны, тогда довольно часто что-то ломалось, ну, просто вот в течение всей твоей смены. Смена в нашем случае это 12 часов, начинается она в 6 утра и заканчивается в 6 вечера. После этого пейджер перенимает нашу сестринскую команду в Америке. Есть какие-то там, не знаю, допкомпенсации за особо тяжелые, не знаю, грубо говоря, там, где я работал, онкол были, в общем-то, по сути, бэк-энд разработчики, ну, там, где я был онкол. И это компенсировалось просто, ну, типа по АТК, там были сверх... ну, по немецкому АТК, сверхурочные деньги платились за онкол, когда ты не в офисе. Как это у вас, как это в контракте прописано? Просто у тебя вот столько часов онкола входит в, не знаю, в контракт, или там вас дают какие-то, может быть, дополнительные выходные, или еще что-то, как это вообще работает? Ну, в контракте это прописано быть не может, потому что количество онкола, оно как бы может варьироваться. В зависимости от многих факторов. Но, ну да, есть стандартная политика компании, которая говорит, есть такое понятие пейджер-СЛА, это, грубо говоря, после того, как к тебе пришел пейджер, как скоро ты должен быть перед клавиатурой и дебажить проблему. Вот. В зависимости от того, сколько времени тебе вот дается на то, чтобы добраться до компьютера, грубо говоря, от этого зависит рейд, по которому тебе начисляются бонусы. Бонусы можно использовать как на отгулы, так и на просто как добавку к зарплате. Это добровольно. Звучит интересно, довольно-таки интересная система. Ну а какие-то еще дополнительные шаги компания предпринимает, чтобы что-то с Ирьею дружно не поехало? Ну, то есть это довольно сложная такая работа, в том плане, что она дает некоторые ухудшения качества жизни, ухудшения качества отдыха. Как бы есть ли еще какие-то вещи, кроме вот этих бонусов начисляемых, которые компания предпринимает, чтобы вы все оставались там отдохнувшими и психически здоровыми? Ну, само собой. On-call, особенно когда он-кол довольно шумный получается, это большая нагрузка. И во-первых, большая компания такая, как Google, может позволить себе геораспределенные ротации, которые существенно повышают качество жизни. Иными словами, тот факт, что 12 часов в сутки, несмотря на то, какой там происходит кошмар в продакшене, я могу просто делать все, что хочу, спать, там, не знаю, смотреть кино, играть в игры, это очень сильно помогает отдыхать в промежутке и поддерживать свою бодрость. Это один аспект. Если компания может позволить себе геораспределенные ротации, это здорово. Во-вторых, я уже много раз говорил слово «ротация», это тоже важная часть он-кола. Она состоит в том, что эта обязанность распределяется между некоторым количеством людей. По стандартам нашей команды, желательно, чтобы было минимум 5, в идеале 6 человек на каждой стороне океана. Соответственно, тогда ты он-кол получается примерно раз в 3 недели где-то. Что тоже дает достаточно времени отдохнуть в промежутках между сменами. Следующий аспект состоит в том, что есть общепринятое понимание того, что если у тебя тяжелая смена и ты понимаешь, что ты уже выдохся, и мозги уже не работают, такое случается, в этом случае ты можешь и должен просто пойти и сказать своим коллегам, «Слушайте, у меня мозги уже вскипели, может кто-нибудь взять у меня пейджер?» И как почти всегда найдется один или два человека, которые могут и хотят тебе помочь забрать, если не все твои обязанности, то хотя бы часть их. Довольно частая практика состоит в том, что если у тебя, допустим, два разных инцидента, ты не можешь их решать одновременно, ты просто идешь и просишь кого-то из своих коллег помочь. И такое распределение нагрузки довольно сильно облегчает последствия и помогает сохранить здравый смысл. Получается, что есть главный человек на он-коле и есть на подстраховке какой-то пул людей. Это значит, что даже если ты на он-коле раз в три недели условные, то ты можешь быть вызван еще чаще на подмогу другим людям? Как правило, это не вызван, и случай, который я описал, когда у тебя уже реально никаких сил не осталось, это из ряда вон выходящий случай. Если такое происходит, у вас что-то серьезно не так, и скорее всего вам нужно бросить все, собраться вместе с продуктовой командой, со всеми вместе и понять, что у вас, черт возьми, не так и почему все так плохо. Скорее, два инцидента одновременно. Мне кажется, это вполне валидный кейс. Два инцидента одновременно происходят. Как правило, в моем опыте, ты можешь быстренько глянуть, а что там второй, и может ли оно подождать. После быстрого триажа ты можешь просто сказать, что это подождет, пока я первый не починю. А иногда оказывается, что откладывать это не хочется, и ты просто оборачиваешься и спрашиваешь, есть ли кто желающий помочь. Ситуации, когда не находятся, почти нет, но это, опять же, во многом добровольное дело. Никто не вызовет тебя посреди ночи помогать кому-то, если произошло два инцидента. Я подтверждаю нас примерно точно так же. То есть пол людей, и можно всегда спросить, и всегда кто-то найдется, кто поможет. Давайте немножко переведем еще тему. Мне интересен еще такой момент, как устроена сама онкола. Я слышал очень разные вещи, вплоть до того, что страшилки в духе поднимают просто по онколу все группы людей, которые причастны к вертикали от железки в центре до гипервизора, до сервиса. И они все сидят в таком варруме, красными глазами невыспавшимся смотрят на эту, на эту, в то время как проблема может быть только на одном из участков, ну не участков, как-то одном из компонентов. Но там всегда all hands, или бывает так, что просто сидишь один, разгребаешь, и помочь некому. Это не ваш случай, мы уже выяснили. То есть, как устроен, звонит пейджер, кто вообще реагирует, ну и так далее. Ну смотри, когда звонит пейджер, есть онколы ротации, и в ней есть как минимум праймари, вот тот, кому пейджер приходит в первую очередь, а в некоторых случаях есть еще секендари, и иногда даже третий человек, который на подхвате. И смысл этого состоит в том, что если праймари онкол не может принять этот пейдж, то этот пейдж просто пойдет ко второму и третьему человеку. В принципе, при построении мониторинга, и особенно того мониторинга, который может посылать пейджи, очень много внимания и усилий тратится на то, чтобы пейджи приходили к правильным людям, которые могут решить эту проблему. То есть, безусловно, когда в нашем сервисе что-то поломалось, нет смысла поднимать ни тех, кто потребляет данные из нашего сервиса, ни тех, кто поставляет данные в наш сервис, ни те, кто отвечает за наши дата-центры. Их присутствие ничему не поможет, только помешает их личной жизни или работе. Поэтому надо стараться делать так, чтобы пейджи приходили именно к тем людям, которые могут их пофиксить. Не всегда это лихо или возможно, поэтому иногда приходится получать пейджи, которые ты смотришь, и понимаешь, что да, в этом случае надо просто сразу эскалировать вот той команде, потому что при такой поломке человек может определить, какая команда виновата, а автоматика не очень. Вот, ну безусловно, как бы... Вообще, одна из философий сервиса стоит в том, что как можно больше Ops Operations должно быть автоматизировано. Если какая-то поломка происходит регулярно и постоянно, то возможно стоит сесть и потратить время на то, чтобы написать там, я не знаю, какую-то автоматизацию, которая будет, ну например, перезагружать определенный сервер. Потому что возможно этого достаточно. Можно вопрос про эмоции? Да. Смотри, это проблема, с которой, опять же, мы сами сталкиваемся, то, что те люди, которые поддерживают, или те люди, которые помогают разбирать проблемы, которые лучше понимают, как делать интроспекцию, как залезть на сервер и посмотреть по логову, чтобы понять, что происходит, они чаще всего оказываются вовлечены в проблемы одних и тех же людей. Ну то есть, чаще всего лажают либо одна и та же компания, либо один и тот же круг лиц. Верно? И получается, что у этих людей накапливается усталость какая-то, или негатив по отношению именно к этой группе товарищей, которые не до конца понимают, или недоперформят, или в принципе у них не хватает образования. Я сталкивался с тем, что получается негатив между командой, которая... Ну это знаешь, это как вот... Ты доделываешь за кем-то его работу фактически, потому что тебя разбудили ночью, ты начинаешь копать, оказывается, что это та команда опять снова, одна и та же, и ты снова переводишь на них, и так раз за разом, или частично решаешь сам, если получается. Мне кажется, это еще перекликается с тем, что Света спрашивала в самом начале, что когда мы переносим какие-то такие вещи в руки СРЕ, что у нас разработчики могут, не знаю, распуститься и начать говно писать, извините. Ну такое, конечно, бывает, но это уже вопрос взаимодействия с людьми. Да, время от времени ты себя находишь матерящимся на какого-то другого чувака, который что-то не то сделал, и вот из-за этого ты проснулся не вовремя. Но если это происходит регулярно, то тут есть два варианта. Вариант первый, ну просто пойти и поговорить. Взять этого чувака и сказать, ну вот смотри, ты вот это делаешь, это постоянно ломает нам вот эту систему, давай подумаем, почему ты это все время ломаешь. Вот, и в этом смысле одна из важных черт культуры компании состоит в том, что называется Blameless, и в частности Blameless Postmortem. И идея состоит в том, что если система позволила чуваку поломать себя, значит виновата система, а не чувак, который ее поломал. Ну и соответственно, если какой-то чувак регулярно и постоянно ломает систему определенным образом, лучшее техническое решение это просто пофиксить систему, чтобы она не ломалась. Ну это ты понимаешь, это же фантастика. Чаще всего это, кстати, не фантастика. Ну ты, наверное, говоришь о том, что чувак что-то нажал и все сломалось, а мы, наверное, я бы в случае подразумевал такое, что чувак раз какую-то херню написал, ну там как-то систему можно пофиксить, запректим отобрать у него права на комит или что? Ну, я не знаю, возможно это проблема недостаточной тестовой инфраструктуры, например. Если чувак реально некомпетентен, ну рано или поздно это эскалируется к его менеджеру, но в гугле не так уж и много откровенно некомпетентных чуваков, к счастью. Ну, знаешь, скорее не столько откровенно некомпетентных чуваков, я как бы догадываюсь, что в гугле, наверное, люди как бы не глупые работают, скорее, знаешь, опять же речь про то, что у нас есть человек, который суперспециалист в какой-то своем доменной области, он без понятия как это дерьмо оперируется. Ну вот в этом случае очень хорошо работает просто прийти и поговорить. Просто приходишь и говоришь, чувак, вот я такой-то и такой-то, и вот это твое действие каждый раз, когда ты его происходишь, оно меня будет в 6 утра. И как правило это вызывает достаточно внимания, чтобы просто обсудить, как избежать вот этой поломки. У меня другая проблема. У меня проблема такая, что, представь себе, человек пишет хороший сервис, он отлично работает, но при внезапном росте нагрузки во время какого-нибудь события в полтора-два раза оказывается, что дополнительно появляется боттлнег, которого этот человек не предусмотрел. И так на каждом сервисе, где он участвует. Ну, в моем опыте такой чувак это вот каждый первый, потому что невозможно предвидеть все возможные мыслимы и невозможные боттлнеги. И как автоматически это решить? Ну, никак. Одна из вещей, которую я уже, по-моему, в начале выпуска сказал, что рано или поздно все сломается. Вот вообще все. Самая лучшая продуманная система рано или поздно упадет. Я надеялся на какой-то оптимистичный выпуск сегодня. Да зачем ты меня звал? Ты кого привел, Ваня? Ты не с той стороны это смотришь. Оптимизм состоит в том, что мы посмотрим, как оно сломалось, и в следующий раз оно так уже не сломается. Но с другой стороны, джоб секьюрити у нас в порядке. Все баги никогда не будут пофиксены, физический мир не перестанет подставлять нас своими стремными ограничениями. В общем, работы всегда хватит. Но возвращаясь к теме негативных эмоций. То есть получается, что вот этот вот Блеймлесс, он теоретически всегда работает. В документальном обороте это же нет чаще всего. Ну, по крайней мере, во всех тех компаниях, где я работал, все постморкеры всегда Блеймлесс. Нет обвинений, нет нападок и так далее. Но по факту все равно негативный осадок остается. Я прям уверен, что в Гугле как-то знают эту проблему и пытаются ее решать. Ну, там психологов нанимаете, не знаю, специальные груши ставите. Да нет, ну как бы, какого типа осадок? Если осадок просто, что все плохо, все люди глупые, все ломают и все тлены бессмысленно. Это скорее всего означает, что тебе пора в отпуск. Отпуск на удивление хорошо решает такого рода проблему. Если же проблема с каким-то вот конкретным чуваком, на которого ты зол, потому что он постоянно это делает. Пойди поговорить, да, я помню. Пойди поговори, никто не делает такие вещи со зла, потому что они сволочи и хотят тебе доставить проблем. Поэтому злиться на них тоже непродуктивно. Эта мысль-то, она в принципе помогает. Спасибо. Так, ребят, вопросы закончились? У меня есть еще немножко, я это коплю. Напоследок самое интересное. Хорошо, давай такой вопрос. Судя по тому, что ты говоришь, создается впечатление, что работа осадиста с такой, знаешь, крафт. Очень много нужно видеть примеров того, как ломается система. И только после множества примеров становишься эффективным, как такой специалист. Тогда расскажи, пожалуйста, как вы анбордите новых людей в команду, в компанию, вот именно как SRE, чтобы они быстро вливались и быстро становились эффективными? Это очень хороший вопрос. В принципе, считается, что ты стал настоящей SRE, когда ты вошел в регулярную ротацию on-call. Как правило, это происходит через 6 месяцев после появления тебя в компании. За это время ты стараешься потрогать как можно большее количество разных систем. Тебе, как правило, твои более опытные коллеги предлагают выбор из пары-тройки не очень сложных проектов, которые позволят тебе потрогать основные критические элементы инфраструктуры. Ты посмотришь на них немножко изнутри. Там, я не знаю, тот же фейловер для какого-нибудь нового компонента реализуешь. Заодно разберешься со всеми соседними компонентами. Ну и такой вот, что называется, hands-on approach, он помогает. Параллельно с этим ты прислушиваешься к разговорам коллег, которые уже on-call. Слушаешь, какого рода проблемы происходят. Задаешь вопросы, задаешь много вопросов. И в целом, я, наверное, могу сказать, независимо от компании, команды и даже роли, задавать вопросы, это, наверное, самое лучшее, что ты можешь сделать для ускорения своего собственного онбординга. Ну и да, к сожалению, это такая очень эмпирическая наука, поэтому прежде чем ты станешь по-настоящему эффективен, тебе придется посмотреть десяток развалов, поломок. Но со временем твоя нейронная сеть обучится и начнет видеть паттерны. И первое время они присоединяются к более опытным коллегам на он-коллах? Первое время, когда ты первый раз он-кол, у тебя всегда есть кто-нибудь из старших коллег, которые, грубо говоря, работают твоим бэкапом. В некоторых случаях даже наоборот, ты делаешь шедоуинг, то есть он-кол сейчас, а ты сидишь рядом с ними и спрашиваешь вопросы. Что это за аутедж, что он означает, почему ты пошел смотреть на этот дашборд, и что ты увидел на этом странном графике, который волной идет вверх и вниз, и вроде бы все там ничего не понятно. То есть задаешь как можно больше вопросов, после этого ты начинаешь понимать немножко, что происходит. Затем вы меняетесь ролями, ты уже получаешь пейдж, а твой коллега сидит неподалеку, и ты всегда можешь его подозвать, когда ты попал в тупик. Ну и через некоторое количество сфен ты просто понимаешь, что в принципе ты уже достаточно хорошо понимаешь все эти системы. Ну и опять же, есть плейбуки. То есть в случае чего, есть плейбук, который тебе хоть что-то да подскажет. Тогда вот если развить эту тему, как следствие у меня возникает впечатление, что ты обучился на гугловой инфраструктуре, ты знаешь, как гугловые сервисы работают, твоя нейронная сеть научена на гугле. После там пары-тройки лет ты вырос в гугле, тебе дали senior assury, staff assury, и ты решаешь, пойду в другую компанию. И создается впечатление, что твоя система больше не работает. То есть твоя нейронная сеть, да, она видела какие-то паттерны, но это гугловые паттерны. И система, не знаю, в условном фейсбуке будет работать совершенно иначе. Она будет по-другому ломаться, там другой мониторинг. Такое впечатление, что ты становишься таким узким специалистом для одной конкретной компании с каким-то конкретным стэком. Насколько это вообще transferable? Ну, отчасти такая проблема, конечно, есть, потому что те системы мониторинга, с которыми работаю я, они, скорее всего, отличаются от того, какие есть в любой другой компании. С другой стороны, принципы работы у них одни и те же. Мы живем в одном и том же физическом мире, в котором физические ограничения все те же самые. Поэтому у нас может пропасть сеть, в фейсбуке может пропасть сеть. В обоих случаях начнут фейлиться RPC. Так или иначе мы можем померить, какие RPC фейлятся и где. И какой-то мониторинг нам об этом скажет. В этом смысле, представьте себе, что мы переезжаем с одной базы данных на другую. Обе SQL-базы данных, но у них есть свои нюансы. Но при этом большая часть опыта, она как бы абстрактно связана с тем, как работает база данных в принципе. А не с тем, как работает... И понятное дело, что ты потеряешь какое-то количество деталей, но они довольно быстро восстанавливаются. И вот, например, если вы нанимали сотрудника, который был СРИ или была СРИ в условном фейсбуке, как быстро эти люди схватывали именно Google инфраструктуру? Ну, я знаю, из любой компании к вам приходили. Они приходили на тот же уровень, либо было заметное понижение? Ты знаешь, я не знаю таких примеров лично, поэтому врать не буду. Но я, скажем так, что я наблюдал сам, это переходы между командами, между очень далекими командами, совершенно разных, из одной организации в другую, абсолютно другими стэками. И, ну да, некоторое время тратится на то, чтобы разобраться с деталями реализации инфраструктуры в новой команде, но больше всего ментальных усилий уходит на то, чтобы построить модель бизнес-логики сервиса, как он работает, что он работает, как понять, что он вообще неправильно работает, например. Тогда давай я полазил по истории Твиттера и я нашел, почему мы с тобой спорили, что мы обсуждали. И это тоже интересная тема, которую я бы хотел поднять. Ты составил целый, из 20 твиттеров целый трет, в котором описывал, что в Гугле работать совсем не так плохо. Помнишь этот трет? А, да, смутно припоминать. Да, и началось это с того, что появилось обсуждение про Гугл, что в Гугле основная цель – это шипить новые фичи, никто не хочет исправлять старые, поэтому появляются каждый раз новые мейловские UI, которые каждые хуже предыдущего, и, в общем, при Джобсе такого не было. Вот эта концепция, а, еще наложилась на то, что какая-то хитрая непонятная найм, когда берут совершенно не связанно с тем, с чем будет человек работать, и что могут не взять хорошего специалиста, но это старая известная история, которую мы уже много раз обсуждали. В связи с этим вопрос на самом деле про мегмейл и его UI. Шучу, конечно. Какая постановка и оценка в вашей команде и во всех бизнесовых командах, то есть, насколько есть цели переделывать, улучшать старые продукты, и насколько это соответствует целями зашипить что-то новое? Вот это была сейчас цитата, что все плюются, что зашипить что-то новое – это самая большая цель, и не важно все остальное. Ну, смотри, наверное, сильно зависит от команды. Зашипить что-то новое, да, конечно, это мотивация, но отчасти разделение между reliability командами и продуктовыми командами как раз стоит в том, ну, как бы идея была в том, чтобы были люди, которым зашипить что-то новое не была главная, единственная цель. Вот, конечно, это помогает не всегда, и да, ну, как бы зашипить что-то новое надо. В случае с Gmail, ну, понятия не имею, почему он такой медленный, я подозреваю, что смысл создания нового UI был в том, что старый Gmail был написан на GWT, который деприкейтит. И его нужно было на что-то заменить, и вот его на что-то заменили. Почему оно такое тормозное, ну, бог его знает. Я тут, к сожалению, ничего не могу сказать. Ну, да, наверное, есть команды, где там политические игры и там промоушен, и зашипить что-то новое, чтобы, значит, получить очки в какой-то игре перформанса и что-то-что-то. С другой стороны, из того, что я вижу, в большинстве команд это не так. Кроме того, есть такой просто общечеловеческий тренд, что мы очень любим преувеличивать плохое, поэтому плохие случаи получают гораздо большую огласку и больше внимания, и это надо компенсировать, когда думаешь о том, как все плохо в том или ином месте. Ну вот, это примерно все, что я могу сказать. Поскольку я сегодня заведующий про Кукуху, я еще, видимо, еще раз переведу тему. У нас тут чат спрашивает про трактор. Ну, а я, соответственно, начну, наверное, тогда с вопроса Кукуху и трактора. Хотя вот, кстати, я тут про Кукуху спрашиваю, а Кукуха обычно у Вани. Ваня говорит, у Кукуха. Я ее выключил сегодня. Ну вот. В общем, я правильно понимаю, что ты переехал в Ирландию из России, и ты до этого жил в России? Да. И то есть ты, по сути, переехал, как бы переезжая, скажем, оторвав себя во многом от предыдущего окружения? Ну да, да. Я не знаю, ты хочешь, чтобы я больше про это рассказал? Ну да, как бы проблема потери связи там с друзьями и родственниками. Сорри, я замьютился. Вдруг понял, что ты был на мьюте, я как раз начал расскрывать то, что я спрашиваю, что да, как в этом плане Дублин, насколько легко найти социализацию, насколько легко переехать. Ну давай начнем, наверное, с того, как там в самом Дублине, а потом уже про то, как переехать. Ну смотри, для меня Дублин, наверное, город очень комфортный, потому что, с одной стороны, это столица, поэтому тут есть все необходимые удобства, там магазины, быстрый интернет, хорошая работа, и много ее. Тут не только Google есть, тут есть и Microsoft, и Facebook, и чего тут только нет, и Dropbox есть, и, короче, и с точки зрения работы тоже хорошее место. А с точки зрения неработы? С точки зрения неработы, для меня это в меньшей степени актуально, потому что моя неработа в большинстве случаев сводится к компьютерным играм и редким походам в кино, грубо говоря. Ну и просто по городу погулять время от времени. Я знаю людей, которые активно практикуют ночную жизнь, клубы и все вот это, вот эти люди часто жалуются, что тут такого мало. И быстро надоедают. Но для таких людей поблизости есть Лондон. Одно из преимуществ Дублина как города состоит в том, что если вы живете в центре, вам не нужен никакой транспорт, вы всюду можете дойти пешком за те же 20 минут. Для меня это был большой плюс, поэтому я, когда у меня был выбор между Лондоном и Дублином, я выбрал Дублин, потому что это более уютный город. Как-то так. Окей, тогда наверное можно передвинуться к вопросам о том, вот сейчас спрашивал как это трактор заводится именно в Ирландию. То есть в Европу голубая карта, я про это рассказывал, и по-моему у нас еще были гости, которые про это рассказывали. Света в Лондон уезжала по, напомни, Свет, как это пронизывается? Талант, какой-то специальный талант. Ты виснуешь, я думаю? Да-да-да. Она называется Tier 1 Exception Talent. Вот, как бы про переезд в Дублин я, если честно, знаю, что там не и ушная система, и не британская система. Что там вообще, как оно? Система тут такая, применительно к айтишникам есть такая штука, называется Critical Skills Permit, которая, грубо говоря, это рабочая виза для профессионалов из набора важных профессий. Айти одна из них. Вот, эта виза дает тебе право приехать самому, дает тебе право работать и дает право привезти за собой семью ближайшую, ну вот, типа там твоего супруга и детей, если есть. Вот, соответственно, такой пирмидь дается на два года, и на основании этого пирмида тебе уже дают долгосрочную визу, по которой, собственно, ты в стране и находишься. Вот, по прошествии двух лет этот пирмидь истекает, и тебе просто выдают визу, которая позволяет тебе работать в принципе в стране уже без привязки к работодателю, чего бы то ни было. То есть, для закрепления на два года ты есть привязан к работодателю? Да, первые два года ты привязан к работодателю, который вот, собственно, получил для тебя этот пирмидь в самом начале, а после этого ты, соответственно, можешь уже там свободно переходить. До этого тоже можешь, если твой новый работодатель выпустит новый пирмидь для тебя. После того, как ты получаешь через два года эту более свободную визу, ты обязан продолжать работать айтишником или можешь пойти работать, не знаю, фотографом, баристой, дворником? Честно говоря, не уверен. Я подозреваю, что тебе всё ещё нужно работать по конкретно той специальности, по которой ты сюда приехал. То есть, даже не любой критикал скиллс, а вот по той, по которой ты приехал, потому что в процессе получения этой визы ты должен доказать, что вот ты такий профессионал в этой области. Ну просто, например, в Германии, я подозреваю, в других странах, где голубая карта, она конвертируется через 22 месяца признания языка страны на уровне B2 и через 33 месяца признания языка страны на А1. Её можно конвертировать в национальный вид ножительства. И, например, в Германии, в принципе, можно там пойти по лымести, если очень хочется. Если я правильно помню, Света, меня, наверное, поправит, в Британии тоже ТИР-1 виза конвертируется в, как же там правильно называется, что-то типа... ILR. Indefinite leave to remain, да? Да, да. Есть ли подобная система в Ирландии? Такая штука происходит через 5 лет. Через 5 лет ты можешь либо подать на гражданство, либо получить вид ножительства. Ну и тут надо заметить, что один из больших плюсов переезда в другую страну по приглашению большой компании состоит в том, что большую часть бумаг и бюрократии сделают за тебя специально нанятые люди. Поэтому, с одной стороны, мне очень повезло, я большую часть бюрократии не делал, с другой стороны, я на такие вопросы отвечаю с некоторым трудом. В общем, я надеюсь, мой интерес чата удовлетворили. Если есть еще какие-то вопросы, пишите в чат. Ну, мы вроде, наверное, все по этой теме. Тогда переходим к нашей любимой теме, которую мы обсуждали пару раз, но так и не смогли найти человека, который смог бы ее защитить. Алекс, я надеюсь, что ты сможешь. Расскажи нам про ОКР. Что-то конкретное рассказать? Давай сначала общими словами для тех, кто не слышал предыдущие наши выпуски с его описанием. Из твоих уст это будет особенно интересно послушать. Ну, давай я попробую коротко, если что, вы мне прерывайте. ОКР – это аббревиатура, она означает Objectives and Key Results. Это, по большому счету, двухуровневый список. На каждую единицу планирования, типа квартала, грубо говоря, года или как вы еще планируете, вы пишете в список, какие ваши objectives. То есть, чего вы хотите, я не знаю, запустить новый сервис или переписать все на новый стек, потому что тогда точно багов не будет. В таком духе, залончить некую фичу. Это будут ваши objectives. После этого под каждую объектив вы пишете список key results, которые говорят о том, как вы поймете, что ваша цель была достигнута.",
    "result": {
      "query": "SRE в Google кратко"
    }
  }
]