[
  {
    "segment_id": "cc02c8d5-4489-4776-9f23-11f74b81f9fa",
    "episode_id": "82f616fe-bf9f-4b8f-b7f3-1e42e249fae5",
    "episode_number": 268,
    "segment_number": 4,
    "text": "Так, а про середину начинаем, да? Можно сначала про метап рассказать? Да, давай. Тут есть такое небольшое сообщество московских программистов, Московский клуб программистов называется, это люди, которые любят, опять же, софт-скиллы, можно сказать так, люди, объединенные тем, что они программисты, живут в Москве или работают, или около, собираются периодически раз в две недели примерно и общаются совершенно разной темой, но это и какие-то технологии, и языки программирования, и мета-темы, ну в общем все, что любят в Динзене, только в офлайне и можно лично пообщаться с человеками и схватить кого-нибудь за пуговицу и подобное спросить о чем угодно. Уже довольно, по-моему, больше года существует это сообщество и гулянные встречи проводятся. И в частности на будущей неделе, в четверг, 28 ноября будет метап очередной, посвященный двум темам, про сердетей и про сеньорство, про сеньора-программиста. Про сердетей я буду рассказывать, устрою что-то типа лекции, дело в том, что я уже выступал и рассказывал про свою магистрскую работу, я сейчас через пару месяцев, надеюсь, получил степень магистра за маленькое исследование в области всей распределяющей сердетей и про свою тему рассказывал. И выяснилось, что оно довольно многим людям интересно, вот в четверг я буду делать такую вводную лекцию, с самых основ, что это и зачем конкретно сердетей, без конфликта типа данных и их реализацию в программах, как это использовать в программировании, при создании определенных систем. Еще будет тема, куда расти сеньора, про которую я ничего не знаю, но тоже интересная тема. То есть чем заниматься программистом после того, как надоело быть сеньором, куда расти дальше, и нужно ли расти и так далее. В общем, найдете там подробное описание, как обязательно зарегистрироваться нужно, чтобы пройти мероприятие бесплатное. И на другие мероприятия клуба программистов тоже, может быть, будет интересно посетить. А что еще бывает без конфликтов? Было бы здорово такой переход устроить. Тут недавно, не знаю, насколько широко известная в русских кругах фирма Figma, которая производит, если я правильно понимаю, продукт, какой-то веб-редактор или не веб. Я могу сказать, я прям вообще очень активный пользователь Figma. Это такой продукт вроде скетч, если другие люди знают про скетч, где можно рисовать какие-то интерфейсы программного приложения. Можно дизайнить интерфейсы, взаимодействие между ними, можно прям запускать такие low fidelity и high fidelity прототипы. То есть можно прям дать человеку мобильный телефон, и он может кликать на ссылки, у него будут переходики между экранчиками, и человек даже не поймет, что это нереальное приложение, а просто картинки. То есть там вот это все можно сделать. И это настолько круто, мне изменило мой мир. То есть до этого, когда я хотел что-то сделать, я такой думаю, ай, я и начну программировать, потом посмотрю, как это будет работать. Сейчас у меня есть какая-то идея, я набрасываю такой low fidelity с большими штрихами на бумажке, либо в реал-тайм-борде, и после этого, если я все понимаю конкретно, как оно работает, я рисую такие экранчики, даю экранчики другим людям, они смотрят и говорят, ну вообще ничего не понятно. И вот так вот итерируешься, начинаешь переделывать. И это занимает настолько меньше времени, чем если бы я действительно это все имплементировал, что это просто какая-то манна небесная на самом деле. И это очень известный и популярный продукт. И кстати, у них есть как раз поддержка режима, где можно редактировать совместно с кем-то. Я думаю, ты как раз про это хочешь рассказать. Да, они недавно вычтили статью о том, как их CTO написал статью в их корпоративном блоге о том, как же им удалось делать оперативное редактирование совместно, точнее, у них что называется, мультиплеер. Хотя речь не про игры, но в общем, видимо процесс совместного дизайна, он такой похож на игру настолько, что пользователи игроками называют. Но тут довольно подробно рассказано про архитектуру этого решения. Начинается статья, что они отказались от ОТ, Operational Transformation, потому что это было довольно сложно и с этим нельзя не согласиться. Действительно, такое решение. Хочу заметить, что на самом деле был выпуск посвященный ОТ против СРДТ, год одна, наверное, уже назад с Виктором Грищенко. Там довольно много обсуждалось глубоко. И в общем, они по создавшимся причинам от ОТ отказались, потому что такая вещь довольно сложная, чтобы реализовать правильно. Они посмотрели в сторону СРДТ. Это довольно... Сейчас все, кто делают совместный редактор, они... Если ты хочешь сделать что-то похожее на совместный редактирование, довольно быстро узнаешь эту аббревиатуру из четырех букв. Надо сказать, что эта тема не достаточно хорошо развита в прикладном ПО. Нет такого, что ты просто берешь какую-нибудь библиотеку или просто готовую базу данных, и там уже все есть, и ты просто берешь и пользуешься. Нужно как-то разбираться в теории, чтобы что-то реальное на этом спроектировать. И вот эти ребята из ФИГМа, им показалось, что... То есть, как они пишут, СРДТ они взяли, но не настоящее СРДТ, потому что настоящее СРДТ, по их словам, он такой для совсем распределенной сети, одноранговый или что-то типа того, как я понял. А у них система централизованная, поэтому они могут часть ответственности переложить на сервер и могут сделать проще, чем все одни. И тут я постоянно перескакиваю с цитированием моих собственных комментариев. Они пишут, что за счет того, что у них есть сервер, они сделают проще. Но, по моему мнению, получилось только сложнее. В частности, они рассказывают про то, что... Да, вот листают статью, там небольшой, краткий обзор СРДТ, примитивные типы. Да, вот они пишут о удалении элементов. То есть, как создавать элементы, как их редактировать. Да, и они активно используют Last Right Wings. Это самое примитивное, что есть в СРДТ. Есть гораздо более интересные вещи. И полезные. Сам по себе Last Right Wings это настолько простая вещь, что непонятно, зачем это называть СРДТ. Это просто перезаписываем с учетом времени. И дальше они рассказывают о том еще, как им удавалось реализовывать удаление элементов и возврат предыдущих состояний, как это по-русски, анду. Как анду по-русски называется. Отмена действий. В общем, для всего этого можно было взять какие-то готовые элементы СРДТ. Например, для возврата к предыдущим состояниям есть частично порядочные логи. Или для удаления элементов. Точнее, там еще немножко хитрое удаление. Они хотели еще сэкономить... То есть простейшим СРДТ... Я думаю, большинство не в курсе, что это такое. Я на пальцах сейчас попробую основные проблемы СРДТ описать. Самая главная проблема в том, что обычно данные только дописываются в конец. И старые данные не удаляются. Если пользователь хочет удалить какой-то сложный объект, и все эти данные хорошо было бы удалить вместо расчистить. И СРДТ так устроили, что... Не обязательно данные, я тебя немножко поправлю. Там такая идея, что какая-то информация должна сохраняться, не обязательно сами данные, но какая-то метаинформация или просто какой-то сигнал о том, что вообще что-то там когда-то было, а потом это удалили, чтобы потом, если обратно добавили, а не воскрешение из мертвых чего-то. То есть там такого рода проблемы. Да, совершенно верно. Ну, в принципе, все это можно, по-моему, сделать подповерх СРДТ. Не обязательно нарушать какие-то принципы. И... Да. И еще... Да-да-да, вот-вот, нашел самое... В своих заметках нашел самое интересное. Почему у них не чистые СРДТ, а СРДТ с хаками. С какими-то... С костылями. Они боролись с... С эффектом берцания. Эффектом берцания, фликеринг. Из-за того, что... Тут довольно сложная схема, когда несколько правок близких по времени отправляются. Точнее, это... Я не смогу сейчас ее расписать. Там графически она изображена. Прилюстрирована в статье. Как эта схема реализуется? Во-первых, она возникает... Как мне показалось, она возникает ровно потому, что они используют сервер как единую точку вычислений правды. Как-то так можно это назвать. То есть, все... То есть, мне кажется, они совершили ту самую ошибку, которая была сделана в Operation Transformation. И, как следствие, у них возникла проблема с мерцанием, когда сервер переписывает некоторые правки, чего в Sierra Data Eagle, в принципе, нет. В принципе, невозможно. Правки всегда остаются такими, как есть. Еще... Сервер немножко исправляет правки. Выстраивает из них какую-то историю. И из-за этого могут возникать... Может возникать мерцание на стороне пользователя. Когда несколько правок противоречия друг другу приходят с небольшой задержкой, с небольшой разницей во времени на клиент, они, конечно же, конфликты все разрешаются. И в конце концов, пользователь видит все красиво. Все то, что нужно видеть. Но в процессе иногда может мерцать. И эту проблему они решили еще каким-то кастюлем. То есть клиент задерживает какие-то правки, как я понимаю, до того, как придет исправляющая их правка. Извини, я тебя перебью. Просто не хочу, чтобы ты настолько глубоко шел в это. Мне просто было бы интересно сразу поругать тогда уже их. Короче, да. У меня идея в том, что в том сердети, с которым я работаю, это в принципе всех этих проблем изначально нет. То есть не надо было уходить от сердети, не было этих проблем. Не нужно было бы перестраивать историю, не нужно исправляться от мерцания, потому что то, что пользователь производит на своем устройстве, оно сразу именно таким и пользователь его и видит. То есть вся мгновенная скорость реакции должна быть между... Какую-то очень сложную фразу построил, я забыл, с чего я начинал. В общем, если сердете реализовать правильно, то все это будет... Всех этих проблем удалось бы избежать. Но главная идея в том, что... Главная польза, которую можно вынести из этой статьи, в том, что сердете действительно полезная штука, хватает штук. К сожалению, повторюсь, готовых инструментов очень мало, или они не очень хорошие, но я бы рекомендовал вместо того, чтобы свои костыли гранить, лучше все-таки дорабатывать. То есть находить какие-то полуготовые инструменты и их дорабатывать под себя. Или делиться с обществом. Как, например, я делаю. И как делает Виктор Греченко, который выступал в том самом выпуске. Можно я немножко порекламирую? Нашу с ним совместную работу, в большей степени его. Можно, конечно. Я там часто... То есть он изобрел, я помогаю реализовывать штуку под названием RON, Replicated Object Notation, это что-то типа JVM, формата для хранения, описания, а также хранения и описания всяких данных, а также базовые алгоритмы. В общем, это более прикладная версия CRDT. То есть это практически CRDT и есть, все, что вы знаете про CRDT, оно выполняется. И плюс еще какие-то готовые алгоритмы и инструменты по перекладыванию байтов в конкретных языках программирования. И если повезет, еще и базу данных мы конкретную соберем. Я думаю, тут стоит упомянуть, что как раз-таки, возвращаясь к вопросу того, что сейчас нет хороших... исключая языки, которые довольно пограничные, вроде Erlang, которые люди редко трогают, и Clojure, хороший публиктик для CRDT, ну их просто как бы нету нифига вообще. То есть пойди, найди, идем с огнем. Как раз-таки красота во многом того, что вы делаете с Виктором в том, что это как раз-таки библиотека, которую можно, как я понимаю, вставлять себе в проект, и это будет более-менее работать. Правильно я понимаю? Да, именно так. Более-менее. Ну то есть, сложно сказать, в чем конкретно. То есть пока еще не все готово. Еще в разных языках программирования это немножко по-разному реализовано. Разной степени готовности. В общем, если вам это немножко, хотя бы интересно, приходите на replicated.cc, посмотрите и подключайтесь к разработке. И мы обязательно расскажем, в каком состоянии это сейчас, в вашем любимом языке программирования. Ну, в целом, уже такая, прототип базы данных, можно сказать, уже есть. Не совсем готовая, но прототипом этого можно назвать. То есть база данных встраиваемая и распределенная одновременно. То есть вы можете использовать ее как библиотеку, и она еще и... То есть вы просто мутируете объект в одном экземпляре приложения, а он... И видите это в другом экземпляре приложения. Ну, как-то так это должно выглядеть. Вот. Похоже, тема себя исчерпала. Блин, сори, я говорю в мьют. Черт возьми, опять это случилось. Я пытался сказать, что... От себя хочу добавить, что эта статья мне очень не понравилась тем, что они пишут CRDT в заголовке. На самом деле CRDT... Вся эта статья имеет очень мало к CRDT отношения, потому что в основном речь все-таки про их кастомный подход, который... Ну, там ничего от CRDT уже не осталось, на самом деле. Это просто какой-то протокол синхронизации через сервер с таймстэмпами и авторитарным сервером. Я бы не сказал, что он прям плохой, потому что для них работает хорошо, но вот писать вот на этом материале CRDT это просто вредно, потому что люди, которые его прочитают, будут думать, что CRDT это не CRDT вообще никак, никаким местом. Вот. Ну да, я думаю, что тема себя, наверное, исчерпала, и можно переходить к новостям. А в новостях у нас прям, наверное, такая самая злая тема сегодня. То, что ICANN и другие интернет-гевернианс органы они продали домен.org какому-то коммерческой организации, это прям какой-то, извините, пиздец. Ну вот прям. Это вообще что произошло, как и какого хрена? Я знаю, Саша тоже может наверняка сказать. Саша любит такие штуки, нет? Саша не любит такие штуки, потому что 3 года проработал в регистраторе доменах имен на их хостеле, и я не очень понимаю, что у них там происходит. Там какие-то свои подковерные игрища. Будет какая-то организация, которая владеет корневым вот этим доменом. По-видимому, она будет рулить каким правилам, по каким регламентам теперь будут выдаваться домены второго и более высокого уровня. Но я не понимаю, что происходит, и я никогда не понимал, если честно. У меня всегда DNS казался довольно странной системой в том плане, что... Ну то есть это как бы такая, не знаю, можно сказать, позвоночник, на котором работает интернет во многом, но, во всяком случае, адресуемый интернет. И так получается, что этот позвоночник у нас, извините, сломан тем, что доменами владеют коммерческие организации, по сути. Если долгое время все к этому апеллировали, ну, здравствуйте, почему коммерческие? Вот же есть ОРГ, который там, типа, некоммерческий, его там можно завести, имя за чисто символическую плату, как бы вот приехали, у нас как бы организация, которая должна была по-хорошему отвечать за то, что все хорошо, честно и клево, она себя поведала странным образом, настолько странным, что непонятно, как дальше жить, потому что, ну, то есть, не знаю, если сейчас коммерческая организация начнет за имена в домене ОРГ драть 10 шкур, то, ну, как бы и чё? Куда теперь с этим идти всем некоммерческим ребятам, которые потом домены регистрируют? В общем, это печально. Вот. А что менее печально, но круто, это то, что у нас будет новая игра во вселенной Half-Life. Это такой микр-геймзин посреди геймзина, но почему он интересен? Потому что это ещё и тарелочки. Это тарелочки в виде VR-кодсетов, потому что новая игра во вселенной Half-Life будет в VR-е. У Valve есть своё VR-железо, оно довольно крутое, к сожалению, оно требует расстановки базовых станций. Я бы, наверное, хотел шлем, как у Valve, в плане, не знаю, качества картинки и частоты развертки, но без базовых станций. Это было бы, наверное, идеально. Но посмотрим, куда оно всё приедет. Я не знаю, темы, кстати, добавил Саша. Возможно, Саше есть что сказать. Ну, там в теме, собственно, твит, поэтому всё, что мы знаем из этого твита, если не появлялась новая информация где-то, что будет игра во вселенной Half-Life в VR. Ну, по крайней мере, может быть. Трейлер есть. А, окей, ну, то есть, может быть, это не третий Half-Life, но хоть что-то. Как я и шутил, это самое близкое, что будет за наш lifetime. Самое близкое, что мы получим к Half-Life, похоже. Ну что ж, порадуемся хотя бы этому. А вот эта приставка от Valve, она хорошая. Я просто пробовал только Oculus Quest, который последний вышел, он действительно очень крут. Ну вот после Oculus Quest тебе покажется, что оно всё с проводами, и всё неудобно и, короче, странно, но плюс по сравнению с Quest'ом в том, что, во-первых, разрешение выше, во-вторых, герцовка гораздо выше. То есть, ну, по-моему, 120 Гц. И для погружения это имеет большое значение. Вот, ну, я думаю, что на этом мы, наверное, можем Micro Game Zen закончить. И тут кто-то хотел про резюме что-то рассказать. Я не знаю даже, чья это карточка. Кто-то притащил карточку и ничего не написал. Ну, так это карточка Гостя. Гостечка. Окей, круто, потрясающе. Давайте её просто архивировать тогда. Ну что ж, тогда давайте поговорим про другую, тоже небольшую новость. Все мы знаем и любим компанию Confluent, которая сделали Кавку. Что же они такое вот сделали на этой неделе? Они выпустили... То есть так, у них уже некоторое время назад был такой SQL-диалект и, там, не знаю, обёрток вокруг их Kafka Streams. Так, пожалуйста, кто-то, наверное, с самого начала. Есть Kafka. Это такой высокопроизводительный то ли PubSub, то ли расплюянный лог. Я скорее воспринимаю его как расплюянный лог, а не как PubSub, потому что всё-таки от RabbitMQ он отличается прямо просто всем. Она не рассчитана на много маленьких сложных работящих сообщений, она рассчитана на то, что вы в неё льёте данные гигабайтами и этими же гигабайтами их выгребаете.",
    "result": {
      "query": "Figma CRDT architecture discussion"
    }
  }
]