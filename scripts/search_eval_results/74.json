[
  {
    "segment_id": "bc9a35e0-d135-4200-b9c6-ba9db2cc0c32",
    "episode_id": "9a1927ba-d3aa-48c5-9ee9-6bc7e605c2e3",
    "episode_number": 74,
    "segment_number": 3,
    "text": "То есть 30 FPS в обычной игре, на обычном дисплее, ну не то чтобы самая плавная картинка, но играть на самом деле можно и сравнительно комфортно. То есть даже когда он до 24 проседает, иногда комфортно может быть. Есть немножечко так раздражает, но жить можно. 60 FPS идеально. Здесь нужно минимум 60, лучше 90, чтобы не создавалось неприятных ощущений. То есть тебе нужно разрешения больше, чем в большинстве игр, частота кадров больше, чем в большинстве игр. И как бы картинку показывать хуже, чем в большинстве игр, как бы немножко грешновато. И получается, что тебе железо нужно... То есть, грубо говоря, на текущем железе можно показывать только позавчерашнюю картинку. Хорошо, а при чем тут Nvidia? А при том, что вот значит Nvidia, они, конечно, для другого это сделали, но мы движемся верной дорогой. Они, значит, собрали великолепный агрегат для умных машин, который, по их заявлениям, содержит в себе мощь 150 MacBook Pro. Там просто непонятно, какие MacBook Pro они мерили. Может, не самые дешевые взяли, с i5 и чем-то таким. Но тем не менее, все равно звучит впечатляюще, потому что 150 цифра большая. Проапгрейдим до самого топового, ну, может быть, будет не 150, а, ну, не знаю, 50. Все еще впечатляет, надо сказать. Ну, то есть, как бы, во-первых, большая-большая вычислительная мощность, а во-вторых, ну, просто представьте, что у вас есть такая коробочка с водяным охлаждением и большим мясистым железом, которая ваши машины делает умнее, и, как бы, я так подозреваю, следующее поколение этого железа, не знаю, будет за нас дифуры решать? В смысле, аналитически. Окей. Я так понял, про стоимость пока ничего не известно? А, понимаешь, а тебе не должно быть ничего про нее известно. Ты же консюмер, зачем тебе? Они, на самом деле, сотрудничают с несколькими автомобильными концернами, они делают умные машины, у них есть какая-то своя собственная инвидиевская ездилка умными машинами по улицам города, и утверждается, что оно достаточно умное уже, и, как бы, они искренне считают, что вот это правильное направление, в котором нужно двигаться, что мало разработать софт, нужно еще железо, на котором это будет адекватно работать, они, мне кажется, совершенно правы, потому что у нас огромнейшие потоки видеоданных входящих, которые нужно хотя бы тупо декодировать для начала, что уже немало ресурсов требует. Так, а может их машинлер... Подожди, подожди, их же не надо кодировать в первую очередь. Ну, подожди-ка, у тебя бандвисты, они бесконечные, может быть, и надо, откуда мы знаем? Так нет, надо просто больше оптовлакной, а не ЦПУ. Ну, посмотрим, может быть, ты тут, конечно, и прав. В любом случае, даже если нам видео не нужно декодировать, у нас есть как минимум задача машинного зрения, как минимум задача принятия решений, и как минимум задача машинного обучения, чтобы скорректировать наше принятие решений потом. И машины – это тот случай, когда нельзя взять и просто все, что мы там... То есть, ну, там, наездили, потом это в облако, когда получилось, заслали, и потом нам апдейты прислали. Можно, конечно, чисто технически так делать, но идея не то, чтобы самая классная, потому что машина – это такая вещь, которая должна мочь по-хорошему работать сама. И в критической ситуации тоже должна мочь правильно себя сработать, не дожидаясь... То есть, представляешь, да, там мы в какой-то странной ситуации, водитель в панике тупит, мы хотим спасти водителя, и, короче, мы пошли в облако консультироваться со Всевышним Разумом. Ну, не очень хорошо. У нас уже есть водитель, который пошел консультироваться со Всевышним Разумом. Мне вспоминается фильм «Я робот», где такие машины все-таки консультировались с Всевышним Разумом раз в день. Качали апдейты, вот это все. Да, понакачали апдейты, потом восстали, да, бывает и такое. Но да, тут как раз, чтобы ублажить параноиков вроде Александра, и не качать апдейты, чтобы все было локальненько, такой суперкомпьютер в коробочке. Притом он реально ведь суперкомпьютер, там даже водяное охлаждение засунули. Это, по-моему, вообще первая консюмерская железка с водяным охлаждением, вот не для энтузиастов, а для чего-то, что засовывается в консюмерские товары, скажем так. Вот где не совсем настоящие суперкомпьютеры, это на Kickstarter. Называется Pine A64. Короче, это микро... как сейчас называется? Одноплатный компьютер за 15 долларов с неплохим железом, да, с 64-битным, 4-ядерным, 1.2-гигагерцовым CPU и по памяти что тут, я уже не помню. Собственно, новость заключается в том, что... Так, память, память... 512 мегабайт, они что шутят? Что-то там маловато. По-моему, они что-то о 600 гигабайте говорили, мне казалось. А, это разные модели, я кажется понял. Ну вот. И новость заключается в том, что компания собиралась собрать 32 тысячи долларов, а я собрал чуть больше 883 тысячи долларов. Так что мы, видимо, увидим эту Pine 64, будет такая прикольная железка, и я прокачаю малину. В смысле прокачаешь? Это же другая железка совсем. Ну, это прокачаю. В смысле, ты поменяешь малину на это? Ну, например. Это не прокачай называется. Понимаешь, я... Будет M.O.C.H. OpenGL 3.3. Потому что я просто проводил небольшой ресёрч, и OpenGL 3.3 умеет только один... Нет, точнее, есть два микрокомпьютера, которые их таки умеют, но один хрен купишь в России, а второй купишь, но он такой страшненький и с кулером. Печалька. Ну я на самом деле тоже хотел бы что-нибудь такое, потому что я уже, наверное, упоминал, мы какое-то время назад, пока мы это ещё не забили, пытались играться, делать своего робота, и у нас там была ардуина, которая рулила железом, низкоуровневым, и для обработки чего-то поумнее мы планировали ставить малину. Ну и, собственно, верхний уровень логики уже крутилось на малине. Проблема малины в том, что, несмотря на достаточно приличный GPU, ну, приличный для того, что мы хотели делать, там бы взлетело, будто бы, его драйверы, к сожалению, бесконечно ущербные, и, в общем, OpenGL там был только один-один, на котором даже GPU не погонять, никакого OpenCV там и в помине не было, и погонять какие-то вычисления на GPU можно было только при помощи какого-то зареверсенного ассемблера, в общем. В смысле, кто-то реверсировал GPU-шечку и сделал ассемблер для типа шейдеров. В общем, всё было очень печально. И если у нас действительно появится вот такой одноплатник с... Во-первых, дешёвый одноплатник с хорошим GPU, это будет очень здорово, потому что есть... Одноплатники дорогие, с хорошим GPU есть, называются GAMSTICS. Хорошо, там даже OpenCV работает вроде как. Но они стоят 150 за штуку. Не то чтобы дешево, но хорошо. Вот тот, который я упоминал, это адроид какой-то, и он стоит 75, по-моему, за штуку. Там нормальный GPU и даже с OpenCV. Окей. Добавляй виш-лист на день рождения. Да, нет, на самом деле. Я же говорю, что мы на робота забили, мы как бы... С того, как я переехал, нам просто стало тяжело собираться, удалёнка как-то не взлетела, короче. Вот. Давайте же поговорим о темах слушателей. Согласен. И самая набравшая больше всего голоса в тема была занесена нашим постоянным слушателем Денисом Рыццовым, который нам занёс ссылку на Apollo DB от Facebook. К сожалению, деталей об этой технологии крайне мало, но идея технологии... Вот помнится как-то раз в Ягскасте, я сказал, что то, что мы имеем столько баз данных, это импотенция! Саша меня потом ещё долго по этому поводу надо мной подтрунивал. Но в общем, Apollo это по сути база данных, которая не импотенция, которая умеет во всё, что нужно. Она умеет ЦП, где нужно, умеет правильное АПС, ЦРДТ, где нужно, умеет очереди, где нужны, вот это всё. То есть... А, да, больше того, она поддерживает транзакции, как бы сериалайзабл транзакции, и вот эти хипстерские высокодоступные транзакции, которые RAMP. Это нормальная идея, я как бы тут ничего против не имею. У тебя же была идея, что Postgres должен уметь как ММКэш. Нет, идея была в том, что тебе не должно хотеться отдельным МКШ. То есть твой Postgres условный должен уметь так работать, прозрачно для тебя, что тебе не важно, нужно ли, как оно где-то хранится, оно просто быстро и поддерживает все возможные модели запросов к этому. И вот Apollo, оно по дизайну, как раз вот куда-то в эту сторону идёт. То есть, грубо говоря, только сервисы, но не Facebook. Она же не умеет как ММКэш. С чего ты взял, что она не умеет? Ну, а где там написано про ММКэш? Ладно, поясни, что ты хочешь от слова «как ММКэш». Ну, как, в памятью, KVL'ю. Ну, в KVL'е оно точно умеет, любая база умеет в KVL'ю, согласись, да? Так, допустим, приём за рабочую тюрьму. Тебе важно, в памяти оно или нет, если оно работает быстро? Может быть, важно, может быть, нет. Я могу придумать кейс, когда это очень большой security KVL'ю, и я не хочу, чтобы оно попадало на диск никогда, потому что, не дай бог, украдут. Знаешь, это вырожденный случай, всё-таки реплика про импотенцию была из-за разряда того, что тебе не должно хотеться ММКэша просто потому, что медленно работает твоя основная база. Вот, это было из этого разряда. Ну, хорошо, так, окей. Но, короче, деталей нет, я так понимаю? Вот, да, деталей... там есть какой-то толк, на самом деле, который... я смотрел предыдущую версию этого толка, нет, не уверен. Вот, в общем, выглядит это бесконечно привлекательно. То есть, планы open-source'ить, ну, вроде как, что-то мы хотим open-source'ить. А может быть, нет. И, как бы, open-source Facebook, ну, то есть, надо помнить, да, что Cassandra, она вышла как open-source Facebook. И когда они сделали уже другую версию, по-моему. Ну да, и при этом то, что как бы вот было, вылезло из Facebook, оно было, честно говоря, не очень юзабельно простыми смертными. И прошло много лет, прежде чем DataStax, допилили Cassandra до состояния, когда этим приятно пользоваться. DataStax, Apple, все вот эти ребята, которые реально попытались это попользоваться в продакшене, и вот в итоге, короче, пробежали по всем возможным граблям. Вот, теперь это, правда, ну, solid piece of software, как бы, что будет с Apollo, интересно. То есть, я бы очень хотел что-то такое, даже не полурабочее, увидеть в open-source'е. Просто потому, что это, ну, действительно такая штука, вот, the one ring to rule them all. Это выглядит весьма перспективно. То есть, ну, сейчас получается, что у меня вот есть три проекта, за которыми я очень слежу. Это Rethink, Кокрович и вот будет Apollo. Спасибо Денису. Аферы мы обсудили. Да, аферы мы обсудили, но тут как бы, может быть, обсудим как-нибудь подробнее. Разработка Python появится на Github. Я даже не очень понимаю, что вот такого. Наверное, это когда связано с тем, что Python был на Меркуриале. Ну, я никак не могу это прокомментировать, господа, дамы. Это как-то не так, не патриотично. Кто здесь вообще имеет опыт с Меркуриалом? У меня есть, но небольшой. У меня не приходилось. Валера? Я как-то, по-моему, целый один раз им воспользовался, вот, и то так, по числе случайности. Ну, то есть так мимо проходил, мне, короче, так, хоба, чувак, у нас на Меркуриале? Ну, ок, зачекаутил, посмотрел. Ну, поскольку проходил мимо, мне даже ничего комментировать не пришлось. Ну, короче, ну окей, молодцы. Ну, то есть вот что сила социума делает. То есть даже самые закоренелые Меркуриалозадроты под социальным давлением были вынуждены перейти на прогрессивные методы поедания картошки. И, короче, теперь у них GitHub, и, видимо, это во имя того, чтобы с комьюнити было проще общаться. На самом деле, мне кажется, что... Восстановлено за GitHub. Ну да, да, да, я про то и говорю. И меня глубоко убеждено в том, что ценность того комьюнити, которое есть вокруг проекта, она намного важнее той технологии, которая у вас там под низом. И вот это патриотично и не патриотично, это должно быть в последнюю очередь, потому что, ну, большинство юзеров имеют аккаунт на GitHub, и порог вхождения для того, чтобы завести ищу на GitHub или даже законтрибьютить на GitHub гораздо ниже. С другой стороны, смотри, у тебя GitHub, он, ну, скажем так, популярен последние лет 5, наверное. Потом появится другая инновационная система контроля версии, и что, снова на нее валить? Если комьюнити туда побежит, да. То есть, грубо говоря, тебе нужна... То есть, цель тебя, как у меня или у кого-то еще, как у человека, который гипотетически имеет какой-то проект опенсорсный с каким-то комьюнити, который есть какие-то желания, ну, и Python, это же довольно большой проект, и у многих возникают какие-то проблемы даже иногда. Нужно максимально снижать порог контрибьюта во что-то. То есть, можно даже на том же Erlang посмотреть. Erlang очень долгое время жил, знаешь, в таком, короче, закрытом мерке. Патч принимали только по почте. Баги тоже были, как бы, mailing lists с багами. И, грубо говоря, туда законтрибьютить что-то, ну, нужно было, знаешь, так прилично постараться, просто вообще, чтобы понять, куда что-то законтрибьютить. Сейчас, чтобы туда законтрибьютить, можно просто поставить pull-request. Да, он тоже должен быть хороший, хорошо оформленный, его могут 10 раз реджект, прежде чем он дойдет до состояния, когда его, правда, может быть смержить. Но, как бы, хотя бы мне не нужно разбираться с тем, как вообще законтрибьютить. Ну, я знаю проекты, вот, минимум два приходят на умы. Это FreeBSD и Postgres, у которых нету аккаунтов на GitHub модных, и туда, ну, понятно, как законтрибьютить, потому что на Вике это описано. Так что, ну, не знаю, на мой взгляд, это, как минимум, довольно сомнительное преимущество, хотя я понимаю, о чем ты говоришь. Ну, не скажи, как бы, это несомнительное преимущество. Я считаю, что абсолютно все проекты, которые вот живут так, как живут, когда тебе нужно пойти на Вики, чтобы понять, как законтрибьютить, тебе начали прочитать Вики-страницу. Они создают себе ненужные проблемы. В случае какого-то FreeBSD или Linux Kernel, это, возможно, даже оправдано, потому что желающих и так достаточно. А, как бы, пускать кого угодно в код хидра, ну, наверное, не очень хочется. В случае того же Postgres уже сомнительно, потому что хотя бы Issues хотелось бы не только внутри mailing-листа обсуждать, а также иметь, как бы, ну, возможность другим людям завести их на GitHub и трекать их прогресс там же, где они трекают все остальное. С патчами, ну, как бы, тут не так понятно. Опять-таки, в случае, я не знаю, какая модель разработки у FreeBSD, у Linux точно совершенно модель разработки с, там, типа, зонами ответственности под этим всем, там, наверное, GitHub уже просто не будет работать. То есть там уже какой-то другой тул. Но, опять-таки, те же самые Issues трекать на GitHub довольно удобно. Давай дальше. А, давай. А дальше у нас... Черт. Я не знаю, о чем об этом говорить. Ну, короче, там такой странный патч про то, что Google взял Android и сказал, ну, там, сделал commit, что, короче, чуваки, мы валим на Oracle, Java, там, с Dalvik или что там у них было. И я, честно говоря, особо не слежу за Android. Ну, молодцы, и че. Да, и там еще к этому приплели историю, что... Приплели к этому историю, ну, у них там была своя JVM. Ну, это я знаю. Ну, вот. А теперь у них там, как у всех. Ну, и, так, к примеру, там было очень много юридических терапевтов. Да, да, да. Вот я как раз собирался сказать то, что, похоже, они там как-то чего-то, как бы, то ли во вне судебном порядке, короче, о чем-то там договорились. Но никто пока этого не комментирует, потому что судебный процесс, он как бы еще не завершен. А мне знает, что непонятно. Dalvik, он был хорошо и специально разработан для мелких устройств. И они неспроста бросились это делать, потому что, ну, как бы, запихать полновесную Java в маленький мобильничек, это, ну, не выглядит самой крутой идеей. Попробовался, скорее. Ну, с большим удовольствием теперь как-то все будет работать. Знаешь, сейчас такие мобилки, которые уже совсем не легковесные, там полноценные. Это да. Просто безвязно. Но это ведь означает, что при этом можем оказаться в ситуации, когда у нас, ну, вот наш Android, который хорошо работал даже на довольно слабом железе, пока не менее раньше, не знаю, как сейчас, на нем внезапно перестанет работать. Или на том железе, на котором он неплохо работал, станет работать похуже. Ну, значит, подчинен GVM. Но смысл в том, что у тебя, вот ты запускаешь Java-приложение, оно у тебя ни во что не странслировано и так далее, просто выполняется байт-код. Выполнение байт-кода на виртуальной машине иной раз может быть экономнее по памяти, чем JIT-компиляция. А потом уже начинается, уже после того, как приложение работает, начинаются там какие-то заморочки с JIT-компиляцией. Подожди, в случае, если я ничего не путаю, в случае с Dalvik'ом нам обещали чуть ли не Head of Time компиляцию. Они ее сделали. У них же появилась новая какая-то версия Head of Time компиляции. И во время установки приложения у тебя оно компилируется под твой конкретный девайс. И вот что теперь в итоге станет с OpenJDK? То есть, если вот они перейдут на OpenJDK, и что, мы возьмем и все это выбросим просто или как? Ну, мы же тут все с айфонами, нам как-то все равно. Ну, нам-то да, мне просто как бы не безразлично. У нас у судьбы андроида, мне не нравится его использовать, может быть, на своем устройстве, но многие люди им пользуются. И это означает, что мне, возможно, для чего-нибудь может захотеться для него разрабатывать. И мне хотелось бы понимать, что вообще, как это, что там у ведров. А на планшет я не ставлю апдейтов, поэтому мне тоже все равно. Вот, идем дальше. Swift 2 теперь на дотнет, Java и Android. Я не знаю, что по этому поводу говорить, потому что я вообще не в теме. Не, но свифта у нас главное по дотнету. Я так понимаю, что просто завезли какой-то компилятор, который умеет... сторонний, неродной свифтовый, который умеет свифт в дотнет или JVM. Я, честно говоря, ничего по этому поводу не имею сказать, тем более, что тут есть какая-то напрягающая такая, короче, вкладочка pricing. Когда мне говорят, эй, чувак, мы тебе компилятор принесли, а потом у него есть pricing, то я сразу вспоминаю историю с Замарином, и меня крайне напрягает, потому что я не готов инвестировать во что-то настолько ключевое, которое потом может взять и оказаться... ну, фиг с ним даже с закрытостью, он может оказаться тупо заброшенным. Я так понял, они берут деньги за что-то дополнительное, не за свифт. То есть тут написано, типа, если ты хочешь писать на свифте и C-Sharp, то, короче, ну, занеси. Такая странная штука. Ну, понятно, для чего все это нужно, дотнет, джава и андроид, да? Это чтобы на свифте писать под все мобильные приложения сразу. Ну, под все мобильные платформы, прошу прощения. Ну, идея прикольная. Но, к счастью, я не мобильный разработчик. Знаешь, это, по-моему, идея как раз вот из-за Замарина. То есть мы берем и приносим неродные вещи на другие платформы. И они все работают как неродные, как чужие. Да, да. Ну, то есть я понимаю желание шарить логику. Это, наверное, оправдано и имеет смысл. Но вот, как только мы пытаемся написать, короче, один UI на все платформы, это, ну, заведомо не работает, на мой взгляд. Ну, то есть просто идея сломана, просто потому что платформы разные и проводимые UI. Вот. На этом, пожалуй, мы закончим темы, которые мы прям хотим пообсуждать. Потому что они либо без голосов, либо их за очень давно улокали. На самом деле, вот, одна тема, которая почти без голосов, но я ее упомяну. Потому что я лично слежу за этим проектом. Есть такой чувак-интерес. Это автор Redis'а. И он в какой-то момент решил, что, ну, в общем, Redis это не самое лучшее место HQ. И он решил сделать свое место HQ. Ну, и, судя по всему, у него получается. Вот у него вышел первый RC, первый Redis-кандидат. Я не могу сказать, что он мне всем нравится, но она однозначно достойна внимания. А нет, или говорил, что он не рубит фишку в распределенных алгоритмах и вообще... Он не рубит. Но он старательно учится, скажем так. Он там, в частности, он, по-моему, то ли в посте, то ли в Redmi к этому диск'ю. Да, проект называется диск'ю. Благодарит Афира и кого-то там еще за помощь с... Ну, то есть, он не рубит, но он старается этому всему, так скажем, обучиться. И, скажем так, у меня сейчас проблема с тем, чтобы найти даже место HQ, которое тупо хотя бы на одной ноде нормально работает, так как мне нужно. И вот эта штука, хотя бы в однонодном режиме, у нее гарантии похожие на то, что мне нужно. То есть, интерес, он делает хорошую вещь. То есть, я давно о чем-то таком хотел. Он говорит, что мы сообщения терять не хотим. Но мы вполне себе можем допустить перестановку сообщений. И это как бы то, чего я ждал два года, в том числе я вот, ну, возможно, даже сам что-нибудь такое хотел бы сделать. Просто потому, что есть дофига случаев, когда нам не нужна штука типа кавки, которая ну прям совсем строго упорядоченная. Она прям, ну, кавка это штука для репликации базулины в другую базулину. Или базулины в систему процессинга. Она очень хорошие гарантии дает, она достаточно быстрая, у нее хороший throughput. К сожалению, она совсем не гибкая. То есть, она нужна для того, чтобы весь поток данных вывалить в другое место. Для всего остального она работает не так хорошо. Советуй поправить меня, если я не прав. В целом, ты прав. Но вот тоже по поводу гарантии. Это такой тонкий момент. С точки зрения кавки, да, у тебя есть некоторые гарантии. Но очень часто на практике вот тот источник данных, который тебе посылает сообщение в кавку, он не дает никаких гарантий. Понятно. Ну да, да, да. И ты в итоге получаешь, что кавка тебе, конечно, гарантирует что-то, но на реальной системе ты от этого ничего не выигрываешь. И просто, скажем, толку от этого никакого нет. И это проблема. Реальная проблема. И вот, к слову, в той статье, в которой я говорила про потоковую обработку данных в Афлинке, у них есть такая штука, когда ты задаешь, что вот ты читаешь сообщение, и в ней они должны быть упорядочены по дате. И если у тебя сообщение выскакивает, например, за 60 секунд, то, ну скажем, оно упорядочивает сообщение в рамках 60 секунд. Если что-то выскакивает за этот предел, то оно его отбрасывает. То есть есть у тебя такие возможности на уровне твоего фреймворка. Для кавки ничего такого из кропки я не видела. То есть вы можете сами такую логику написать, но нам приходилось такую штуку делать. Внутри кавки? Да, у нас была такая метрика, которая говорила, что мы читаем сообщение, у них все нормально с датами, и потом идет какой-то выброс, когда одно сообщение и дата у него на несколько секунд. А, то есть вы просто логировали. Ну, мы логировали, и мы такие вещи стали отсматривать, и на уровне уже логики мы аккуратно это обрабатывали. Я думал, вы как-то в кавки перемешивали, потому что физика кавки... Нет, не в кавки, не в кавки, ты на уровне обработчика, на уровне консюмера ты это будешь решать. Такое мы тоже делали, да. Но неприятная штука, на самом деле, такое неприятно делать. Совсем. Мы же сейчас все-таки общность обсуждаем, я хотел сказать, что кавка, она очень хорошая сама по себе. То есть если у вас потребитель и поставщик написаны правильно, руками из плечи, головой из шеи... Но они, это по поводу этого добра, у них до недавних версий все было очень печально. Потом они сначала заменили консюмера, и даже класс называется, он так и называется, Ньюш, а они... Они это кто? Разработчики кавки. На самом деле там немножко другая история, у них в самых первых версиях все было очень хорошо. Нет, у них ужасный код, у них не было никакой документации, она была совершенно... Это правда. Не сходилась с реальностью, и все документация была только в коде. В первых версиях с гарантиями было все хорошо, до кластеризации вообще. Про качество решения, именно качество кода, это один из худших примеров того, как не нужно писать. И в итоге, что касается последних версий, они сначала добавили новый консюмер, он называется Ньюшайни консюмер, прекрасное название, я считаю. И потом, по-моему, недавно они заменили на новые продюсеры, теперь им не нужен больше этот... Как он там? Зокибер. Он нам на самом деле нужен, просто он не нужен в клиенте. Вот, так что кафка такая специфическая штука. Это безусловно так, и на самом деле, то, что я хотел поправить, я, извините, еще раз перебил, у них была версия, у которой все было хорошо, но не было кластера. Потом они добавили кластеризацию и сделали дико неудобный интерфейс для продюсеров-консюмеров, который был полусломан. То есть из него можно было выжать то, что хочется, но это было пипец как трудно. Сейчас они снова сделали вот этот New Shiny, и оно должно хорошо работать. Мы даже, по-моему, обсуждали об этом из выпусков. Вот, ну хватит о кафке. На самом деле, то, что я хотел сказать... Я хотел два слова сказать. Говорят, специалисты, я сам не пробовал, но вообще на реализационных базах данных делаются нормальные очереди. В Postgres'е даже можно с пушами... Да, они вполне хорошо делаются. Вот, то есть я делал так на MySQL'е в свое время, там нужно это делать аккуратно, чтобы у тебя одна запись из очереди не считалась в два раза, например. Вот, но это делается. У меня была хреновая реализация, она была на поллинге. В Postgres'е у тебя есть, как она называется, NotifyListen, который позволяет тебе прямо с пушами. Еще есть какая-то штука под названием PGQ, я не пробовал. Но я ссылку в шелноту добавлю, может кто-то знает. Я так понимаю, вот таких вот решений у них есть... Ну вообще, у кафки два плюса, большой throughput и хорошая гарантия. Вот, я ни разу вообще... Я знаю, что это можно технически сделать с реализационными базами данных, я не имею ни малейших представлений о том, как... То есть не даже с гарантиями все будет нормально при этом, я не имею ни малейших представлений, какой у этого будет throughput. Потому что я позабываю, что если пытаться правда наворачивать хорошие гарантии, честное, то throughput будет не самый оптимальный, и больше того, это... Так скажем, это же чисто теоретическая точка зрения, это будет так просто потому, что у нас реализационная база данных, она все хранит либо в BD-ре, либо в чем-то еще похожем. А у нас данные, которые можно хранить проще. Собственно, почему у кафки такой хороший throughput. Потому что она данные хранит просто очень просто. Да, но обратите внимание, потом ты захочешь не просто очередь, а очередь с приоритетами. А не надо этого хотеть. Ну в случае кафки, не надо... То есть как бы да, смотри, в случае кафки не надо этого хотеть. Нет, но я... Давайте все-таки идем к диску. Я согласен. Как вот такая идея. К диску? Нет, я понимаю, о чем ты говоришь, я в целом согласен, да. Вот, и как бы вот... Почему вообще вспомним про кафку? Вернемся к диску. Вот кафка, она хорошо, у нее хороший throughput, хорошие гарантии, но не дает гибкости. Коинтробит МКУ, бесконечная гибкость, херовый throughput, проблемы со стабильностью. И вот диск, он как бы пытается попасть в интересное место, когда тебе хочется какой-то гибкости, какой-то такой безумной интерпризе гибкости, как у МКУ. И в то же время хочется хороших нормальных гарантий, а не таких, как у МКУ, непонятных. Вот. И то есть они пытаются в at least once семантику, ну то есть на самом деле как бы из очереди, то есть из самой по себе очереди, ничего больше, чем at least once добиться нельзя. А exactly once, он всегда на стыке очереди и потребителей, и продюсера. И как раз то, о чем говорила Света, что многие вещи, которые с Кавкой стыкуются, написаны руками из шеи и головой из плеч, и как там еще, в общем-то странной конфигурации людей. И они гарантии, которые дает Кавка, они благополучно их теряют. Но пока сам по себе диск, он как раз, ну скажем, лично у меня есть задача такая, есть пользователи, которые могут друг друга приглашать в гильдии. А потом в гильдиях могут происходить какие-то события. И мне чертовски хочется какое-то нормальное решение, а не велосипед накрученный вокруг кредиса, мэйсиквеля и еще чего-то, для того, чтобы все эти события каждому пользователю роутить, чтобы они не терялись желательно по дороге, чтобы оно еще было в идеале full tolerant. В общем, как-то вот хочется чего-то такого из коробки, и из коробки ничего такого нет. Притом, прям совсем сложных вещей, типа очереди с приоритетом в этом всего, хочется просто очередь, с большим количеством маленьких внутриочередей, хочется нормальный гарантий доставки, при этом in memory вполне устроен. Ну, in memory просто с дампом на диск. И вот диск, это как раз идеально про это. Раз мы говорим про очереди, давай я тоже расскажу про свою историю реальной задачи, которую хочется с помощью очереди решить. Вот такой очереди нет. Смотри, у нас есть кавка, да? И в эту кавку мы пишем сообщение. Каждое сообщение имеет какой-то ключ. И потом, через какое-то время, мы пишем снова в эту кавку сообщение с тем же ключом и какими-то другими данными. И что хочется делать? Хочется сделать следующее. Как только ты пишешь новое сообщение с ключом, который раньше использовался, хочется пробежаться по всей кавке, допустим, там у нас три дня retention стоит, вот за эти три дня пробежаться, собрать те сообщения, у которых был такой же ключ, и смешать данные по этим ключам. Вот такая штука. И чтобы эти данные были, скажем, в последнем вставленном сообщении в кавку. Вот как бы такой очередь найти. Я тебе сейчас открою страшный секрет. Я сейчас пишу дисковый МК для такой штуки. Я на самом деле решила эту проблему по-своему, но хотелось бы, чтобы что-то такое из коробки было. Даже была идея, что вот это прекрасная тема для того, чтобы делать новый технический продукт, потому что я ничего такого не знаю на рынке. Свет, хочешь пописать на Ирландии? Давай. Смотри, пацанчик, не хочешь немного Ирландии? Кроме шуток, я сейчас захотел сделать то же самое, я сейчас в рамках домашнего проекта начал делать вот примерно вот такую штуку. Блин, ну то есть я над этим уже думаю, просто у меня решено это определенным образом, и вот именно есть техническая задача реально вот из продакшена, что я могу, ну то есть не сейчас, но как если будет интересно, могу рассказать, какая конкретно тема для чего-то действительно используется. Но, блин, так не хватает такой штуки, просто приходится градить много чего поверх, и прям хочется, хочется очень сильно. Ну в общем да, в общем как бы вот и диск занимает хорошую нишу, и вот только что мы вам всем запалили тему для нового стартапа. Практически бесплатно, то есть видите, вот аж у двух ведущих подкастов есть проблема, которую можно бы решить, а никто ее не решает. Давайте пойдем дальше наконец. На этом, наверное, кончились темы слушателей, и тут, наверное, должна появиться какая-то еще тема, она у меня грузится до Google Doc. Света нам хочет поведать что-то. Света? Про стартапы. А, действительно. Света? Пардон, теперь мне слышно? Да. Тема тоже так залежалась, она про большие и маленькие компании. Такой long read, прекрасная статья, мне очень понравилась. Всячески советую для тех, кто хочет определиться, где хочет работать в большой компании, либо все-таки в стартапе, можете посмотреть. Стоище, кстати. Вот, среди, скажем, таких утверждений, которые говорят, что вот есть в стартапах, но этого вы не найдете в больших компаниях, можно выделить такие три большие составляющие. Первая составляющая – это интересность работы. Как правило, в стартапах она, работа более интересная, разнообразная и больше ответственности у вас. Второй пункт – это то, что стартап вам даст возможность выучить намного больше, нежели большая компания. То есть вы быстрее прокачаетесь и узнаете, получите более широкие знания в разных сферах. И третий пункт – то, что в стартапе можно быстро заработать много денег. И каждый из этих пунктов в отдельности рассматривается в этой статье. Что касается денег, то это тоже очень спорная ситуация. И для примера, автор статьи приводит такую табличку, в которой показывает, сколько в среднем зарабатывает выпускник, например, того же Стэнфорда, который пойдет работать в большую компанию, типа Google или Facebook, а к какому времени он заработает свой миллион долларов, это примерно по его расчетам через 5-7 лет. И каковы шансы, чтобы человек получил такую же зарплату в стартапе? То есть примерно шансы около 1 к 100, и то в лучшем случае. То есть в итоге, что касается денег, то это очень сомнительная история, что в стартапе можно заработать много, если вам очень повезет. Второй момент, что касается интересной работы. Интересная работа на самом деле есть и в больших компаниях, но чтобы ее получить, нужно отработать некоторое время на не самых интересных проектах, и только потом, по прошествии некоторого времени, вам дадут возможность заниматься какими-то крутыми вещами. Отчасти это правда, но если посмотреть на те же конференции, которые проводятся по распределенным системам, про хранилище данных, обратите внимание на количество пейперов, которые происходят от а. университетов, б. больших компаний, и в. от маленьких компаний в виде стартапов. Вы видите, что в основном соотношение идет, что 2 к 1, где 2 к университетам, 1 к большим компаниям. И при этом от стартапов практически ничего нет, если бывает, то крайне редко. Что касается интересной работы и какой-то научной составляющей в вашей работе, то в большой компании очень часто можно получить такие вещи. Это всяческие ренде-делы, которых в маленьких компаниях, стартапах, как правило, нет. И в большой компании это обычно есть. Но и попасть туда не так уж просто. Это по поводу интересности работы. И еще такой момент, что зачастую в стартапах просто не хватает ресурсов. То есть вам все время придется подгорать по времени что-то, нужно успевать решать задачи, нужно быстрее что-то показывать, пользоваться, и просто нет времени на то, чтобы заниматься какими-то фундаментальными исследованиями. Или у вас нету тысячи, десяти тысяч машин, чтобы прогнать какой-то запрос. У вас просто таких нет ресурсов. Зачастую, если у вас есть какой-то здоровый кластер, если вы работаете в Гугле, либо где-то в Фейсбуке, вы можете делать какие-то ресерч-работы, и вам даже на это могут дать время, если посчитают нужным. И третья часть, это что касается обучения и опыта. Что касается опыта, то, конечно, быстро очень можно прокачаться и в очень разных сферах в стартапе. Это действительно факт, но зачастую вокруг вас будут коллеги, у которых не так быстро вы будете учиться. То есть если взять большие здоровые корпорации, там, как правило, очень много людей таких, скажем, известных. Приводится пример в статье. Люди с премией Тьюринга, и с ними можно напрямую общаться. Они отвечают вам в почте, могут вас чему-то научить, и у них можно постоянно просить какого-то фидбэка. И в этом плане, когда они расскажут свой фидбэк по поводу ваших архитектурных решений, либо каких-то дизайн-документов, можно очень быстро решить какие-то проблемы, на решение которых вы бы потратили месяцы своей работы. Позвольте прерву. Скажи вот краткий вердикт. Ты одобряешь или осуждаешь? Ты за стартап или за кровавый интерпрайс? Это провокационный вопрос. Саша, вот знаешь, хочу я тебе немножко подтроллю. Ты у нас ничего недавно говорил, что значит только ситхи, и все возводится в абсолют. Я... Так, и? Ну вот ты берешь и возводишь все в абсолют. Обе вещи, это не очень хорошо. Я для себя понял, что нужно работать в компаниях средних размеров от 100 до 300 сотрудников, потому что, по моему опыту, это компании, в которых быстрее всего прокачиваешься, и при этом там еще нет кровавого интерпрайса. И бюрократия. Бюрократия, это страшно. А то есть, если ты работаешь в компании из 50 человек, то это все, ни на что не годится? Нет, ну почему? Зависит от 50 человек. Я говорю, что, ну я юристически сказал, что примерно такой размер компании, это обычная компания, где все вот прям вообще пришел и хорошо. Потому что есть там и сложные задачи, есть и время прессерчить, и не говори, что завтра зарелизится. Вот, как бы... А, я тебя понял. В Google работать не идем. В Facebook тоже. А понимаешь, в чем проблема с Google? Там как бы можно устроиться, как приходивший к нам гость Женя, который занимается бесконечно офигенными вещами. А можно попасть на то, чтобы мейнтенить, там, не знаю, какую-нибудь страничку. Да, это же особенность. То, что особенность процессов в Google такие, что тебе не говорят, в какую команду ты попадаешь изначально. Вот потом они уже стали немножко больше рассказывать про детали, куда ты попадешь. Но вначале ты получаешь просто оффер в Google. А куда тебе кинут, это вот как повезет. И очень многие люди отказывались от оффера в Google именно по этой причине. Они знали, куда они пойдут в Microsoft, они понимали, что они будут делать. И лучше известность, детерминированность твоего будущего, нежели какой-то, скажем, кот в мешке, хоть и в Google. Я понял. Наш quorum пришел к вердикту «it depends». Ну, то есть, скажем, общая краска данной статьи, она скорее против стартапов. Вот то, что я читала, мне сложилось такое впечатление. Теперь мы знаем, где работает автор. Да, то есть, он работал и там, и там, и он делится и тем, и тем об этом. Он говорит, что и там, и там классно, везде свои плюсы и минусы, но как-то вот у него прям тянет, что большие, большие, большие компании ему нравятся. А, ну это потому, что у него уже дети есть. Об этом статье ничего не сказано. Но фактом, если вы хотите стабильности и процветания, то большие компании для вас. Там прям такая табличка с графиком, как нужно расти, и вы получите свой миллион. Забавно. Придете к успеху. Что еще забавно, я хотел буквально два слова сказать про одну статью, она мне очень понравилась, она очень приятная.",
    "result": {
      "query": "стартап vs корпорация плюсы минусы"
    }
  }
]