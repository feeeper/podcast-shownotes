[
  {
    "segment_id": "da29d356-8e80-43c9-9e12-96c906440e98",
    "episode_id": "abc90a73-97c6-4ebf-b56b-64370625e2e3",
    "episode_number": 183,
    "segment_number": 7,
    "text": "В общем, клево. Еще мне интересно, для меня было удивительным, что статистика по веб-серверам. То есть, например, 47% сайтов работают на Apache, и там только 47% на Nginx. И напомню, что Apache использует процессную архитектуру, то есть он на каждое соединение создает отдельный процесс, который что-то обрабатывает и дает пользователю. Это достаточно дорого, потому что пользователь часто забирает данные медленно, и пока он их не заберет, вот этот процесс висит. Если, конечно, в последних версиях что-то резко не изменилось, о чем я сомневаюсь. Для меня это довольно удивительно, потому что, напомню, речь идет про топ какой-то крупнейших сайтов, я не помню, топ какой, миллион или около того. Можем ли мы из этого сделать глубокомысленные выводы о том, что никому не нужны эти ваши веб-сокеты и соединения, и легковесные процессы? 10 миллионов, мне кажется, во-первых. Это довольно большой срез, и мне кажется, на его основе, это еще не очень понятно, как именно они срезали, то есть, не знаю, как они считаются, те огромные кучи сайтов, которые делаются, не знаю, сайты портфолио, которые делают знакомые, там, VIX или как оно там другое называлось, по всей бочке, затычка, квадратная пространство, не буду называть, как они называются, но, я думаю, те, кто знают, о чем, я думаю, поймут. Вот. Но если сайты на специализированных сайтах-строителях, я думаю... Смотри, если 30% на WordPress и 5% на Joomla и Groupal вместе взятых, ну, видимо, они, вот те движки, которые ты назвал, не очень большая процентность. Это даже не движки, понимаешь, что ты делаешь, это типа такие уже готовые CMS-ины, Hosted, Managed, это все. То есть, не знаю, представь, как если бы у тебя WordPress был еще более гибким, только за ним бы стояла какая-то бесконечная маркетинговая машина, которая просто в каждую бочку вставляет рекламу, открываешь Инстаграм, реклама вот этой шараги, открываешь какого-нибудь ютубера, который ты смотришь по своей тематике, реклама этой шараги, открываешь другого ютубера, реклама этого же самого. То есть, ну, где оно все тогда? И, опять же, открываешь какой-то сайт, смотришь, что на нем сделано. Возможно, они не очень популярны, то есть мне тут всегда очень непонятно, как они выбирали эти 10 миллионов популярных, как они статистику собирали. Мне просто, извини, мне странно слышать про эти сервисы, про которые ты говоришь, потому что впервые слышу. Ну, возможно, потому что ты, не знаю, про фотографии, не очень много фотографов смотришь, то есть их сайтов не смотришь. Давай прямо скажем, в мире нет, ну, относительно вообще не очень много людей, которые фотографиями занимаются, вот так, ну, серьезно. Возможно, в общем, в любом случае, что я хочу сказать, мне не очень понятно, не открывается ссылка на статистику, да, смешно, как мне не открывается сайт в 3С. В общем, мне непонятно, насколько это... То есть как эту статистику правильно интерпретировать, то есть что именно они собирали. И вот, кстати, наш гость прямо какие-то ссылки бросил в чат, это вообще о чем было? МПМ-воркер, multi-processing module, то есть видимо завезли туда multi-processing в Apache. Но, опять же, далеко не все ровности. Надеюсь, что к нам придут... А, кстати, давай гости спросим, что это за ссылки? Дмитрий? Нет, Дмитрий, тебя не слышно. Теперь слышно, нет? Да, теперь слышно. Ну, я просто закинул ссылки, то сказали, что Apache генерирует именно процессы, но на самом деле там уже завезли достаточно давно, насколько я помню. Честно говоря, сам Apache в последнее время не использовал, но в рамках одного процесса он также генерирует трейды, которые обслуживают коннекты. То есть там есть вторая ссылка, сколько нужно... Ну, трейды как посек с трейда, правильно? Но это на современных системах, у меня коллега как раз недавно разбирался, это получше, чем процессы, но все равно не так дешево, как в Nginx. Ну, согласен, да. Но все равно не так печально, он не форкает каждый раз процесс на каждый реквест. Не, на самом деле для меня было удивительно узнать, что... Я всегда думал, что трейд и форк, это примерно одинаковые по дороговизне операции, потому что копион райт и потому что в Unix-системах изначально были форки. Оказалось, что нет, действительно, на синтетических и ничего не на практике не означающих, невоспроизводимых батчмарках трейды будут подешевле в современных Linux-ах, как минимум. На сколько? Ну, там типа десятки процентов, ну, то есть так ощутимо. В принципе, да, это звучит интересно. Возможно, потому что какие-то таблицы, диски, вообще не очень удобно копировать. Мне кажется, что еще таким удивительным фактором, что сейчас же в основном приложениях пишется на PHP, на... Ну, кстати, на PHP это немножко другая история, на Ruby, на Python. И вот в случае с Ruby и Python, там прямо в приложении встроен веб-сервер, который ставится потом за чем-нибудь еще. И это что-нибудь еще, оно, не знаю, я рубок приложения за Apache видел один раз в своей практике. И вот обычно это за чем-то еще. С другой стороны, когда так вот смотришь на какие-нибудь такие готовые решения у хостеров, там до сих пор часто стоит Apache. То есть, может быть, потому что хостеры так ставят, а сайт на самом деле недостаточную нагрузку имеет, чтобы это было проблемой. Ну, вообще это зависит от хостера. Вот те, которые я видел, зачастую ставят Apache перед ним, как реверс proxy nginx, потому что для Apache там овер дофига всевозможных модулей из покон веков существовало. Вот, а nginx, он просто от него быстренько берет данные и эффективно дает уже по TCP-трубе. Тут чат тоже говорит такую вещь, с которой я, в общем-то, согласен, что статистика топ-миллиона, или даже в данном случае 10 миллионов, это правда ни о чем, потому что люди сидят на топ-100, топ-200. Остальное, это что-то непонятное, и отсюда же мой вопрос, где тогда все эти сайты на совершенно сатистерических технологиях, потому что они тоже должны входить в какой-то там… Это странный переход, позволь прервать, что если люди сидят на 100 сайтах, то остальные не считаются, потому что они тем не менее что-то говорят о популярности движков среди пользователей. Ну, трудно судить о популярности движков, используя 100 сайтов, потому что у них вообще самоопал на крестах. Ну, это тоже верно, да. С другой стороны, популярность среди пользователей тоже странная метрика, ну, то есть, окей, это много кто пользует, а сколько из тех, кто это пользует, имеет сколько-нибудь серьезную проблему с тем, чтобы, не знаю, обслуживать больше, например, много клиентов, или это количество пользователей – это метрика чего, кроме популярности? Я думаю, не так… Ну, то есть, этот ресерч, он не так заинтересован в числе пользователей, именно посетителей сайта, обслуживаемых движком, сколько в количестве инсталляций движка или количества инсталляций веб-сервера, потому что, ну, например, если ты элитный хакер и ищешь 0day в WordPress, то от этой цифры зависит, сколько серверов ты поимеешь. Ну, правда, с другой стороны, тебе также интересно, и сколько пользователей ты этим поимеешь, ну, по понятным причинам.",
    "result": {
      "query": "web server usage statistics"
    }
  }
]