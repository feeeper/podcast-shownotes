[
  {
    "segment_id": "00e09a3a-64a5-4423-b067-5c971753fed6",
    "episode_id": "01f1a3fe-dd00-4fff-9f24-d5896be45a72",
    "episode_number": 77,
    "segment_number": 3,
    "text": "Там они описывают его, вкратце, по крайней мере. Есть ещё ссылка на статью в Nature, где они подробно описывают всё, как они сделали. Но вкратце идея такая, что у них там используются две нейронные сети и в результате их обучения как пишут, даже как они пишут, отозвался сам игрок, то есть там они устроили чемпионат с чемпионом Европы по игре ГО. И алгоритм выиграл в него 5 раз из 5. То есть такая уверенная победа. И он сам отзывается, что этот искусственный телег играет очень похоже на человека. Его сложно отличить, если не знать заранее, что это компьютер, а не человек. Так вот, они пишут, что там используются нейронные сети две для игры. И они долго обучались на реальных играх и реальных игроков. Которая позволила им две нейронные сети, я сейчас скажу какие. Одна нейронная сеть предсказывает ход, который надо сделать на основе текущей позиции. Ей скормили много игр настоящих профессионалов, и она научилась предсказывать, по-моему, они пишут с вероятностью около 55% ход, который сделает человек. То есть ей даешь позицию, и она говорит, как надо сходить. И угадывает в половине случаев, как правда сходит человек, профессионал. Вторая нейронная сеть, это уже более стандартная вещь, она оценивает позицию и предсказывает выигрышная она или проигрышная. И вот используя две эти нейронные сети и классический алгоритм минимакс, альфабет и прочее, они скрестили все это дело и получили очень сильный алгоритм. Позволь спросить, а выигрышная или проигрышная определяется там 1-0 или с какой-то степенью? Ну обычно в играх вроде шахмата и в то же го используется оценочная функция, которая дает от нуля до единицы, допустим. Плавное значение. Как вероятность выигрыша из этой позиции. А как они обучающую выборку в этом случае нашли? Вот они, видимо... А, да, еще забыл упомянуть. Они сначала первичную версию сделали, а потом запустили ее как бы генетический алгоритм для самообучения. Она играла сама с собой и сама себя обучала. То есть первичное обучение было на играх настоящих людей, игроков профессионалов, а потом уже после первичного обучения запустили саму собой. И она... Только я не понял, обе нейронные сети обучались на этом этапе или только вторая, которая оценку давала позиция сэншной функции, а первая оставалась обычной только на ходах людей. На настоящих играх. Ну, в общем, на самом деле хотел сказать, что этот подход довольно интересный. Потому что я не слышал, чтобы такую задачу решали таким способом. И вот они ее решили таким способом и оказалось, превзошли все ожидания. То есть нейронные сети как-то... Я не думал, что могут быть применены в данной ситуации эффективно. Например, многие в том же Айкад на форумах обсуждали, как бы применить нейронные сети. Но никто толком не смог их применить, чтобы хоть что-то полезное в игре добиться. А вот тут вот наилучшего результата добились именно так. Ну, это, наверное, именно из-за того, что насколько я читал эту статью, что все люди, эксперты, которые пытались писать, они говорили, что человек просто взглядом окидывает поле и не вычисляя ничего понимает перевес, понимает ситуацию на поле и так далее. То есть в шахматах ты все равно пытаешься оценить, посмотреть ходы, где какие-то слабые точки и так далее. А здесь именно у тебя общий взгляд и ты сразу примерно понимаешь, как бы картинку воспринимаешь. Из-за этого, видимо, как анализ картинки, нейронные сети же близки к этому всему. Как-то получилось у них правильные веса построить. Да, вот они и пишут, что одна только нейронная сеть, которая предсказывает ход на строительную позицию, как раз вот картинку воспринимает и говорит, надо ходить так. Даже она пишет, что обыгрывает все существующие программы. До этого написанное для игры в Go. А если ее скрестить с оценочной нейронной сети для оценочной функции и еще все это дело скомбинировать с перебором, то получается значительно более сильный алгоритм, который обыгрывает уже профессионалов. Да, интересно. Единственное, что нужно помнить, что нейронные сети, это, конечно, круто, но у них есть две проблемы. Они, во-первых, не могут объяснить, почему они дают такой выход. Ну, то есть, ты не можешь их применить там, не знаю, чтобы ставить диагноз людям, да? Потому что она говорит, пей красные таблеточки, да, ты спрашиваешь, а почему? А нейронная сеть такая, ну, я не знаю, меня так обучили, короче. Потому что Gladiolus. Ну да, и, соответственно, никто не может, глядя на нейронную сеть, понять, как она вообще работает. То есть, это просто такая модель, функция, у которой есть вход и есть выход. Ее обучили, она делает что-то правдоподобное. Ну, это не всегда опасно, если правильно это используют. Например, вот как раз в этой реализации они эти оценочные функции использовали для сокращения пространства перебора. То есть, нейронная сеть говорит, как надо ходить, какие-то варианты. Всего вариантов ходов, допустим, очень много, а нейронная сеть из них выбирает только части, говорит, что исследуй в первую очередь эти ходы, остальные, ну, менее перспективны. Поэтому, хотя она и может ошибаться, но за счет добавления перебора эта ошибка сглаживается. То есть, даже если она ошибется, все равно на нескольких ходов вперед перебор найдет ошибку и подстрахует ее в каком-то смысле. Поэтому, мне кажется, в данной ситуации это не было, скажем так, местом, которое может допустить ошибку. Да если она даже допустит, ошибка будет позже найдена. То есть, ее подстраховывают нейронную сеть. Это тоже интересный момент, как ее ошибки подстраховывают с перебором. Фактически эти две разные роли, которые взаимодействуют между собой, получают хороший результат. Еще интересно, есть же всякие варианты игр, ну, например, шахматы 12 на 12, которые специально модифицированы, чтобы эти игры не устарели лет через 10. Интересно, кто-то исследует эти игры. А что за шахматы 12 на 12? Я точно не помню. Если ты зайдешь на Википедию, там есть очень много модификаций шахмат. Вообще, есть соревнования по универсальным игровым алгоритмам, которые должны иметь играть любую игру. То есть, если говоришь правил игры, она должна в нее играть достаточно сильно. Специально, может быть, эти конкретные игры и не исследуют. Вряд ли кто-то на это выделяет средства. А вот универсальные игровые алгоритмы продолжают исследоваться, и они рано или поздно и в таких играх могут произойти человека. Интересно, а как описываются правила? Правила описываются как дерево. Есть позиция и какие варианты ходов. То есть, некий граф. И конечное состояние. То есть, там декларативный язык. Да, некий декларативный язык, как можно ходить, и какие конечные состояния в игру, если он проигрышный. И на основе этого алгоритм можно уже играть. Вот, например, чистый метод Монте-Карло способен играть на не имея никакой оценочной функции, то есть, не имея никакого экспертного мнения о позиции человека, а просто основываясь только на правилах игры. То есть, он может играть в любую игру. Я правильно понимаю, у меня, допустим, алгоритм не знает ничего про шахматы, но мы хотим, чтобы он играл в шахматы. И у него на входе текущее состояние доска ему как-то описывается, что я могу эту доску поменять несколькими, не знаю, сотнями способами, переместив разные фигуры. И у него больше другой информации нет. Да, совершенно верно. Он только знает, как можно ходить и какую позицию выигрышная. То есть, когда мат, когда победа, когда не победа. А предыдущие ходы он знает? Ну, историю игры. Предположительно, да. Если он сам играет с самого начала. Но можно и без этого. Это не принципиально. Интересно. Это рассказывается на том курсе. Я ссылку дам. Про этот целый курс на Круссере. Очень интересно. Продолжай, Александр, я тебе передам. Да, я просто хотел сказать, как это делается. Это достаточно просто. Из текущей позиции делается последний случайных ходов до окончания игры каким-либо результатом. Победа или проигрыша. И много раз. Если побед в среднем больше, чем проигрыша, значит, это хорошая позиция. Если наоборот, значит, плохая. Да, но только заметь у тебя. Может быть, игра такая, что конец очень глубоко. Ну, вот тут проблема. Если игра бустим вообще до конца, то это неприменимо. Тут есть, конечно, ограничения для этого способа. Что еще? Можно добавить всегда оценочные функции, которые могут помогать. Но это уже не универсальный алгоритм. Потому что оценочную функцию нужно, чтобы кто-то ее придумал. Или конкретные игры. Предполагается, что универсальный алгоритм не знает никаких оценочных функций. Это другое, наверное. Что еще неприменимо? Что еще неприменимо? Александр, ты говоришь загадками. Какой язык редко применим? Почему редко применимо? Все говорят про следующую тему. Это про язык NIM. И про то, что Mining выпускает новую книгу NIM in action. Почему вы говорите неприменимо? Это же известнейший язык. Его везде применяют. При нем уже книгу выпускают. Сколько там? Две с половиной главы, да, написали? Не, ну, сколько написали, без разницы. Это же ранний доступ к книге. То есть, если покупаешь... Вы так не покупали книги на Майнинге? Я покупал парочку. Я тоже. То есть, вы покупаете книжку, в ней написана только первая глава, которую можно прочитать бесплатно, вторая глава частично, может быть, третья глава частично, а пока больше ничего нет. По мере написания глав вам присылают их, вы можете говорить, вот здесь опечатка, и так далее, вам будут говорить спасибо. И все такое. Но в целом книжка про NIM, мы же NIM уже обсуждали, нам не стоит про него рассказывать. Говорят, что, авторы говорят, что они расскажут про... В целом про язык NIM, расскажут про то, как его применять для общих приложений, а также для веб-приложений, для Embedded, для программ, которые через интернет коммуницируют друг с другом. Будет много всяких примеров, показываются, как отлаживать, как документировать, пакетировать, и так далее. В качестве примеров они собираются писать чат-сервер, клон Твиттера, и другие настоящие примеры. Александр, что ты думаешь про NIM? Ты про него вообще знаешь, не знаешь? Нет, к сожалению, про NIM я ничего не слышал, надо будет почитать, познакомиться. Извини, я забыл, Java для всего, точно. Ну давай я вкратце расскажу, и может кто-то из слушателей не помнит. NIM он компилируется в C, в C++, Objective-C и в JavaScript. Он, говорят, что он general purpose, он может быть multi, то есть он и OOP может говорить, и в функциональности, или по-всякому. И в чем считают, как авторы считают, что это плюс в том, что вы когда компилируете его, скажем, в C, вы получаете очень высокопроизводительный код, а сверху вы можете использовать любой доступный вам компилятор. Вот так вот круто и здорово. Нет, но эта часть, конечно, make sense, меня другое смущает, я очень надеюсь, что они к релизу что-нибудь сделают с этой возможностью, то что у тебя процедура в верхнем регистре с подчеркиванием и в нижнем регистре без подчеркивания, это одно и то же. Вот это я не понимаю. Ну вот ерунду придумали, честно. В тебя вписано следующее, Александр, что любые регистры и любые цифры игнорируются во всех именах, во всех названиях функций и так далее. Полностью игнорируются. То есть я надеюсь, что они либо от этого откажутся, скажут, что окей, мы case sensitive, мы не забиваем на подчеркивание и так далее. Либо они сделают какой-нибудь NIMFMT, который любой код приводит к одному правильному виду. Это не баг, это фичи. Последнее, кстати, будет в любом случае нужно. Так что почему бы нет. С самого начала. Но если вам вдруг не хватает NIMA и книг по нему для счастья, то вот следующая тема для вас. Тут с реддита прилетела ссылка на статью. В общем, некий товарищ, зовут его Sam Brown, фоточка у него в Твиттере очень забавная, решил начать карьеру в области ИБ, информационной безопасности. И он пишет в блоге с очень забавным названием White Hatters, наверное, это так правильно произносить. То есть белошляпники White Hatters Dot Academy. В этом блоге он пишет серию статей о том, как ковырять ядро в Windows. Самый злой в этом контексте ядро. Какое ядро бывает? Ядро Linux, ядро FreeBSD? Нет, постойте. Да, ядро Windows, как ни странно. То есть в первой части поднимаются две виртуальные машины, между ними в виртуалбоксе настраивается компорт, и ты с одной виртуалки цепляешься к другой и отлаживаешь. И есть еще две части, но я прочитал только первую. По-моему, это интересный материал, так что если вы хотите ковырять кишки Windows, то ознакомьтесь. Кстати, Александр, вы под Windows пишете? Он сидит под Windows. Мы сидим под Windows и... Вообще, я под все пишу. Мне просто интересно, какое у вас основное... То есть у вас вы под Windows в основном работаете? Нет, обычно продукты все под Linux работают. Подожди, это же банки. Они же все на Windows, нет? Нет, это совсем нельзя. Нет, обычно серваки Linux. Ну ладно. Я вас трудил так немножко. Не, ну ты, Вань, был почти прав, просто это особенный Linux, наверняка там Suse Enterprise или Red Hat, что-нибудь такое, да? Ну там обычно есть специальные люди, которые этим занимаются. Я в подробности какой Linux, не вникаю обычно. На продакшен развернут. А, ну, в смысле вам не говорят? Ну, обычно да, это банковские закрытые. Мы же не банк, мы только сторонняя организация, работающая с банком. И конкретные специализации, что там у них развернуто, как настроено, нам не всегда рассказывают. Я думаю, скорее всего, Red Hat. Ну поэтому и Java, что вы пишете, у себя работает оно везде. Ну да, наверное, так. Так, ну, а... раз уж мы заговорили про Windows, Linux, Red Hat, давай, Свет, про конференции расскажи, что ли. Очень неплотный переход, да? Очень неплотный переход. Я сделал все, что мог, простите. Хорошо. А у нас есть тема, рассказать про конференции. И на этот раз будет две конференции. Одна из них про скалу, которая состоится в Украине, в Киеве. И там будет довольно такой интересный подбор докладчиков, прям красота. Так что приходите. Вот, но надо отметить, что конференция платная. Вот, на текущий момент билет стоит около 90 долларов. Но, судя по докладчикам, должно быть здорово. Так что приходите. И вторая конференция, это конференция по C++. Она будет в Минске. И уже совсем скоро, 13 февраля. Конференция бесплатная. Так что, но количество мест ограничено. И они прям, места расходятся, как горячие пирожки. Так что спешите зарегистрироваться. Ссылки будут у нас в шоу-нотах. Приходите. Александр, что ты скажешь нам про скалу? Ну, про скалу? Мы на самом деле пытались применить скалу в одном из своих проектов. Расскажи, интересно послушать. Ну, проблема возникла скорее в том, что нужно переучиваться программистам на скалу. Они очень интуитивно понятны для Ява-программиста. И хотя вроде хороший язык, строгая типизация. Я вообще люблю строгую типизацию, не люблю языки с динамической типизацией. Но как-то у нас не сложилось с ней. Не потому, что он чем-то там не подходил, а скорее просто не захотели программисты его осваивать. Разбираться в нем глубоко. То есть, когда есть возможность писать на Яве и на скале, то писать на Яве. Потому что я его знаю, я его умею. И на скалу вроде как надо осваивать и разбираться. Расскажи, от кого инициатива исходила по поводу перехода на скалу? Ну, от начальника, архитектора. Они хотели попробовать, им было интересно. Собственно. По крайней мере, так воспринималось. То есть, если бы, например, команда захотела перейти, может быть, и получилось. Просто, знаешь, решения, навязанные сверху, обычно, скажем, сталкиваются с трудностями определенными. Ну, думаю, да. Во многом в этом тоже была причина. Хотя, должен признаться, мне и самому лень было переходить на скалу. Проще было писать на Яве. Хотя я пытался, честно, но удовольствия большого от этого не испытывал. А сколько времени вы пытались адаптировать скалу у вас? Ну, наверное, несколько месяцев. Где-то так. То есть, мы какие-то части функционала писали на скале. Собственно, мы... Почему мы со скалой связались? Потому что мы тогда использовали фреймворк Plane. Фреймворк под Яву веб-приложение. И он тогда еще был ориентирован в основном на скалу. Под Яву у него там было мало сделано. Потом он вроде и поддержку Явы везде добавил. Но в тот момент он не все поддерживал на Яве, часть функционала просто вынуждена была писать на скале. А фреймворк сам у нас тогда казался нам интересным. Вы в итоге все еще его используете на Java? Нет, мы от него отказались. О, а на чем сейчас модно писать веб на Java? Ну, так, чтобы там держать 10 тысяч коннектов и вот это все? Ну, у нас таких задач нету, где нужно 10 тысяч коннектов держать. Как и говорил, это в банке. Банка редко это требуется. В банках большие объемы данных, а интерфейсы требования очень невысокие обычно. Я же не знаю, может, это панелька к интернет-банку, например? Нет, к интернет-банку мы не писали панелек. Это бэкэнд в банке, скажем так. Все, что мы имеем дело обычно. То есть работа с кредитными историями, с анализом и такие вещи. Ну, у нас разные фреймворки пробовали. Викид, Type-3, Play, Grails даже пробовали. А вот к нам в комменты приходили слушатели и советовали Vertex. Вот про него что можно рассказать? Вот Vertex мы не пробовали. Vertex я не знаю. Не сталкивался. Кстати, насчет скалы, я думаю, нам нужно кого-нибудь из Синькова позвать. У них очень много вакансий, связанных со скалой. Я вот думаю, у них много скалы. Да, интересно. Ну, вот если нас кто-нибудь слушает из Синькова, так что приходите. Будем рады. Вот, а что касается адаптации скалы, то знаешь, у меня тоже первое время, знаешь, был такой большой энтузиазм. Потом этот энтузиазм пропал в никуда. И только, наверное, через полгода я прям ощутила всю мощь и поняла... Вот момент перехода был следующий. Когда... Знаешь, по привычке, когда создаешь новую переменную, ты пишешь тип и пишешь имя переменной. А когда тебе переключилось что-то в голове, и когда ты начинаешь новую переменную, свал и дальше название, вот в тот момент я поняла, что переход на скалу осуществился. Вот. Вот когда эта привычка уже вошла в руки. Это было, наверное, через только полгода. Мы, видимо, не дошли до этого этапа. У нас... Так никто и не проникся этим языком. Еще один язык, которым никто пока не проникся, но скоро проникнется, это Go. Как игра. Ну, зачем же ты так? Наш бывший гость, если я правильно помню, и известный гофер Иван Данилюк в своем блоге на GitHub.io опубликовал пост про то, как визуализировать конкарнси в Go. И картинки там просто шикарные. Это не картинки. Вы не заходили, не смотрели интерактивно эту штуку? Там же можно заходить и мышкой хернить. Да. В самом посте это картинки, я так понял. Там и видео, и все такое. Там гифки, мне кажется, нет? Это гифки. В посте гифки. Офигенные. Но я для слушателей, тем не менее, поясню. Вы на картинке в любом случае посмотрите, потому что они реально офигенные. Это на WebGL есть, например, поток main. У вас рисуется такая прямая с подписью main. Она течет-течет, потом она создает гурутину. От нее идет такая синенькая стрелочка. Появляется новая прямая с подписью, что это какой-то новый поток. Как это правильно называется? Гурутина, короче. Когда они обмениваются сообщениями, у вас рисуется красная стрелочка. И вот так вот сверху вниз создаются новые гурутины, умирают, между ними сообщенки ходят. Все это можно вертеть. И вообще выглядит очень здорово. Я не уверен, насколько это реально помогает при отладке. И насколько это правдоподобно. То есть действительно ли картинки отражают факт того, как сообщение ходит? Нет, они отражают, потому что там в самом-самом конце за картинками написано, как оно работает. А работает оно следующим образом. У тебя парсится AST.GO. В него впихивается отладочный вывод, который выводит тебе JSON. Ну, JSON просто как формат с реализацией со всей информацией, что запустилась гурутина, было послано сообщение и так далее. Потом этот вывод, когда твоя программа работает, этот вывод парсится и из него рисуется на библиотеке 3JS. Наверное так произносится. D3, наверное? Нет. T-H-R-E-E.JS Не знаю таких. Но выглядит шикарно. Просто я залипла на эти картинки. Я хотел бы такого для чего угодно. Для скалы с акторами, для эрланга. Для эрланга такое надо закрутить. Ну тут пачка тем про ГО, поэтому давайте я их все озвучу. Есть в Твиттере товарищ по имени Brain Hetfield, который при каждом релизе, в следующем релизе ГО, постит картинки. У него есть такой дашборд, и там графики с временем сколько миллисекунд занимает полная остановка мира на сборку мусора в ГО. И вот он постил при выходе 1.5 такую картинку, когда у него там было 100 миллисекунд, 100 миллисекунд, 100 миллисекунд, потом там распадает на уровень 30-40. Там было 300. 300 и падает до 40. Пардон, да. 300 и падает до 40. И все очень радовались этой картинке. А сейчас он обновился до ГО 1.6, релиз Кандидат 1, и у него вот эти там 30-40 миллисекунд упали до, я не знаю, наверное, это 2 миллисекунды. То есть, вы представляете, у вас на ГО время сборки мусора, то есть полной остановки, не превышает 2 миллисекунд. Вот Валера, к сожалению, отсутствует, он меня бы поправил, но мне кажется, что в принципе можно уже писать игры 3-А класса на ГО. Потому что у тебя на один кадр 16.6 миллисекунд. Ну, я думаю, в большинстве игр нет большой разницы там, 16 миллисекунд или 14. А вот для трейдинга на самом деле это огромная разница. Согласен. Насчет трейдинга. Я лично очень рад. По-моему, 2 миллисекунды, это почти во всех приложениях, где в принципе можно прийти в голову и использовать ГО, это прям... А при каких объемах памяти эти 2 миллисекунды? Можно узнать? Здесь, к сожалению, это не уточняется. Судя по количеству бэкэндов, которые у чувака крутятся, то есть я так на глазок не знаю, вижу десятки, то, наверное, там довольно все нагружено. Вот. Следующая тема, она прилетела из рассылки ГО-Викли. Я не уверен, как это правильно называть. Блок, рассылка, но есть такая штука ГО-Викли. То есть сама по себе штука не новая, но всплыва только вот сейчас. Это плагин для Sublime Text, альтернативный плагин с поддержкой ГО, который где-то в последний месяц был написан. Интересно в нем скорее не то, что это очередной ГО-плагин, а то, что он довольно небольшой по объему. Тут реально не знаю, суммарно строк 200, наверное. Можно посмотреть, как писать плагины для Sublime. Тут все довольно просто и понятно. Не знаю, я прям... Если буду делать собственный язык, наконец-то, то знаю, что для Sublime можно легко запилить подсветку. И тут, кстати, не только подсветка, тут еще документация и все остальное. Поэтому вот, как такой... Даже какой-то парсинг и это. Как обучающий пример, я вот всячески рекомендую. Очень-очень здорово, да. Попробуйте сделать то же самое для WEMA. Да что ты, для WEMA это сделать гораздо проще и быстрее. Так... Продолжай. Нет-нет-нет. Я хочу, чтобы слушатели продолжили. Опять твое. Да что вы, сговорились. Окей. Я хотел поведать небольшую историю, которая со мной недавно приключилась. Забавно. У меня была такая задача, что нужно протестировать табличку с большим количеством записей, с определенными запросами. При условиях, что эта табличка целиком не помещается в память. Проблема была в том, что у меня на ноутбуке 16 гигов памяти. И даже если вы создали, например, LXC контейнер, у вас он не гарантирует, при ограничении памяти, что вся ваша табличка не лежит в кэш файловой системы. А сложность еще заключалась в том, что в табличке, в строчечках обязательно должен быть JSON-B. А который, поскольку это JSON, его нужно еще пропарсить. Когда ты его добавляешь, его надо пропарсить. А потом, когда ты его сохранишь на диск, его еще надо зажать. В Postgres оно еще все и сжимается. Прямо по словарным методам. Есть определенный эвристик, когда сжимать, когда не сжимать. Чтобы нагенерить достаточное количество строк, мне нужно было 30 миллионов. Для того, чтобы оно в два раза превосходило количество памяти, при условии, что каждую строчку нужно очень сильно пропарсить и потом сжать, оно занимало довольно много времени. Несколько дней мне нужно было бы генерить эти данные. И тут я нашел замечательный юзкейс для Raspberry Pi. Я принес ее из дома, подключил в Switch. Там памяти всего, не помню, меньше гигабайта, на самом деле. Потому что там часть сжарилась в операционной системе. Потому что производители, как обычно, округлили там все, что 1024 до 1000. И в результате я решил задачу минут за 15. Все протестил. Такой вот интересный юзкейс. Что интересно, взять какой-нибудь сервер в DigitalOcean тоже нельзя. Потому что ты не можешь гарантировать, что на хост-системе твои данные не легли в кэш-файловые системы. Такие дела. Интересно. Заодно в тему я тут, наверное, подниму одну из тем, которые я читал про один из постов на Medium. Рассказ разработчика, как они медлировали полмиллиарда записей в базе с даунтайма. И в целом это универсальное решение. Мы его применяли. Подобное решение применяли несколько раз. Но оно может показаться новым, если не думать в таком ключе. Представьте, что у вас есть база данных, в которой очень-очень-очень много данных. И представьте, что вы решили перейти на новый формат, переформатировать таблицу, сделать что угодно с базой такой, что вроде как данные будут те же самыми, но вам надо их переделывать какое-то время с даунтаймом, гарантированно с даунтаймом. Как вы это должны сделать? Причем сделать желательно побыстрее, получше. И вот они пришли к выводу, что надо сделать это так, что поднять вторую базу данных рядом, перетащить в нее данные в несколько итераций, начать записывать лог, в этот момент текущий снапшот перетащить в новую базу с новым форматом. Потом, пока перетаскиваем этот лог данных, мы записываем новый лог, и так делаем до тех пор, пока мы не синхронизируем их в дальнейшем. Мы начинаем синхронизировать эти данные на лету. И одновременно при любых запросах к базе мы делаем какой-то дополнительный скрит-обертки и ходим в обе базы, вместо того, чтобы ходить в одну базу. И сравниваем полученные результаты, если они не отличаются, то все ок, если они отличаются, то мы начинаем выдавать, что вот для такого-то запроса мы смотрели, то-то нашли в какой-то дебаг-мод, чтобы в дальнейшем проанализировать, найти эти ошибки. То есть, как бы у них там, говорят, было несколько ошибок, связанных с сортировкой, с неправильным форматированием и так далее. Но в конце концов, когда они решили все эти проблемы, получилось, что две базы отвечают одни на тот же запрос, и там просто переключателем в коде переключили все на новую базу, и старую выключили, и все. Мне это что-то напоминает, связанное с GitHub, мы, похоже, обсуждали, разве нет? Возможно. То есть, как бы я не скажу, что это вот прям совершенно новая идея, нет. Это давно известный факт, но если кто с таким не сталкивался, это может не прийти сразу в голову, поэтому интересно почитать, там в деталях рассказывается, но так вот. Пошли дальше? Что еще может не сразу прийти в голову? Что еще может не сразу прийти в голову? Это про парс? Да. Отличный вот переход, мне понравился. Что не может прийти в голову, что внезапно закрывается парс? А можно вкратце, что это такое? Я только, извини, я должен отметить, мы уже перешли к тему слушателей, если что. Ну, это можем и добавить в наши темы. Скажем, темы слушателей повторили нашу тему. Что это такое? Мы как раз немножко упомянули об этом в прошлом выпуске, но идея такая, это бэкэнд как сервис. То есть ты, например, Ваня, пишешь какое-то приложение мобильное либо синглпейдж аппликейшн, и тебе нужен такой, знаешь, быстрый бэкэнд, спуш-нотификейшн, скажем, вот чтобы все оно было, чтобы просто работало. А ты потом, когда у тебя есть приложение, твой плетит, потом подумаешь, ну, я могу, например, на свое что-то доделать как-то, но тебе хочется, чтобы был какой-то бэкэнд, какой-то база с базовыми вещами. И вот появилась такая штука, как Parse, которая дает тебе такую возможность. И я очень много хороших отзывов слышала именно об этом продукте. Много мобильных разработчиков радовались и использовали это всяческим образом. Но пришло время закрыть этот продукт, и сегодня я увидела статью о том, что Parse закрывается, и закрывается накончательно через год. Соответственно, этот год до конца января 2017 года будут проводиться всяческие мероприятия по миграции данных, для помощи юзеру, для того, чтобы юзерам было легче перейти на свой бэкэнд. Вот такая новость. И при этом причины как таковые не были описаны. И причины были, что нам нужно фокусироваться на чем-то другом, на чем конкретно никто не написал. Идея же странная. Ты начинаешь свой бизнес, но не хочешь писать бэкэнд. Ты берешь и используешь Parse. Потом тебе начинает переть, и ты, когда у тебя пруха пошла, понимаешь, ты берешь и валишь с него, потому что тебе прототип, и уже не нужен. Либо ты сильно завязываешься и как-то пытаешься из Parse что-то еще больше вытянуть. По-разному, есть разные предложения. Если что-то стандартное, может быть, и подходило тебе то, что дает Parse. Для миграции они что-то предлагают готовое? Да, они предлагают тул, который позволяет смигрировать базу данных. И дают документацию, как это делать. И на что мигрирует? По-моему, на Монку. Мне очень понравилось в комментариях, советует Славя из нашего предыдущего выпуска, как можно быстрее написать такой же мигратор для Research. Да, кстати, у них прям, ну, они же вот идеально подходят к нашу, случай пришел, что Parse закрывается, у них, похоже, есть функциональность, и прям хорошо, они могут раскрутиться и на этом. Но зато подумай, сейчас же есть, по сути, открытая ниша, что можно чего-нибудь похожего на Parse сделать с таким же API и сказать, вот, пользуйтесь. Вот вам еще идея для стартапа. Ну, при условии, что они прогорели, не знаю, насколько это хорошая идея. А ты же не знаешь, прогорели они или нет, то есть они же не пишут, какие причины. Самое время выяснить. Ну да. Но, скажем, новость грустная, но с другой стороны, они дают год на миграцию, это по-божески. Ты знаешь, вот я как-то не грущу, я про Parse узнал, не знаю, вчера из комментариев. Я очень много слышала. Просто для меня как-то Parse последний год сильно так светился. Вот лично я с мобильной разработкой просто не сталкиваюсь, поэтому я думаю, и не слышал. Я сталкивался, и то не слышал. Ну, в смысле, я очень много общался, ну, там была такая ситуация, что один бэкэнд и там три команды мобильных разработчиков, и вот их очень много я с ними общался. И никогда не слышал про Parse. Это скорее, знаешь, такая стартаперская тусовка, которая, там, нужно что-нибудь быстренько скрипать, и вот этот вариант работал. Я думаю, там, сфера общения разная. А вот какой вариант не работает, так это разработка в больших компаниях сложных ААА-игр. Вот, я хотела этот как раз похожий переход сделать. Тоже статья, которая невероятно крутая, она у нас пришла из комментариев, и статья просто такое замечательное чтение для пятницы. Во-первых, она написана шикарным языком, очень так хорошо читается и заходит. Про то, как, почему нужно уйти из идеальной работы в геймдеве, из игр 3А класса, в частности из Юбисофта. Вот и почему уйти. Собственно, идея какая, что человек, который проработал в геймдеве долго, который добился позиции архитектора в Assassin's Creed, по-моему, игре, и у человека было все хорошо. Он и работал над разными проектами, и у него было прекрасно, но человек почему-то решил уволиться из замечательной компании, бросить работу мечты, и уйти в свой стартап, по сути, заниматься инди-играми. При этом в момент перехода к нему никто не подошел, не спросил, почему ты уходишь, как он выразился. Да, в последний день никто не сказал, почему. Все понимали. Скажем, в статье описывается завязка, как все происходило, как все начиналось, как человек дошел до жизни такой, и в какой-то момент было, скажем, два переломных момента. Первый переломный момент касался того, что внутри компании зачастую такое, кстати, бывает, именно в больших компаниях, когда дают возможность, скажем, если какая-то идея неплохо заходит, давайте мы попробуем ее реализовать, и вот вам команда из нескольких человек, попробуйте что-то сделать быстренько, и дальше мы посмотрим, возможно ли из этого сделать продукт уже для большой компании. После этого он поучаствовал в двух таких проектах, и попробовал себя не только в качестве разработчика, он в частности был разработчиком во всяких там low-level вещах, и ему очень понравилось. Он попробовал себя, скажем, в роли разработчика продукта, а не просто каких-то небольших фич, и вот тот момент, он просто заразился этой идеей, и обратно возвращаться в проект, где вы будете просто пилить какие-то маленькие фичи, не чувствовать такой глобальной ответственности за весь продукт, ему стало скучно. Можно я добавлю тут маленькую деталь, там очень веселое пояснение, он говорил, что когда вы становитесь архитектором, или вы растете в должности, у вас увеличивается влияние, но одновременно уменьшается ваше вовлечение в продукт. К примеру, ну вы можете иногда что-то сделать и говорить потом, вот смотрите, видите лампочка на дороге стоит, это я сделал. Или вы можете пойти еще дальше и только управлять подобными намерениями, и тогда вы будете говорить, смотрите, видите дорога с лампочками, это я одобрил. Подписал, да, я подписал, запробил эту дорожку. А по-настоящему вы ничего не делаете, вы фактически никак в продукте, вы никто в продукте. Позвольте спросить, то есть я правильно резюмирую услышанное, что он сделал свою компанию, чтобы заниматься именно разработкой, он не хочет быть манагером, да? Он хочет продукт делать, в общем дело, ему нравится не только, знаешь, просто кодить какую-то маленькую функциональность, а делать что-то большее, скажем, чувствовать ответственность, и вот это его драйвит. И вот это тоже момент, что не просто быть разработчиком, который концентрируется на каких-то маленьких оптимизациях, он в этом специалист, у него есть куда больше ответственности. И это, скажем, особенности большой компании, и всегда, когда происходит рост компании, это будет заметно, что появляются всякие бюрократические проволочки, процессы, нюансы. На самом деле он очень четко описал, что ему не понравилось. Александр, это от тебя звук идет? Ты не мог бы замьютиться? Он очень четко описал, что происходит, в смысле основные минусы работы в Юбисофте. Он говорит, что это не именно Юбисофт, это проблема больших компаний и больших игр с разработкой, с большим количеством человек. Во-первых, появляется специализация. Чем больше человек, тем более специализирован каждый специалист. Получается, есть своя область, и в этой своей области ты только варишься целыми днями, и она тебе кажется самой важной, появляется такой байас, что ты... То есть такой зашоренный взгляд. Да, и очень тяжело принимать решения в таких условиях, когда вокруг тебя 20 человек, которые имеют такой байас, и ты не можешь никак скоординироваться. Следующее, это очень тяжело коммуницировать. Он говорит, что вообще невозможно коммуницировать, невозможно принять решения, когда на собраниях по 20 человек, а на всех собраниях всегда по 20 человек, и мало у кого есть в итоге мотивация. То есть, мотивация есть у джуниоров, которые только-только пришли, или у людей, которые первый раз делают большой проект, а у тех, кто хоть раз окунулся в небольшие проекты, или которые там третий большой сложный проект, уже никакой мотивации, просто работа. Ни глаза ни у кого не горят, и ничего не шевелится сильно. Я понял проблему, которую вы описали, но я не уверен, что автор статьи удачное решение нашел. То есть, его вот все, что вы назвали, напрягало, и он решил сделать свой бизнес. Я ничего не путаю? Нет. Скажем, это бизнес. Индий ГАЙ – это не бизнес. Это бизнес, но скажем, это больше проект для души, который очень нравится, и заодно тебе еще приносят деньги. Это вот скорее больше про Инди. Ну, хорошо, ладно. Мне просто кажется, что можно было попытаться, по крайней мере, решить эту проблему как-то проще. Кстати, об этом не пишешь? Нет. Я имею в виду, что стать каким-то таким универсальным специалистом в компании, который там месяц поработал над одним, месяц над другим, бегает и всем занимается. Он дал два дней, так что... Ты же понимаешь, что в больших компаниях обычно все, что касается процессов, это очень сложный, небыстрый процесс. Ты там за месяц можешь инициировать только несколько митингов, которые дают возможность договориться о чем-то. Возможно. И понимаешь, что видя, попробовав работать на чем-то маленьком, где ты все решаешь, ты быстро это решаешь. И там есть еще 2-3 человека, таких же разработчиков, как и ты, вы коммуницируете только по самым нужным вещам, вы не пишете это тысячами имейлов, вы... Подошел к человеку, по плечу ему хлопнул, и вы решили за 5 минут. Сравни это с митингами на 20 человек. И понимая это, вот и сравнивай. Ну, это не так просто в большой компании, знаешь, внедрить вот такой процесс. Ну и есть, скажем, обычно в больших компаниях начинают нарастать, ну опять же, в ростом, начинают нарастать всякие процессуальные штуки. То есть, давайте будем вести наши там фичи по такому-то, не знаю, потоку. То есть, мы эту фичу сначала придумали, потом ее перевели в другое состояние, потом другой статус. Кстати, вопрос Александру. Извини, что я тебя прервал. Просто Александр молчит, а мне его хочется очень втащить в обсуждение. У вас ваши предметы, ну нет, непредметы в вашей сфере. Вы сталкиваетесь с такими проблемами или как? С какими, я не очень понял, проблемами? Проблемы коммуникации, когда на митинге 20 человек, когда у вас там все через джиру, все через почту, когда ни о чем, ни с кем невозможно договориться, потому что это очень такой процесс и так далее. На самом деле, у нас компания не очень большая, там такого количества человек просто нет. У нас команда, допустим, это 10, 11, 12 человек примерно такого объема. И таких проблем нет, у нас не бывает. Тогда удобно. Извини, Свет. Да, что касается маленькой компании, даже если она взаимодействует с банком, то обычно в эти точки взаимодействия они там 1-2 человека. Я все же должен вставить слово, да. В больших компаниях все-таки можно коммуницировать успешно, если ты делаешь небольшие команды, то есть вот те самые там человек 10-12 и один человек из нее взаимодействует с кем-то снаружи. Смотри, это хорошо работает, если у тебя в большой компании четко разделены проекты, они не связаны. Если у тебя проекты связаны между собой, тебе приходится какую-то функциональность протащить через N проектов, то это превращается в такой ад, который вообще не описать. И твоя эта структура, когда маленькая команда делает какую-то маленькую фичу, просто разлетается в пух и прах. Тут, понимаешь, проблема скорее в особенностях, как там, скажем, архитектурных именно большой компании. Так что это очень много нюансов. Обычно всегда с ростом компании начинаются такие моменты бюрократии. Ваня, у вас сейчас большая компания? У нас компания не очень большая, но бюрократии больше, чем хочется. Ваня, а ты как-то борешься с этим? Как ты чувствуешь этот негатив, который у тебя появляется на этой бюрократии? Да, я же говорю, что мне не очень нравится. Бороться с этим очень тяжело, потому что тут от тебя вообще ничего не зависит. Единственное решение, которое я пока сейчас вижу, это максимально разделять и властвовать. То есть проект отделять и минимальная коммуникация по заранее создавленным интерфейсам. Если все будет решаться на звонках, давайте соберемся через два звонка, определим, что мы будем решать на третьем звонке, то тогда это вообще бесполезно. Если все в тикетах, и этот тикет такого-то типа должен решиться хотя бы за неделю, то это еще более-менее. А если ты знаешь отдельного человека, к которому позвонил, сказал, давай завтра вы это сделаете, он скажет, ну мы попробуем, то вообще нормально. Ну, согласись, что это сильно демотивирует, на самом деле. Такие моменты. Особенно, когда видишь, что это можно решить, и возможно, это не самое оптимальное решение было бы, но оно уже было бы готовым, оно бы ушло в продакшен, оно бы работало и радовало пользователей. А вы засели на том, что боретесь с Jira, либо боретесь с другой подсистемой, другой командой. Это очень демотивирует. Мы делаем свое, и это оно очень самое главное. Мы постараемся, конечно, вам помочь, но на что важнее. Я предлагаю уйти от этого негатива, давайте уже к темам слушать. Я хотел бы отметить, что там тем-то не так много осталось. Мы же их все обсудили. Да, мы обсудили основные две. Следующая тема это несколько вещей, которые стоит помнить программисту в возрасте.",
    "result": {
      "error": "API request failed: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 18115. Please try again in 36.23s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}",
      "stack_trace": "Traceback (most recent call last):\n  File \"/home/andrei/Projects/podcast-shownotes/scripts/build_search_eval_dataset.py\", line 157, in generate_search_query\n    response = await self.client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py\", line 1927, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1767, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1461, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1547, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1594, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/andrei/Projects/podcast-shownotes/envs/lib/python3.12/site-packages/openai/_base_client.py\", line 1562, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'Rate limit reached for gpt-4.1 in organization org-xSG9D345gtYlIKC330wCyrEG on tokens per min (TPM): Limit 30000, Used 30000, Requested 18115. Please try again in 36.23s. Visit https://platform.openai.com/account/rate-limits to learn more.', 'type': 'tokens', 'param': None, 'code': 'rate_limit_exceeded'}}\n"
    }
  }
]