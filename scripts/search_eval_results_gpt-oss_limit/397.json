[
  {
    "segment_id": "be21008b-ded3-47c9-9a4b-537d019f0e54",
    "episode_id": "a84115d2-2d8e-4231-9d14-8aaffa0edf3d",
    "episode_number": 397,
    "segment_number": 6,
    "text": "Вторая фишка, что если у тебя вот эта первая сессия, она офигачила, и я открываю вторую сессию и подписываюсь на топик, а потом в первой сессии транзакция коммитится, то я получу все нотификации, а не только какую-то их часть. А у них фишка, что одинаковые нотификации схлопываются, это на самом деле часто бывает проблем. Ну смотри, проблем или не проблем, это особенность системы, то есть перед тем, как её использовать, нужно разобраться, как она действительно работает. Если у тебя одинаковые тексты и нотификации, они схлопываются. Ещё у них есть ограничения на размер нотификации, это тоже надо учитывать. Если нужно слать большие куски данных, нужно заводить временную табличку, а в нотификацию есть какие-то праймерики из этой таблички. То есть я всё ввёл к тому, что если вы хотите следить за этими топиками по веб-сокетам, то нужно смотреть, не теряете ли вы какие-то из названных ваших гарантий, если теряете, то имеет ли это большое значение в вашем приложении или нет. По большому счёту, это всё. А никого не смутило полное отсутствие упоминаний всякой аутентификации, авторизации в этой балалайке? Потому что веб-сокет — это то, что ты отдаёшь прямо наружу в интернет кому попало, и они могут подписываться на всё, что угодно в твоей базе данных. Это стрёмно. Нет, не обязательно. Многие используют веб-сокеты просто как протокол интерфейсом между микросервисами. Но это как сказать, что HTTP всегда торчит наружу. Ну, может быть. Мне показалось, что они именно в таком ключе, что вы пишете какой-то фронтенд, и можно прям взять и открыть веб-сокет, и он будет приезжать реал-таймсово в фронтенд. Потому что если у тебя есть между этим какой-то бэкэнд, почему бы просто не подключиться напрямую к пасгрессу и не получать эти нотификации по-человечески? Потому что пасгресс плохо держит большое количество коннектов, и именно поэтому к нему пишут пуллера типа одиссея и бэкэбаунсера. А если у тебя вот это стороннее приложение Канаго, ты можешь к нему открыть тысячу-десять тысяч коннектов, и ей будет нормально. Ну, возможно, ты прав. Я все равно уверен, что люди ее выставят в интернет и утекут данные. Нет, люди по-любому что-то высовывают в интернет. Они и сам подросток в интернет высовывают. Люди всегда что-то высовывают в интернет. Такова их природа. Я думаю, что здесь аутентификация не обязательно поможет. Мне просто кажется, что с одной стороны это опенсорс, который, по сути, никому ничего не должен, а с другой стороны, если ты выкладываешь что-то такое, постарайся сделать так, чтобы было сложнее отстрелить ногу твоим проектам.",
    "result": {
      "query": "потоковые уведомления веб‑socket Postgres схлопывание"
    }
  }
]