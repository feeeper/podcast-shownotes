[
  {
    "segment_id": "b19421aa-43f9-4a0f-ae29-b7d2885eef38",
    "episode_id": "4ee71028-bb7a-47fa-9822-1563cb0207ed",
    "episode_number": 147,
    "segment_number": 3,
    "text": "По-моему, появились уже записи? Появились? Нет, не знаете? То есть, там часть появилась, я просто не знаю, вот эта вот данная лекция появилась или нет. Было достаточно интересно, но это было интересно с точки зрения больше менеджмента, управления, как вы с какими проблемами сталкивались и как их решали, не с точки зрения технической. Скажем так, я не видел еще появилась ли запись или нет, это именно был рассказ про организацию. И даже, на самом деле, был не только про Эльбрус, а про вообще внедрение опенсорса, как другой культуры, в таких вот государственных, серьезных проектах, в таком серьезном, как сейчас принято говорить, кровавом интерпризе. На самом деле, про эту историю можно и нужно послушать в таком более техническом аспекте. Во-первых, был рассказ в Москве на конференции ПГКонфру, там была масса технических подробностей, что там было и как. Во-вторых, в Санкт-Петербурге будет буквально меньше, чем через месяц ПГД, с 5 по 7 июля, и там от ребят из Восхода будет детальный рассказ, как происходила миграция, и там будет мясо техническое такое. То есть это можно там будет посмотреть, услышать. А можешь какой-нибудь такой яркий тизер дать, самого технического, самого интересного, чтобы в том числе привлечь дополнительных слушателей и гостей конференции? Ну, тут как бы сложно, так сказать, в рамках одного подкаста рассказать все мясо, которое там было, потому что его было довольно много. В том смысле, что вот СОД, то есть та вещь, которая сейчас занимается, через которую проходит там все оформление загранпаспортов, там вот ребята из Восхода, Игорь Чижевский в частности, рассказывали там с кучей деталей, и будет об этом речь. А Восход это что такое? Восход это такое специальное учреждение при Минсвязи России, которое занимается различными проектами для разных государственных учреждений. Вот одна из систем, которые они делают, это так называемая система МИР, которая занимается выдачей загранпаспортов. Через нее происходит там, собственно говоря, вся работа с загранпаспортами. И мы сопровождали эту систему, а ребята как раз ее разрабатывали, точнее там частично разрабатывали, частично мигрили со старой версией, с проприетарным софтом. Ну просто чтобы понимать, да, это вот есть Россия, есть загранпаспорта, это как бы серьезная задача. Центральная часть СОД работала на мейнфреймах, на IBM-овском софте, на DB2 от Zetos. Они с нашей помощью перенесли это не просто на open-source, Postgres, Java, вот эти вот все вещи, а еще и перенесли это на Эльбрусы. То есть это огромный объем работы, я думаю, что тут дальше даже в подробности заглубляться нет смысла, это просто уже повод прийти и послушать, потому что это беспрецедентная работа по сей день. Больше сотни эльбрусовских машин, на них работает Postgres, и это все заменяет собой мейнфрейм. То есть это первый случай очень мощного импорт-сумещения, что в общем-то на слуху, и я думаю, что это в любом случае очень интересно. А рассказывать они будут, среди прочего, как без даунтайма происходила миграция с мейнфреймом вот этой вот системы. Это очень много технических подробностей. Слушай, действительно очень здорово звучит. Тебе известны какие-то другие случаи внедрения эльбрусов в системах в России? Ну, об этом лучше спрашивать не у меня, потому что моё дело скромное, сделать так, чтобы Postgres работал. Вообще, в принципе, эльбрус, насколько я знаю, довольно успешно работает в России, Министерство обороны давно с ним работает. Сейчас многие производители софта более пользовательского, скажем так, примиряются к эльбрусу по понятным соображениям, тестируют свои сборки на нем. На Рите как раз Максим Лапшин из «Верлю видео» рассказывал, что они тестируют, смотрят, как у них этот сервер, с помощью которого они видео записывают. А у нас есть вопрос. Эрланг на эльбрусе работает, представляешь, Света? Ну, я вот про это слышала, а вот то, что и Postgres, это, конечно, это сильно, и здесь такая ответственная система по выдаче паспортов. Здорово, здорово, приятно. Слушай, Света, давай я спрошу. У нас вопрос из чата. А, давай. Поэтому хочу сейчас контексту. Алексей спрашивает, а зачем без даунтайма, если паспортные стыды работают 5 дней по 8 часов? Ну, это вопрос не ко мне, а к Васходу. Я думаю, что если его задать на пагодинер, они с радостью его озвучат. Такие требования. Паспорта нужно не только выписывать, но еще и проверять. Это ж не 8 часов. 8 часов это в отдельном регионе. Во-первых, в отдельном регионе, да, а во-вторых, еще проверка их есть. У меня был вопрос про... Ты вскользь упомянул про то, что в целом open source для интерпрайса достаточно сложно внедрять. А в данном случае еще с либерусами вместе. У тебя большой опыт именно замены каких-то больших решений на позрискейл? Достаточно большой, скажем так. Тут очень сложно мерить, потому что попугаи, в которых меряются, не определенные. У нас есть клиенты, помимо таких традиционных, казалось бы, которые давно с позриском работают, из Леба, из какого-то и так далее, хоть до Всемирного банка. Сейчас позриск внедряется в огромное количество проектов. Я на своей памяти его внедрял и в телекоме, и в промышленном таком бибисе, и в банковской сфере, где только ни. И вот теперь в таких государственных сферах. Ну, в принципе, да, наверное, это можно назвать большим опытом. И что самое сложное здесь? Я вообще не представляю себе, если у тебя есть бизнес, который работает с Microsoft, или еще с кем-нибудь, и они платят кучу бабла, и тут ты приходишь такой, и говоришь, а давайте использовать open source, потому что это ново-модно-молодежно. Ну, скажем так, тут основная проблема-то на самом деле, поскольку если что-то работает, то лучше не трогать. Основная проблема заключается в том, что клиент, которому это нужно сделать, он должен на самом деле до этого дозреть. Потому что если ходить к нему и говорить, давай внедрять open source, потому что модно, ну, как бы, получаться будет плохо. Потому что культура использования open source в разработке, она немножко другая. Ожидания от софта немножко другие. Идея о том, что мы покупаем у вендора коробку, и тем самым сдвигаем всю ответственность на этого самого вендора, она, естественно, глубоко укоренена, если есть долгая привычка к работе с проприетарным софтом. На самом деле, с моей точки зрения, лучше всего, когда клиент сам до этого дозрел, и по каким-то соображениям пришел и сказал, ребята, давайте вот делать. То есть, например, Восход был очень хорошим примером. Они изначально много что делали на open source, потому что перспективы этого были очевидны, что достаточно хорошо работает, нет стоимости лицензии, есть некая независимость от вендора. В тот момент, когда их перестало устраивать качество поддержки от IBM, мейнфреймов, очередей счения и базы данных, плюс возникли проблемы, так называемые страновые риски, плюс чисто финансовые затрутнения, потому что поддержка DB2 под затос это очень дорого, после 2014 года, когда изменились курсы, это стало очень дорого, совсем дорого. Такая помощь от государства. Ну, я бы не сказал, что там такая помощь, не помощь, но просто люди, которые делали этот проект, они уже были готовы, они попробовали open source, у них была мотивация, они понимали, зачем им это нужно, они понимали, что там свободный стэк, он свободный, но это не бесплатно, в том смысле, что за вот эту свободу надо платить каким-то немножко другим функционалам, зачастую может быть не таким вкусным, как на давно сварившихся коммерческих вещах. И они были готовы к тому, чтобы это использовать, и за счет этого это было довольно здорово, то есть подготовленный клиент практически вообще идеально в такой ситуации. Сейчас, на самом деле, таких клиентов все больше и больше, смотря по сторонам, даже банально из того, что там в открытом доступе возникает, мастер-карт мигрирует на Postgres, потому что они оценили эту идею экономии на лицензиях. Слушай, ну тогда давай спустимся к деталям. То есть я немножко сталкивался, не сильно много, но сталкивался с работой ДВЕ, и я хотел бы, как твой рабочий процесс проходит. То есть приходишь ты в контору, которая занимается сейчас, не знаю, чем-нибудь на, скажем, DB2, и ты должен их пересадить на PostgresQL. Какие твои основные действия? Вот ты пришел, оцениваешь что, смотришь куда, как понимаешь, какие у них узкие места, что им надо делать. То есть поясни вот эту работу именно не с точки зрения того, как код написать, не с точки зрения того, как эти все функции на другом языке описать, а именно с точки зрения оценки рисков, оценки понимания технических деталей, оценки, ну вот это все. Скажем так, чтобы не было иллюзий, на самом деле моя работа, к сожалению, уже давно не только и не столько DBA, то есть я вкладываю в довольно большой компанию, где работают DBA, которые гораздо круче меня, как DBA. Что я могу сказать по поводу вот именно таких вопросов, которые чуть-чуть между техникой и бизнесом. Вот одна из основных идей, когда ты приходишь к клиенту обсуждать вообще какую-то миграцию, это объяснить ему, что миграцию нельзя сделать, так сказать, вот под ключ, что клиент будет сидеть и ждать, пока мы ему всю миграцию сделаем. Во многом почему? Потому что обычно в энтерпризе база данных это не просто какая-то такая штука, которая за URAM-ом болтается и является таким key value storage. Обычно база данных – это огромный массив, логики, куча всяких таких вещей, огромные пакеты крайне милых процедур, сложная схема, это все интегрировано в кучу каких-то сторонних систем, которые с этой базой данных взаимодействуют у клиента. И первая задача – это на самом деле убедить клиента в том, что он хочет эту миграцию, он сам ее будет делать, и он сам шарит часть этих рисков, потому что никто не знает этой системы так, как ее знает клиент. То есть мы, конечно, можем взять очень много денег и посадить 20 человек, которые будут переписывать хагиевые процедуры, но, честно сказать, это не работающий вариант, и мы всегда стараемся, так сказать, не врать клиенту, убедить его в том, что это нужно делать по-другому. Дальше, когда клиент на это готов, и когда он готов, грубо говоря, с такими силами заниматься именно переделыванием логики, зачастую эта переделка заходит в такие тупики, потому что мы подняли пласт интерпрайзного углана, никто не знает, как оно работает, надо переделать эту логику в соответствии с новыми реалиями, потому что ее просто много лет не смотрели. Вот на этом этапе мы уже готовы, так сказать, двигаться поэтапно, проводить какое-то обучение, объяснять клиентам, что вот в Oracle вы делали вот так, в Oracle вы, например, очень много использовали автономных транзакций, вы полагались на такие-то типы данных, вы использовали процедуры вместо функций, в Postgres это не работает, нужно делать так и так. Постепенно на каком-то этапе возникает уже и оценка сроков, и возникает понимание этапов, как это все дело можно произвести. То есть основной у нас в этом смысле такой подход, это с одной стороны не пытаться сделать все сразу, с другой стороны не пытаться сделать подключ. То есть мы как бы вовлекаем клиента в миграцию, потому что это его проект, и потому что ему там с этим потом жить. И дальше мы вместе с клиентом уже идем, как бы сопровождаем его, советуем, как что делать, и когда уже какой-то прототип готов, мы уже можем достаточно серьезно оценить риски, сроки, этапы, как это все эмигрировать. Просто так вот, грубо говоря, прийти к клиенту и сказать, о, мы посмотрели на вашу базу данных, мы за месяц ее перемигрим на Postgres. Ну, как бы, если кто-то так делает, это значит, что человек просто не понимает, что он делает. Слушай, а как у вас команда распределяется? Вот смотри, есть клиент, который хочет перемигрировать свою базу на Postgres, и вы к нему присоединяете отдельную команду, либо у вас один человек работает над несколькими проектами и работает с разными клиентами. Как это вообще построено? Естественно, мы не закрепляем команду за клиентом. У нас каждый из наших специалистов, консультант, работает сразу с несколькими клиентами. Мы достаточно эффективно можем это делать. И это, на самом деле, основная из идеи этого бизнеса, потому что каждый из этих специалистов в отдельности очень дорог, чтобы его просто убрать в штат. Мы ему предоставляем кусочек его времени в день, достаточный для решения задач клиента, и таким образом снижаем расходы самого клиента. Каждый клиент не вынужден искать аналогичного по привлекации человека себя в штат. И мы зарабатываем больше денег, потому что один человек может обслужить довольно много клиентов. Один-два человека. А эти разработчики не хотят, например, пойти просто контракторами работать и зарабатывать еще больше? Ну, во-первых, у нас нет разработчиков. У нас консультанты и администраторы. Это очень разная вещь. Ну, окей, хорошо. Консультанты и тебе. И работать как индивидуальные предприниматели напрямую с клиентами без этой прослойки? Ну, наверное, если бы они хотели, они бы так и делали. На самом деле, тут сложно недооценивать прослойку. Мне тут достаточно просто говорить, потому что у меня есть работа и опыт как в компании, которая на этом специализируется, так и работы контрактным ДБЕ. Просто чтобы было понимание, работа контрактным ДБЕ – это очень собачья работа. Когда ты один на один с клиентом на контракте, это, вот, серьезно, очень хороший опыт, чтобы получить в какой-то момент, особенно, когда ты там молод, очень интересно, вот, серьезно говорю. Но долго так работать невозможно. Эта профессия во всем мире, она одна из чемпионов по выгоранию и так далее. То есть, когда у тебя возникает 3, 4, 5, 6 клиентов на таких контрактах, которые воспринимают тебя как контрактора, который всегда им должен, можно попрощаться с отпуском, можно попрощаться со сном частично, потому что тебе будут звонить там среди ночи. Ты не будешь ездить в отпуск без спутникового телефона вообще никогда. То есть, это как бы, можно об этом забыть. Это довольно интересная работа, но она очень тяжелая. Поэтому, как бы, работать в компании, которая обслуживает таким образом клиентов, это все-таки такой определенный уровень социальной гарантии, определенная гигиена труда. И в то же время по-прежнему интересно. Честно говоря, я бы, если бы выбирал, я бы, наверное, все-таки не советовал бы самому себе работать в контрактном ДБА больше пары лет. То есть, у вас как защита людей происходит. То есть, они от вас получают работу и защиту, вы от них получаете умение взаимовыгодное такое, сотрудничество. Ну, можно и так сказать. То есть, грубо говоря, получается так, что вы превращаете работу контрактора в обычную работу по найму без лишней нервотрепки и сопряженных ситуаций неприятных. Ну, мне довольно сложно судить, насколько она обычная. Но в какой-то степени да. Плюс к тому, тут надо понимать, что надо обладать таким очень большим драйвом, чтобы работая по контракту, заниматься еще какими-то такими вещами для себя, например, там, не знаю. Ковыряться во внутренностях постгресса, изучать, как они работают, за пределами, так сказать, задач своих клиентов. Писать в блог, делать доклады для конференций, просто ездить на эти конференции. Например, какой-то... Ну, работа в консалтерской конторе, которая работает с open-source технологией, она дает помимо чисто вот какой-то такой чуть большей защищенности у клиента еще и какие-то такие вот плюшки менее формальные. То есть, можно часть рабочего времени тратить на какие-то интересные вещи с благословением работодателя. Я думаю, что многим это должно нравиться, по крайней мере. Поэтому, как бы, всегда поощряем, чтобы наши сотрудники занимались такими вещами. Слушай, а вот у меня есть вопрос про самый ранний этап, когда ты упомянул частную практику. А сколько времени тебе понадобилось работать в частной практике, чтобы понять, что вот все, я готов стать индивидуальным предпринимателем и общаться напрямую с клиентами и делать уже консалтинговую фирму? Сколько времени понадобилось для понимания этого? Я не могу сказать, что это произошло в какой-то внезапный процесс. Это не то, что случилось так, что я внезапно проснулся и понял, что пора. Как-то вот так сложилось. Несколько лет, 2-3-4 года в какой-то момент начинаешь думать, а что дальше? Вытянешь ли ты еще несколько клиентов сам, или тебе нужно с кем-то кооперироваться? И плавно это все приходит к такому варианту, когда ты уже начинаешь делать контору, хотя формально даже еще не начал этого делать. Это очень плавный процесс. Пара лет, переходный период. То есть таким просто естественным образом оно перетекло, получается. Ты в компании кто? Я имею в виду, у тебя формальная должность какая? Формальная должность у меня генеральный директор. И как генеральный директор твоей функции? Делать так, чтобы все это ехало, развивалось в нужном направлении. В основном вот такие. Частично какие-то продажи, частично... Иногда мне приходится залезать и в технические вещи по-прежнему, чему я на самом деле очень рад. Потому что, например, если есть какой-то хлопотный клиент на консалтинге, иногда с ним лично нужно пообщаться. Ну да, к нему приходит генеральный директор, им это очень приятно. Получается, что у тебя чем дальше, тем больше людей в компании, чем больше людей в компании, тем ты меньше делаешь в техническую часть и больше занимаешься организацией. В принципе, да, это сыровая правда. С другой стороны, поскольку мы не планируем захваты мира, создание царь-посгреса всей России и так далее, у нас нет таких планов, мы такая скромная семейная фирма в этом смысле, у нас нет целей расти безгранично. В этом смысле у нас, конечно, гораздо проще. У меня не так много людей on the report, и это позволяет мне, в общем-то, как-то так балансировать между технической и нетехнической частью. Хотя, конечно, надо понимать, что отстраивание процесса поддержки клиентов при росте количества людей и при росте клиентской базы это очень тяжелая задача. Она в то же время техническая, нужно во многие вещи вникать, и при этом она очень требует таких подходов организационных, интенсивных, во-первых. Во-вторых, ты всегда вынужден что-то новое изобретать, потому что есть классические подходы к консалтингу, есть классические подходы к суппорту. База данных – это немножко такая вещь особняком. Любой клиент, понимая, что это его самое дорогое, что у него есть, потому что его информационная система она на этом основана. Откажет база данных – откажет все. Поэтому тут приходится иногда изобретать велосипед и какие-то новые подходы придумывать, поэтому это довольно интересная работа. Слушай, а сколько у вас сейчас людей в компании? Можешь сказать приблизительно за последний год сколько пришло? Я к тому, что у вас какой-то тренд увеличивается сейчас количество людей? Количество людей увеличивается. У нас сейчас около 15 человек. За этот год пришло всего двое. То есть мы как бы не стараемся, так сказать, расти безудержно. Наоборот, стараемся это делать очень аккуратно. То есть через 10 лет удвоитесь? Поживем – увидим. Не могу такого сказать пока. Слушай, и второе... А ну давай, Света, давай ты. Не, не, продолжай потом, я свою следующую тему разверну. У меня тогда такой вопрос. Вот ты затронул сейчас, что на самом деле база данных – это всегда ядро. Это ядро компании, на которой все держится. То есть данные, пользователи – это два столпа, на которые держится любая компания. А как вы доказываете, что с вами стоит иметь дело, что вы сможете решить проблему пользователя? То есть это чисто ваше доброе имя и какие-то положительные отзывы предыдущих клиентов? Или вы... Я не представляю себе, как можно прийти к клиенту и сказать, да, вы хотите переходить, да, вы заинтересованы, но почему именно мы? Компаний таких много. Да, вот давай я тогда добавлю в мой вопрос, потому что он был как раз связан. Потому что ты ведь когда-то это начинал делать, и тогда тебя вообще никто не знал как индивидуального предпринимателя с частной практикой. То есть как ты вообще находил людей, которым это было нужно, интересно? И почему они тебе верили? Ну, что я тут могу сказать? Когда это все начиналось, никого я не находил. Тут никакого секрета нет. Такие вещи работают абсолютно по такому сарафанному радио. То есть вот этот чувак нам сделал хорошо. Он нам починил базу, с которой у нас там были проблемы многие годы. Вот нам посоветовал вас такой-то, вот пожалуйста, сделайте нам. То есть тут никакой внешней рекламы особо нет. То есть да, какие-то доклады на конференциях, как мы кого-то починили, они, конечно, начались уже через некоторое время приносить какой-то профит и каких-то клиентов. Но поначалу это было все абсолютно сарафанное радио. То есть не было... Я не могу сказать, что был какой-то прям активный поиск клиентов и так далее. Тут еще важно что понимать? Что на самом деле наш основной продукт это не миграция. То есть миграция сейчас очень модно, потому что постгрес набирает обороты, появилась такая база данных, некоммерческая, которая способна в каких-то вопросах заменить коммерческие, и люди там побежали. Но это не основа бизнеса. То есть это такой рынок, который, во-первых, имеет конечную глубину, во-вторых, он сложный, и это не самая такая интересная вещь в этом образе. Самое интересное – это суппорт и консалтинг, на самом деле. И с суппортом все очень просто. Тут полная аналогия с докторами. К докторам люди идут, когда серьезно болит. Люди очень редко идут к ДБР, чинить базу данных, пока не заболела. И когда заболела, они говорят, ну, вот доктор болит, сделайте что-нибудь. И когда буквально в первые какие-то часы у них начинает болеть меньше, они начинают тебе очень серьезно верить. И самая главная задача в этот момент не сесть в лужу и сделать действительно хорошо. Вот на этом наше доброе имя и построено. И таких людей очень много. То есть сотни клиентов уже сейчас, которые мы в какие-то моменты делали лучше. И это, конечно, репутация, которая работает. То есть смотри, получается ситуация такая. У нас есть, например, абстрактный студент или студентка, который хочет стать таким же, как ты. И, то есть, получается, правильно ли я понимаю, что такому студенту нужно помогать людям вокруг с базами данных, и потом просто надеяться на то, что знакомые этого студента расскажут про прекрасного специалиста начинающего, и дальше этот человек будет получать заказы? Правильно я понимаю? Или я что-то упускаю важное? Ну, тут как бы такой момент. Очень легко отдавать советы, когда что-то уже сработало. То есть, с одной стороны, я могу согласиться. Потому что я прекрасно помню, когда у меня был довольно минимальный какой-то административный опыт, не в области баз данных, а такой общий админский. Что-то я в Юниксе буду сделать. Я там пришел к людям, которые организовывали локальную сеть у нас в общаге, которая постоянно падала, и сказал, ребят, ну давайте я посмотрю что-нибудь. Задолбало, интернет падает, давайте что-нибудь попробуем. Ну и в результате, да, закончилось тем, что я ее поддерживал. И, в принципе, это живой совет из жизни. Попробуйте что-то кому-то сделать бесплатно, получите опыт. Если вы делаете это бесплатно, может человек на вас в обиде не будет, если вы там что-нибудь плохо сделаете. Такие случаи, естественно, тоже бывают. Но, в принципе, сейчас, может быть, лучше и не запретать велосипед, с другой стороны, так вот, если... Сейчас есть компании, в которых можно получить опыт, которые ищут интернет, которым нужны рабочие руки. Можно прийти, минимально изучив какую-то теорию, небольшую хендзон-практику в области баз данных. Сейчас хватает компаний, чтобы прийти поучиться там. Там есть люди, которые научат тебя гораздо быстрее, чем ты будешь ходить по кораблям. В то времена, когда наше поколение, хотя мы, в принципе, по возрасту все близки к современным студентам, не так уж много лет прошло. Когда наше поколение училось просто было гораздо сложнее это делать. Когда мы начинали заниматься консалтингом в области баз данных, там нормального консалтинга по постгресу в России вообще не было. Были разработчики, которые разрабатывали какие-то клевые фишки. Были где-то какие-то админы, которые что-то могли делать. Людей, которые профессионально занимались тем, чем мы занимаемся, просто не было, как факт. Поэтому нам приходилось учиться с нуля. Сейчас, конечно, современным молодым людям в этом смысле будет гораздо проще. Ходи на хорошие конференции, слушай хорошие доклады, учись, пиши в компании, которые этим занимаются, тебя с удовольствием научат. Возможно, какие-то шаркаты с тех пор и появились. Но тут очень сложно, так сказать, с высоты давать советы, чтобы они были рабочими. Привет, Валерия! Привет, привет! Ты пришел. Привет! Илья, а такой вопрос. Мы много говорим про то, что делать студентам или молодым специалистам, которые хотят в это прийти. Ты можешь посоветовать какие-нибудь хорошие курсы, книги, статьи на эту тему? Желательно с ссылками, если сможешь потом найти. Но хотя бы название. Если именно в области базы данных? Да, конечно. Скажем так, я вообще бы очень советовал учить ЮНИКСы и базы данных. Основная задача, во-первых, быть хорошо уверенным пользователем Линукса, потому что многие механизмы очень плотно завязаны. И сейчас Линукс, в общем, такая дефолтная система под базы данных. И тут надо быть более чем продвинутым пользователем.",
    "result": {
      "query": "мigrating legacy mainframe to Postgres on Elbrus open source migration best practices"
    }
  }
]