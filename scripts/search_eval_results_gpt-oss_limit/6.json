[
  {
    "segment_id": "b07c601e-cc4f-4af1-ac1f-e2e6ed557c35",
    "episode_id": "64c2be6c-1be2-4719-97e0-c9a8aa088ba8",
    "episode_number": 6,
    "segment_number": 4,
    "text": "Да есть, но я не могу так согласиться с тобой. Ruby и Python, они какие-то все равно немножко отдельно стоящие от Perl, потому что у них совершенно другая методология внутри там стоит, то есть, все это объект, все надо сделать через какие-то более глобальные вещи, а тут в Perl вот тебе строчка, вот тебе регекс на эту строчку, а еще есть доллар-подчеркивание, которое всегда дефолтовое значение, и так далее, и тому подобное, то есть, куча всего, которое не очевидно и непредсказуемо для новичка, а когда ты смотришь, новичок смотрит на питоновский скрипт, он понимает, что вот у тебя объект и нет никаких подводных камней, и все достаточно просто и прозрачно, нет? Ну, да, в этом, может быть, Perl не так хорош, зато у него, он единственный скриптовый язык из вот этой кучи, у которого нету Jill, насколько я, ну, может, я уже не в теме, и там в Ruby выпилили Jill, но, по крайней мере, когда я писал на Perl, оно было так, то есть, в чем-то лучше, в чем-то хуже, но так в среднем по больнице они одинаковые, вот. А возвращаясь к вопросу, для каких задач он хорош, вот, например, Ксюша отмечала, что для Web Perl хорош, и он, ну, действительно хорош, но, по крайней мере, он лучше для Web, чем Erlang. Что ты имеешь в виду для Web? Ну, вот ты хочешь сайтик написать, интернет-магазин. Ну, тогда Ruby тебе надо. Почему? Потому что в Ruby гораздо больше прямо сейчас хайп, чем в Perl, и гораздо больше написано фреймворков для быстрого и понятного написания. А зачем тебе много фреймворков? Ну, ты не обидись. Вань, ты такими вбросами меня лично просто оскорбляешь. Ну, ладно, Ксюша, она еще неопытная. Ну, ладно. Ну, серьезно, вот в Erlang, вот я, может быть, опять же, плохо раскурил Erlang, но вот как можно серьезно говорить? Кстати, давайте поднимем тему. В августе планируется провести Erlang-курсы. Это организует все Максим Сахацкий и его компания SynerC. Как это правильно произносится? Я тоже не знаю, наверное, да. По-моему, он где-то писал, что кто как хочет, так и произносит. В общем, ссылка будет в шоу-ноутах, если вы живете в Киеве и вам хочется разобраться в N2O и во всем этом стеке, который разрабатывает Максим и его компания, то состоится все это дело. Слушай, а я не могу найти, когда оно состоится. В августе 2014-го он объявил, да. А когда это будет, не знаю. В общем, в августе. Сейчас, давайте откроем и посмотрим точно. Осень 2014-го года написано. Окей. Ну вот. Так я все вел к тому, что вот, например, у тебя типичный... Кто там стучит по клавиатуре? Не делайте так, пожалуйста. Как можно серьезно говорить, что язык хорошо подходит для веба, речь об орланге, если, например, чтобы сгенерировать капчу или там уменьшить размер картинки, там нормальное решение в орланге, насколько я это себе представляю, заключается в том, чтобы запустить усилиту конверт. То есть, как можно о языке говорить, что он подходит для веба, если там все так плохо, если там даже ОРМа нормального нет. Мне кажется, что нельзя рассматривать орланг как средство для написания быстрого, как прототипирование быстрых сайтов. То есть, тут получается так, что... А, ты видел, наверное, есть такой демотиватор, вида давайте сделаем новый стартап, конечно, пишем его на Руби, прошло полгода, ну что ж, у нас не хватает производительности, давайте переписывать его на чем-то другом. То есть, писать быстро надо, конечно, не на орланге, для того, чтобы быстренько войти в отрасль, показать, как оно должно работать, чтобы показать пользователям, красиво и все такое. Но когда тебе необходима быстрая производительность, Руби с рейлсами уже не подходит. Я думаю, и Питон, и вместе с Руби, они требуют большого вкуривания всего, для того, чтобы сделать это производительным, быстрым, отказоустойчивым, low latency и так далее. Другое дело орланг, числа дробит налево и направо, и все линкуются безо всяких проблем. Отличный вброс. Ну, я бы как-то не ставила в один ряд отказоустойчивость и быстроту. То есть, почему приложение на первом не отказоустойчивое, а на ирландии отказоустойчивое, например? Потому что в архитектуре ирландов встроена эта отказоустойчивость, а в архитектуре перла встроена обработка Regex-попстрочек. Ну, то есть, они для разного написаны, и нельзя их смешивать и ставить в один ряд. Да, написать на нем, наверное, будет проще, чем на ирландии капчу, но отказоустойчивость и low latency в ирландии все-таки, мне кажется... Это очень удобная позиция каждый день пользоваться Яндексом, каждый день заходить в LiveJournal и ругать перл, и говорить, что он не подходит для веба и хайлоуда. Да, вот мне просто... Может быть, есть какие-то примеры хайлоуд-приложений на ирландии? Ну, я имею в виду веб-приложения на ирландии. Конечно, есть. Это не веб-приложение, Вэнни. А что вы называете веб-приложением? Веб-приложением, которое, грубо говоря, принимает HTTP-запросы и отдает HTTP-ответ. ЕGIP тогда не подходит? Нет, конечно. Почему? Потому что это не веб-приложение. Нет, я не хочу сказать, что ирландия вообще не подходит. На нем написано WhatsApp, замечательное приложение, на нем написаны все эти свитчи Эриксона. Ты назвал RabbitMQ, React замечательная база и я знаю, перловики с бутылками и я с большим удовольствием ее пользуюсь. Но то, что касается веба, социальных сеточек или интернет-магазинчиков, бложиков, на ирландии этого не пишут и правильно делают. Не, но ирланд он не для того, чтобы рисовать сайтики. Я это согласен полностью с тобой. То есть, в то, что вкладывается обычно в веб-программирование, это не сайтики. Ну, в смысле, это не ирланд. Сайтики – это не ирланд. Ирландии и джава-скрипте у нас нет ничего посередине. Я имею в виду все наши приложения, хотя все у нас работает полностью на вебе. Это можно назвать веб-приложением? Наверное, нет, потому что у нас джава-скрипт с фронтендом. Но помимо джава-скрипта и ирланда, посередине между ними ничего нет. А чем вы Капчу рисуете? Капчу у нас рисует тридесторонняя система. То есть, у нас авторизация приходит к нам, и у нас уже есть уверенность в том, что человек, который пишет нам, вот там-то и поднята Node.js. Кстати, вполне возможно. Слушай. Слушаю. Я задумался о прекрасном и вечном. У меня передо мной стоит микрофон, я внимательно на него смотрю. Слушай, ты бы фоточку его запостил? Ну, ладно, запостил. У меня, Вань, к тебе два вопроса. Сори, что я тем отвлекся. Вопрос номер первый. Тут у него две такие прикольные переключашки. Одна, понятно для чего, это аппаратное подавление шумов. Ну, то есть, там такая волна нарисована, что типа то, что тише, мы как бы давим. Как бы понятно. А вторая, на ней написано минус 20 дБ. И я потестил, оно действительно делает звук намного тише. Видимо, это для записи каких-то очень громких звуков. Ты знаешь какой-нибудь микрофон, ты что-то такое очень громкое хочешь записать, и поэтому переведешь микрофон в режим минус 20 дБ. Ну, компания собралась и хочет подключать микрофон. А караоке там после второй бутылки? Да-да-да. Не знаю, я если честно, первый раз такое слышал, чтобы внезапно надо тебе перевести микрофон в минус 20 дБ, я не представляю. А второй вопрос. У тебя же там тоже все по науке, да? Нет, я жду 6 сентября. Ты так залито сидишь? Ну, у меня отказал только звук, внешний звук плохо спасает. Слушай, вот по-моему, это все-таки ты нажимаешь какие-то кнопки, шумишь. Давай я выключу и помолчу. Ладно, неважно. Второй вопрос. У тебя ведь нет такой подставки для микрофона, которая внешне у тебя на столе стоит, правильно? Ну, у меня, да, стоит на столе, но я же стараюсь что-нибудь под него подкладывать, то есть, либо резиновое, либо... Ну, то есть, чтобы он не соприкасался со столом, потому что он начинает резонировать либо от моих движений, либо от компьютера, который там что-нибудь начнет делать. Да, я подложил тут в коробке, была такая поролоновая, кажется, штучка, но вопрос был не в том, к нему же нагибаться приходится, и вот чтобы нагибаться не приходилось, я подложил вот это вот, что-то там, программирование трехмерных игр для Windows, а также ассемблер для x86. Не, я думаю, что правильнее вешать на такую вот лапу, которая крепится к столу, чтобы она висела на удобном для тебя уровне, особенно если у тебя есть поп-фильтр, ты не будешь... Она стоит, как микрофон? Нет, я видел довольно дешевые, надо посмотреть еще дополнительно, я все никак не могу до магазина дойти. Это был саундзен-подкаст, подкаст о том, как делают подкасты, а теперь мы возвращаемся к Perl. Скажи нам, пожалуйста, Ксюш, ты еще с нами? Да. Может, ты уснула под нашу разговорку о микрофонах? Нет. Ну, Perl – это динамически типизированный язык, и что намного хуже в нем, типизация, как называется, бывает строго динамическая, как в питоне, а бывает не строго динамическая, как в Perl. То есть ты, например, можешь строку с числом сложить и получить типа 1А. Да, да. Вот как ты считаешь, динамическая типизация, как в Perl, в частности, она вообще подходит для написания крупных проектов? Ну, вот в тех же книжках, например, книга с ламой, книга с альпакой, там уже прямым текстом написано, что для Perl, он был создан для написания небольших программ на 100 строк, а вы там в мейле на нем пишите деньги. Ну, вопрос, конечно, интересный, но так как я пишу production code, в общем-то, писала только на языках динамической типизации, то я не могу отнести как-то по-другому, что такие языки подходят для больших проектов. Естественно, есть проблемы, ну, в частности, ты сказал, если сложить строку с числом, вот мы недавно тестили, что происходит, если там разные строки, то, например, строка начинается на число, строки в середине числа, такие правила довольно замысловатые, если в начале число, то он считается числом, в общем, как-то так. Я считаю, что, в принципе, такое извращение не нужно, вот именно, что сложение строки из букв с числом, но в целом, я считаю, динамическая типизация, она удобна, в принципе, для программиста это удобно. Да как же удобно? Не могу согласиться прям. А тесты? Да, вот мой следующий был вопрос, как бы это я все подводил, как ты относишься к тестам и, в частности, я хорошо отношусь к этому, естественно, к чему именно? К ТТД, но не всегда выходит применять эту методологию. Как же так? Потому что классический сценарий, это когда нам нужна эта фича еще вчера была, вот, и поэтому в общем-то ты просто зачастую просто пишешь код, там написала, там потыкала, работает, ничего не сломалось, все, другие люди тоже посмотрели, посмотрели твой код по-быстрому и все в продакшн. Так, я предлагаю вот это вывести, чтобы у тебя не сработало. Ну, я думаю, что особого в этом секрета нет, я не говорю, что все так пишется, то есть, конечно, нет, но это такое довольно часто бывает. То, что покрытие тестами у нас не стопроцентное, это, конечно, это так. Естественно, внесение различных критичных изменений в ядро системы, это, естественно, мы пишем тесты, стараемся писать тесты, потому что это затрагивает практически весь проект, ну, а какие-то такие вещи, которые довольно поверхностные, то есть, например, какая-то новая фича, которая практически не затрагивает, то есть, какой-то новый функционал отдельно стоящий, и это часто пишется без тестов, да. Вот. То есть, если есть риск, что что-то серьезно может поломаться, то пишется тест, и потом делается уже тестирование, ну, тыканием, тестирование, просмотром логов и так далее, когда ты, ну, если тесты нормально отрабатывают. Вот. А если, ну, как я сказала, это новая фича, то можно в этот этап пропускаться запросто. Ну да, нужно справедливости разе отметить, что не то, чтобы я часто заходил в почту Mail.ru, но когда я захожу, то там она, как правило, работает, я не видел такого, чтобы там почта Mail.ru лежала, например, с деньгами я не пользуюсь, но подозреваю, что там то же самое. То есть, главное, главное это что? Чтобы пользователь не страдал. Чтобы деньги не терялись у бизнеса. Если вы этого добиваетесь, то есть, если вы быстро выкатываете фичи, но тестите там, ну, там, не знаю, наполовину вручную или еще как-то, то, ну, если это работает, я думаю, это имеет право на жизнь. Но если, тем не менее, тебя захотят вдруг уволить за то, что ты там чего-то лишнего сказала, то у нас вот есть замечательная вакансия. Я думаю, она будет интересна. На Ирландии, да? Да, да, да. Если один из наших слушателей прям ночами не спит и думает о том, как же ему попасть в ВФП, то это ваш шанс, потому что в замечательной компании Exante открыта новая вакансия Erlang Developer. Тут, правда, не указана зарплата, но я плотно общаюсь с ребятами из Exante, скажем так, и там, в общем, все нормально. Требуется опыт работы от 3 лет, знание Erlang-а какое-то базовое, ну, там из серии хотя бы 2 Hello World-а написать, опыт работы с NoSQL, SQL, Linux, там, Git, знание Haskell, Scala, OCaml, приветствуется. Ну, и как обычно, короче. Да, да, да. То есть это вот прям... А вы видели недавно с лора, ты, по-моему, Саш, как раз твиттил про анонимно кто-то написал про то, как здорово писать на Erlang-е, и как он счастлив, и что-то его такого, помнишь? Anonymous на лоре. Да, да, да. Я прям плакал. Я потом, я заподозрил потом уже задней мыслью, что это какое-то уж больно складно, там все написано. Понятно, что троллинг, то есть это вот как сейчас Ксюша не верит в то, что Erlang хорош после нашего обсуждения, так и там, я думаю, это больше негатива собрало, что он не говорил. Да, да, да, это я сказал. Ну, я погуглил, короче, это да, это с лурки, это с лурки, там было в оригинале про Python, а Anonymous, он просто переписал это про Erlang немного. Да, да, понятно, отлично. Ксюша, а вот твои коллеги из, ну, которые разработчики Skyforge, из Alloda Teams, ты с ними общаешься? К сожалению, особо нет. Ну, как же так, на английский вместе не ходите? Нет, английский я изучаю, к сожалению, не в Mail.ru. А забила в итоге? Нет, я занимаюсь по Скайпу. Подожди, а Alloda Team это не та, которая раньше там сделала Alloda 1 в стриме? Насколько я знаю, да. Отлично. Но я как бы могу заблуждаться на этот счет. Так вот, они пишут на хабре о том, как они проводят нагрузочное тестирование Skyforge, это такая игрулька, я, кстати, не знаю, она уже зарелизилась, в нее уже можно играть, или она в разработке, я думаю, что зарелизилась. Ну, да, иначе бы они не писали. Ну, да, и тут написано о том, как они проводят нагрузочное тестирование, это вообще довольно интересная тема, потому что зачастую очень трудно воспроизвести боевую нагрузку в каком-то тестовом окружении и все адекватно протестить. Выглядит это так, что ты что-то сломалось, все плохо откатываем. Ну вот. И на самом деле тут нет каких-то больших откровений, ребята тупо пишут много логов, тупо по этим логам строят много разных статистик, то есть там, например, объем используемой памяти, сколько ЦПУ отожралось, сколько трафика под какие сообщенки отожралось, и так далее. Для меня было откровением то, что они сказали, что им проще не моделировать что-то, то есть брать, например, реальную нагрузку от пользователей и пытаться ее повторить, скажем, в ускоренном темпе или увеличенном каком-то масштабе, а писать каких-то ботов, которые они придумывают фактически из головы и пытаясь как-то анализировать пользователей, и этих ботов просто натравливать на продакшн. То есть они сами говорят, что эти боты полноценно не повторяют пользовательское поведение, пользовательскую нагрузку, условий для того, чтобы проверить нагрузку, которую держит сервер. Это интересно. То есть они фактически сказали, что мы сами придумаем, что нам протестировать, а что там пользователи делают как-то не так важно. Достаточно оригинальная вещь. Ну, на мой взгляд. Ну, опять же, если это работает, если пользователи не страдают и узкие места вовремя находятся, то не вижу причин так не держаться. Да, согласен. К тому же полноценное нагрузочное тестирование с повторением пользовательской нагрузки достаточно сложно. И тут они фактически очень простым способом добились того же самого, что их вполне устраивает. В общем, молодцы ребята. Мы с вами одобряем, правильно? Я бы еще хотел, чтобы они о лодов там дальше писали. Мне первые две части очень понравились. Мне очень понравилось, есть на работает. Надо почитать, я не читал. Ну, знаешь, многие очень любят, что там типа «Нойсквелль» наше все, там оно прям там круто масштабируется, все такое. А тут вот ребята делают игры на старом добром постгресе, и у них там все замечательно. Ну, да, да. Он жив и будет еще долго очень жить. Кстати, о базах данных и так далее. Ксюша, вы там не думаете о Марии АДБ, случайно? Нет, мы не думаем, потому что, во-первых, незачем. То есть, не вижу смысла переходить в Марии АДБ, нам, по крайней мере. А во-вторых, это все переключение на новую СУБД, это огромная разница. И, в принципе, это огромная работа для отдела эксплуатации, в первую очередь. И это время, понятное дело, это будет простой. То есть, для нас это будут только убытки. Ну, в принципе, да, я могу понять. Но, честно говоря, вот возьмем постгрес. Знаешь, как в «Майсквеле», ну, вы там без проблем пишете типа «инсерт инта», бла-бла-бла, потом «дупликейт Кей», бла-бла-бла. То есть, типа, вставить запись, а если она уже есть, то сделать апдейт. Вот в постгресе так нельзя. В постгресе тебе приходится написать хранимую процедуру, там, очень замороченную с циклом, которая делает «инсерт», ловит «эксепшн», и там пытается сделать апдейт, и там, короче, в цикле так крутится до тех пор, пока не преуспеет. Мы, я тебе скажу, что мы делаем в «Мускуле». То есть, мы практически не используем конструкцию «интапликейт апдейт», мы используем, во-первых, хранимую процедуру, мы другого не используем, у нас из кода зовутся только хранимые процедуры. Но это обычная политика безопасности мейла. Да, вот, и мы делаем хендлеры, то есть, там, SQL state, в общем, тупликейт или на какую-то ошибку, определенный код, мы делаем хендлер, и, соответственно, делаем апдейт уже. А почему так? Ну, скорее, ответ так исторически сложилось. То есть, никто, в принципе, не запрещает делать «интапликейт апдейт», но по большей части у нас в коде вот такие конструкции. Их можно использовать для обработки именно исключений. А, ну, понятно, в общем, ваши DBA по-другому не умеют. Нет, во-первых, у нас нет DBA, у нас код для базы данных и код перловый пишут одни и те же люди. Вот, не то, что мы не умеем по-другому, просто, во-первых, там действительно оправдано использование эксепшенов, ну, а, во-вторых, это делается просто для однообразия.",
    "result": {
      "query": "Perl веб vs Erlang производительность"
    }
  }
]