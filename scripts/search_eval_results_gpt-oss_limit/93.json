[
  {
    "segment_id": "765db640-533a-41e6-be0b-1bd9a5e94f19",
    "episode_id": "b15ea74f-b5db-4b13-86b4-7c11f5d23e1d",
    "episode_number": 93,
    "segment_number": 6,
    "text": "Вот я, у меня будет отпуск через определённое время, я тогда буду переходить на 16.04, и вот буду заодно развлекаться с обновлением SyncSync. Такие дела. От Go мы весело переходим к следующей теме. Тут какому-то чуваку очень сильно бомбануло, он написал такую весёлую статью на тему Go против Хаскеля. Кто-нибудь читал эту статью, кроме меня? Я полистал, но это очень смешная статья. Она смешная. А знаешь, почему смешная? Потому что там всё правда написано. А, вот не совсем. Меня в Земле выбесил первый же параграф, что чуваки... Там были очень смешные вещи, что Go-шники игнорируют на чисто computer science, хотя на самом деле Go — это один из немногих языков, где есть нормальная реализация действий консенсуса. То есть есть 2 языка, где есть нормальная реализация. Но это к языку малые отношения. Нет, человек говорит про community, говорит, что community Go игнорирует computer science. Вот как можно, игнорируя computer science, написать одну из самых рабочих реализаций Raft'а, одну из самых... Даже не то, что одна, у них 2 самых используемых реализации Raft'а обе на Go. Нельзя, игнорируя computer science, это сделать. Согласись, да? Если ты не игнорируешь computer science, то как ты можешь взять и типа игнорировать? А, это другой вопрос. Еще там очень смешной такой момент. В примере кода чувак берет и говорит, ну, берет просто функцию identity, ну, то есть типа x равно x. Вот как простой и легко выглядит код на Хаскеле. А дальше берет реализацию связанного списка на Go. Но это очевидные вещи, которые нельзя вот так сравнивать. Ну, понятно, что связанный список на Хаскеле выглядит красивее, чем на Go, но там, знаешь, 2 строчки vs страницы неформатированного кода на Go. Мне кажется, это прям вот такой специальный наброс. То есть человек не серьезный. Я полистал у него обложек, он, по-моему, весь вот в таком стиле. То есть, ну, она правда смешная, то есть я с большим удовольствием прочитал статью, то есть ее, наверное, не стоит воспринимать слишком серьезно, но, как обычно, в каждой шутке есть доля шутки. Вот. Ну, на самом деле, вот, я сколько не пытался, вот, и так Go нюхал, и так его щупал, и вот со всех сторон, ну, вот реально стрёмный язык, вот, правда, страшно на нем писать. Ну, он стрёмненький, да, но, как бы, у меня к нему одновременное отвращение и хочется пользоваться, потому что, ну, как бы, у меня похожая история, как со скалой. Там очень хорошая движуха при этом есть вокруг языка и странно себя исключать из этой движухи, потому что только потому что язык говно. Ну... А помнишь, у нас был такой топик про то, что не надо на хайпы вестись, надо использовать то, что тебе нравится, и так далее. А вот смотри, как бы, я не на хайп ведусь, есть у меня конкретные вещи, которые мне вот прям нужны по работе, там, не знаю, тот же самый etcd. Так ведь, да? Ну, нет, одно дело у тебя есть программа, написанная, не важно вообще на чем, хоть на Java, хоть на Ruby. Другое дело, ты идешь и изучаешь технологию, потому что вокруг нее, как ты выразился, там все шебуршатся. Нет, смотри, я не... дело не в том, что шебуршатся, дело в том, что именно там есть хорошие библиотеки, которые хочешь использовать в своих проектах. Нет, а библиотеки или программы? Вот смотри, etcd, это как бы такая штука вокруг реализации рафта, которую реально все используют дальше. Например, начинаешь писать какой-то свой код. Допустим, он использует etcd. Дальше проект растет и развивается, например, и понятное дело, что начинаются жалобы типа а вот мне что, и etcd ставить? На самом деле, в принципе, я как человек, условно, как человек, который представляет себе, что такое рафт, я, в принципе, мог бы впилить просто реализацию рафта в свой проект. И дальше, если мой проект на самом деле на Go, то я просто беру вот эту вот реализацию рафта из Go, она там отдельно будет вытащена библиотекой, импортирую в свой проект и собираю нужную у меня часть etcd или даже просто могу даже брейковать, если мне захочется. И это довольно удобно. Второй момент, который мне в Go прям конкретно нравится, это интерфейс C. Это не просто какой-то ffi, это просто берем код на C, пишем посреди goshного файла и вот оно потом вызывается. По-моему, это просто вообще лучший интерфейс, который я когда-либо видел. При условии, что у нас есть всякие странные библиотеки типа rocksdb и т.д., которые до сих пор почему-то на C++ написаны, иметь возможность быстро и удобно этот интерфейс фигачить, это просто бесценная возможность, потому что вот в Orlange есть ffi, даже в Rust есть ffi. Но в обоих языках нужно сделать сильно больше усилий, чтобы запользовать какой-то дисковый бакенд, взять и запользовать. При том, и там, и там есть биндинги, но и там, и там есть rocksdb, это очень фичастая вещь, сильно более фичастая, чем голый ldb, и если ты берешь rocksdb, очень часто ты его берешь именно потому, что ты хочешь какие-то из этих фичей. А вот все эти биндинги к Orlange и к Rust, они зачастую игнорируют эти особо интересные вещи, типа того же trailing iterator и прочие такие интересные штуки, которые в принципе полезные. Вот. Второй момент, который мне в Go нравится. Система типов там ущербная, при том, что в языке нет наследования, и в принципе сделать генерики в языке без наследования, ну в принципе почему бы и нет? Генерики просты как просто делать, ну сравнительно просто делать, когда нет наследования. Я вспомнил, где я видел возможность писать на C, даже на C++, вот прямо в коде программы на другом языке. Где? В Perl, конечно. Но это же как бы это язык, в котором нет легковесных процессов, поэтому да, еще один полезный момент в Go, там все-таки легковесные процессы, по крайней мере сетевой IOM можно делать не блокируясь. Я на самом деле все это понимаю, ты все правильно говоришь, но вот я правда пытался, но вот нет, я лучше я вот возьму Erlang, например, а то, что тормозит на C, перепишу. Или вот недавно я на Swift смотрел, вот прям чуваки, они, конечно, переизобрели Acaml, на самом деле, ну с нормальным синдексом, вот, но язык прям приятный, вот на нем я... Он похож на Scala, согласись. Похож, да. Очень похож. Признайся, Свет, что ты знаешь про Swift? Рано, рано говорить. Нет, я могу рассказать, чем я занимаюсь и почему Swift. Вот, ну как всех знает, я переехала в Лондон и сейчас занимаюсь проектом одним, по сути, это SDK для IOS. И что-то такое, вот недавно, вот, буквально на этой неделе Google анонсировала, была конференция большая Google IOS, и они анонсировали API, Awareness API. Что-то такое. Грубо говоря, Google, они анализируют данные сенсоров и представляют какую-то более высокоуровневую информацию. То есть можно сказать, человек, он бежит, либо не бежит, человек катается на велосипеде, он находится в офисе, не в офисе. То есть мы берем данные со всех возможных сенсоров телефона, это аксерометр яркости экрана, это, не знаю, локация его и там все-все-все, что возможно вытянуть. Ну понятно, если человек движется со скоростью 60 км в час и телефон заряжается, наверное, он в машине. Ну, то есть в принципе, проблема в том, что очень много, у нас у всех есть телефоны, но датчики этого телефона по факту не используются. И я работаю сейчас над SDK, не над API, над SDK для iOS на сифте. И в принципе, проект уже есть, есть небольшой пример приложения, это музыкальный плеер, который есть в доступном App Store, и он подстраивается под текущий контекст пользователя, и рекомендует музыкальные листы для... Пап, постой, то есть если я убегаю от ментов, то у меня там будет такая динамичная музыка, да? Ну, грубо говоря, если ты в тренажерном зале занимаешься, то ты будешь получать плеер автоматически составленный для тебя под твое текущее положение. Вот, можешь даже попробовать, как оно работает, скажешь мне, насколько оно корректно определяет все, что нужно. Вот, то есть в принципе... А, что ты только ссылку не забыла? Я добавлю ссылку, да, и сейчас SDK находится в приватной бете, так что если вы хотите попробовать, я буду рада послушать и добавить у вас в список рассылки и послушать любые отзывы. Вот, документация в открытом виде, API тоже документирован, все это есть. Вот. Постой, а вот эта информация, что я сейчас делаю, она, конечно, в облако утекает, да? Все, вся информация... Нет, смотри, мы в облаке, у нас только логи, то есть данные от сенсоров, они обрабатываются на телефоне, мы не отправляем данные от сенсоров, ну, то есть вот это вот все-все-все не отправляем на сервер, мы пишем только логи, наши отладочные логи. Вот. То есть вся, весь процессинг идет на телефон непосредственно с помощью хитрых алгоритмов, там, машинного обучения и искусственного интеллекта. Хорошо. Продолжая тему, вот там, что ты против чего-то, там, Го против Хаскеля и так далее, Валера принес великолепную ссылку. Откуда она к тебе прилетела, кстати? По-моему, кто-то... Блин, черт, я вот теперь не помню, кто-то где-то кинул, чуть ли даже не в нашем унит-нам чатике, я вот, черт возьми, не помню теперь. В общем, ссылка называется... А, или, наверное, Twitter, наверное, Twitter, да. В общем, ссылка называется HowFuckedMyDat... HowFucked... ismydatabase.com В общем-то, там ссылки на каждую базу данных, там типа Are you using PostgreSQL, MySQL, MS SQL, Oracle, SQLite, MS Access or NoSQL? Если ты, например, MS Access, то massively fucked. И дальше ссылка Try to unfuck your database by using a handy reference guide. И дальше ссылка на Amazon Купить книжку. Если, не знаю, купить, например, на SQL, оно скажет You're not a database. И дальше картинка про то, что и как я делаю запрос в эту базу данных? Это не база данных, это KVL Storage. Так как я делаю запрос? Тебе нужно написать распределенный MapReduce функцию на Ирландии. Ты только что сказал мне пойти сам выебаться. Я думаю, да. Вот. В общем-то, это такая вот как это юморная страничка. Я не знаю, Саша, почему ты вообще-то в тему занес? А вот не поверишь. Я на самом деле хотел сказать пару слов за счету MySQL. Вот так внезапно. Дело в том, что из баз данных, которые я использую в продакшене, вот сейчас я там для блога или вот для DevZen, мы все, мы же используем MySQL. Вот. И для типичного веба, на самом деле, он работает довольно неплохо. Ну, до тех пор, пока ты не пытаешься туда, на нем делать очереди, не пытаешься делать полнотекстовый поиск на MySQL. Вот. Ну, то есть, нормально он работает для веба. Более того, мы делали широко известный Highload проект. Тоже он был на MySQL, и он хорошо работал. Так что не все так плохо. Вот. Хотя... Подожди, говоря про Highload, про какой лоад ты конкретно говоришь? А то это очень такое базвордовое понятие. Ну, Mail.ru я имею в виду. Я что-то еще. А сколько? А ты цифры не скажешь нам? А понимаешь, дело в том, что там же на прот не пускают разработчиков, и я вот честно не знаю, но на главную там немало людей заходит. Кстати, интересный момент. Главное написано на сях, то есть веб на си, и это вообще отдельный проект, который там со своим проект-оунером и так далее. Вот. Ну, справедливости ради, там не только MySQL, там много всего. Если не ошибаюсь еще, я предложу хороший про MySQL. Он из коробки держит хорошо много коннекшенов, потому что в нем там есть event loop, если я, конечно, не путаю с какой-нибудь другой базой данных. То есть вот Postgres, например, так не может. Ему нужно отдельный connection pooler поднять. Ну, PgBouncer, например. Вот. И, между прочим, Валер, у тебя же MySQL в продакте. Он уже в продакте, но он как это... Это не основная, я уже, кажется, говорил, это не основная база данных. Больше того, если, наверное, целиком игра должна работать, она нужна ровно для одной фичи, и в ней, на самом деле, хранятся как это... В общем, то, что не удалось запихать в React и Redis, потому что нужны там специфичные отношения, то сейчас уже, как бы, ретроспективно, наверное, можно было бы запихать в React. В общем, да, такие дела. Поэтому, на самом деле, нас не очень парит, потому что к этой базе данных, не знаю, какие-то смешные, совершенно, что изображают, не знаю, меньше десятка запросов в секунду. Там, в то время, как на React сыпятся тысячи запросов в секунду, так что нам, как бы, нам довольно-таки пофиг на то, что там вообще за хранилище, можно, наверное, SQLite поставить, и все будет нормально. Продолжая тему баз данных, тут такие вести с полей про CouchBase. Один из моих бывших коллег жалуется, что вот у них был CouchBase, он работал-работал, потом раз и упал с паникой, и ты не можешь это починить. И в Гугле не куглиться, и разработчики особо тебе ничего в Меринг-Листе не посоветовали. Вот. Такие дела. Ну, то есть, я, по-моему, уже как-то про такое рассказывал. Вот если вы хотите крепко спать по ночам, то используйте стабильные проверенные решения, даже если они, может быть, не такие удобные, как CouchBase. Ну, CouchBase реально удобный, ты его там поставил, ноды соединил, у тебя там красивая веб-мордочка, KVL, само решардится и так далее. Вот. Но с ним возникают такие проблемы, и когда они возникают, ты даже не знаешь, как это починить, где данные-то лежат, откуда их выковыривать, в каком они формате. Вот. А если хотите знать, с чем никогда проблем не было, вот работало вот железно, это memcache. Вот тупой memcache с хэшами, которые считались на векендах, прям никогда никаких проблем не было. Валера, у тебя Redis, да, если не ошибаюсь? Да, Redis, но такой как это родом из 3 года назад, поэтому там, например, Redis-кластер у нас в продукте нет, хотя мы, наверное, хотели бы. Я боюсь, с ним будет вот как с CouchBase. Да, memcache тоже 3 года назад, его уже нет. Ну да, сейчас как memcache, он превратился в membase, а membase потом слился с CouchBase. Вот. Но как бы Redis, на самом деле, как бы Redis-кий кластер, выглядит более-менее нормально. То есть у него странные гарантии персистентности, это правда. То есть они там, знаешь, такие типа а-ля ЦП, но не ЦП на самом деле. Но нас это не очень парит, потому что мы в нем не храним ничего такого, что было бы прям критично потерять. То есть в основном это самое такое, что там хранится, у чего нету дубликатов в React, Highscores и уведомления. Вот. И как бы и то, и другое. То есть если Highscores немножко смержим по Last Redwings, это как бы ничего страшного. То же самое, если мы немножечко не донесем уведомления, оно еще раз прилетит. Ничего страшного. Поэтому в принципе нам Redis-кластер, я не слышал ничего, у меня нет своего Redis-кластера в production, но я с удовольствием послушал, кого он есть. Из того, что я знаю, с ним проблем прям вот таких, как описывано, с CouchBase не случается. Именно что проблемы с консистенцией бывают, но как бы я говорю, меня это не очень парит в данном случае. Чего-то вы врете все про memcache, memcache это, что он умер, у него есть сайт, там последняя стабильная версия, он там ноябрь 15-го года, то есть меньше полугода назад. Чего-то вы кривите. Живее всех живых, короче. Все прилезли смотреть. Нет, он конечно не очень активно развивается, потому что там нечего развивать, он тупой. Такие дела. Вот. А еще там в мире RethinkDB чего-то произошло. Да. RethinkDB выпустили такую интересную штуку. Я не знаю, что это из-за языка. Вот в чем вообще фишка, если кто помнит наш выпуск про Rethink. Фишка Rethink, кроме того, что это нормальная CPAP база данных с нормальной репликацией и фейловером, именно вот их такая большая selling point, кроме того, что это база данных, которая работает. Без транзакций. Ну, без транзакций, но как-то мы все знаем, что если у нас есть транзакции по одному ключу, всегда можно вернуть произвольную сложность транзакции, если очень захочется. И никто этого не делает. Ну, как бы есть некоторые любители. Я не говорю, что это плохо, извини, продолжай. Вот. Да, кстати, любители, вы к нам в подкаст заходите, я думаю, любители знают, о ком я говорю. Вот, собственно, есть еще такая штука, ну да, и главная фишка это то, что у них есть живые апдейты, то есть можно сделать какой-то запрос к базе и начать получать апдейты по этому запросу, не дергая базу данных, просто не занимаясь спорингом. Есть похожие технологии, в принципе, типа Firebase или там есть Meteor, которые делают много всего, но они, во-первых, делают сильно больше всего, потому что они, на самом деле, заменяют backend целиком. Ну и как бы тот же самый Meteor, он вообще очень сильно опионейтед, то есть там вместе с Meteor там уже, насколько я понимаю, я не фронтендер, но в меру своего понимания, то есть с Meteor сильно дальше концепции Meteor вылезти уже нельзя, то есть Meteor целиком фреймворк. И вот тут команда Rethink, они выпустили интересную штуку, они сделали Horizon, это такой кусок open source, а также сервис, который планируют предоставлять, который, по сути, делает что-то вроде Firebase поверх RethinkDB, с важным отличием, что, во-первых, у этого есть open source версия, которую можно крутить самому, во-вторых, он, в отличие от Meteor, не привязывает к каким-то концепциям, это просто способ запустить кусок кода где-то и начать писать фронтенд, сохраняя все, что нужно в бекенде. Ну и соответственно получая апдейты на свои запросы. И при этом, в отличие от всех остальных технологий, включая Firebase, можно постепенно, по мере развития своего проекта, докручивать функционал вот этого бекенда, который вот Horizon, который является таким, по сути, скелетом будущего бекенда. Это очень богатая идея, я не знаю, сколько хорошо это реализовано сейчас, потому что я не трогал, я вот просто почитал, посмотрел, что они примерно предлагают. Выглядит интересно, я бы сказал, что идея развивать бекенд, то есть идея делать какой-то такой минимальный бекенд, который позволяет вообще без сетапа начать делать фронт, а потом постепенно его развивать, это очень богатое. Я не знаю, насколько это актуально в вебе, я подозреваю, это актуально, если уже третья такая технология. На самом деле это было бы актуально и в играх, потому что вот мы прямо сейчас, у нас одно из направлений, так скажем, мысли, это пока даже не действие, просто мысли вот в нашей текущей команде, что неплохо бы дать фронтенду какие-то ручки, чтобы они могли прототипировать, а потом, если фича докатывается до продакшна, потратить время бекендеров, потому что на каждый эксперимент, который хотят сделать, на каждую новую экспериментальную фичу тратить время бекенда, это очень неэффективно, потому что, ну, неэффективно, в общем-то вот поэтому. И иметь какой-то такой вот специальный как это, специальную такую ручку с нашей стороны, это, мне кажется, хорошая идея, но мы пока не придумали, как ее сделать. Вот тут ребята придумали, как это сделать для фронтенда, который вебный. И мне кажется, это богатая идея, как я уже сказал. Вот. Кстати, вот извини, я, конечно, все о своем, да, как обычно. Вот эта убийственная фича Resync, которая тебе шлет обновление всего, на что ты подписался, ты понимаешь, да, что это на самом деле натифалист, он плюс в юхе материалайст или обычный? Я на самом деле не могу тебя с тобой начать спорить, потому что я одновременно не специалист, не глубокий специалист в Postgres и не глубокий специалист в Resync, но ребята из Resync говорят, что оно может больше.",
    "result": {
      "query": "Go vs Haskell article humor"
    }
  }
]