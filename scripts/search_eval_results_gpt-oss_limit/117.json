[
  {
    "segment_id": "025550b6-0b8d-4c8d-812b-ae24c2744102",
    "episode_id": "8e26e14d-4fa4-4c6c-bb06-aed305dc5647",
    "episode_number": 117,
    "segment_number": 7,
    "text": "Вот практически кубернетис только Ansible. Все намекают, что вышла новая версия Ansible 2.2. И у меня есть что про это рассказать. Вообще, в версиях Ansible... Подожди, ты уже пострадал или пока просто прочитал? Я пока только прочитал. А что, надо было страдать? Ну, а как же? Всегда интересно, когда ты пострадал, а потом жалуешься. Я же с поглотжиком страдал. А, нет-нет-нет. Я здесь пока только интересуюсь. Я, если честно, в последнее время не так часто пользуюсь Ansible, чтобы чувствовать необходимость скажем, ой, давайте выпускать быстрее версию 2.2.28, потому что в 27-й там ничего не работает. Или мне не хватает каких-нибудь ещё фич. То есть, большинство моих текущих запросов Ansible полностью удовлетворяет, и поэтому я слежу за его обновлениями только с точки зрения любопытства и возможно что-нибудь заиспользовать новенькое. Ну и, кстати, вот здесь вот в версии 2.2 появилось это что-то новенькое, что, скажем, пару месяцев назад мне было бы очень интересно сделать, а пару... Больше. Больше. Полгода назад. В частности, в свежей версии Ansible 2.2 они сделали возможность редактировать, работать с разными настройками. Сейчас я попытаюсь это сформулировать. Они сейчас начали работать с разными устройствами, в том числе, Network-устройствами, и в частности, они начали работать с F5 BigIP продуктами. Это такие большие, крупные Load Balancer железячные, которые ставятся. То есть, я пока пальчиками туда не лазил, потому что сейчас нет под рукой F5 подобного устройства. Но, судя по документации, ты теперь можешь с ним работать как-то напрямую, вписывая credentials в свои Ansible скрипты и настраивать сеть так, как тебе надо. То есть, нам для этого приходилось писать специальные сервисы, которые через JSON и API этого F5 как-то реагируют и взаимодействуют. А сейчас можно на чистом Ansible писать. Просто лепота, если честно. И F5 – это одно из немногих устройств. В смысле, там их много. Одно из многих устройств. То есть, там порядка 20-30 разных устройств появилось, которые Ansible поддерживает. И это прям замечательно. Еще из обновлений они починили две security-фичи. Два security-бага. Security-фичи. Первый раз правильно сказать. Да-да-да. Первый баг мне очень понравился. Я про него не слышал. Сейчас почитал повнимательнее. То есть, у Ansible, когда ты запускаешь скрипт Ansible, ты первой фазой можешь попытаться собрать факты с удаленных хостов. Там, что у них работает, что как запущено, их свойства и так далее. И вот в этом собирании фактов была бага, что если ты правильно сконфигурируешь специальным образом все эти хосты, то при собирании фактов ансиблный код что-то выполнит. То, что он не хочет выполнять, а в общем ты инжекшн какой-то сделаешь. Они эту штуку пофиксили и пофиксили какую-то проверку дополнительных ключей, которая тоже позволяла обходить какие-то проблемы с безопасностью. На самом деле, как бы теоретически это проблему не должно вызывать. Вред, когда запускаете ансиблные скрипты на хосты, которые вы не понимаете, что там происходит, или на чужие хосты. Чаще всего это свое, и вы уже знаете, что к чему. Но все равно интересно. Они добавили модули бинарные. То есть, вы можете не только сами что-то написать и подключить, а вы можете использовать какой-то левый бинарник, который непонятно кем собран, который закрытыми исходниками каким-нибудь, и его использовать у себя. Из полезного еще они добавили большое количество EC2 инструкций для работы с VPC. То есть, это слабая для ансибл, на самом деле, зона. Мы в свое время довольно большое количество проблем с ним имели. С VPC-настройкой сетей и так далее. Здесь вроде они что-то подобавляли. И говорят, что улучшили перформанс. И вот из полезных я не вижу большого еще какого-то многообразия функций. Там довольно большой лог изменений, но все остальное, мне кажется, это уже более мелкие такие штуки. Вот. А, и пропустил. Docker Network. То есть, они добавили возможность настраивать сети в докере для большого количества контейнеров и машин. То есть, вы можете сказать, вот мы объявляем сетку IPv6, к примеру, и хотим, чтобы вот этот список контейнеров в эту сетку сам добавился каким-то образом. А эти контейнеры висят на тех которые у него нет в продакшене. Он использует VirtualBox, который весь в одной сеточке. А представляешь, ты хочешь, не знаю, на разных машинах пять контейнеров позапускать для того, чтобы проверить, как у тебя мастер слейф работает в Postgres или мастер-мастер-репликашн какой-нибудь. Ну, я не знаю. И вот это все в контейнерах, тут через Ansible все круто, все классно. Вот так вот. Правильно я резюмирую, что Ansible идет на пути. У нас больше всего поддерживается из коробки и Docker, и AWS, и вам вообще ни о чем думать не надо. Ну да, то есть получается, что на самом деле Ansible сейчас повторяет большое количество разных функций, разных других вещей. То есть он пересекается с Kubernetes, он пересекается с Terraform, он пересекается с кем он только не пересекается, короче. Но с другой стороны, это полезные вещи, которые, ну, если у тебя есть Ansible, и ты с ним работаешь из коробки, но в нем чего-то нет. Тебе придется это все ручками доделать. Поэтому я понимаю их это движение. Оно вполне логично. Я скажу страшную вещь, мне как человеку, который не очень знаком с Ansible, прям скажем, мне кажется очень сомнительным, что вот эти, эта конфигурация на YAML мне, например, там сама настроит Postgres-кластер с фейловером, там и сама как-то удобно мне сделает мои бэкэнды, которые поймут, где этот Postgres через консул. Почему? Может быть, мне надо с ним просто вот реально посидеть, повозиться на эти время. У него очень хорошая штука, что он тоже, если ты правильно пишешь его скрипты, то он позволяет делать интерпонтентную систему. То есть, ты запускаешь, у тебя скрипт где-то поломался посередине, такой, блин, я же там забыл проброс какой-нибудь сделать ручками в AWS. Настраиваешь, запускаешь еще раз и не боишься, что он тебя при втором запуске что-то поломает, то что первый раз было уже правильно настроено. Нет. У тебя он просто свойствами оперирует. То есть, я хочу, чтобы в этой системе было такое свойство «включено», и он проверяет, заходит, смотрит, о, там уже включено, значит, ничего делать не надо. Ну, типа такого. Вот. И за счет этого удобство довольно большое, особенно, когда у тебя куча машин, куча систем разных. Вот. То есть, ну, ты поиграй, оно имеет смысл. То есть, я сейчас стараюсь все удаленные хосты, то есть, если у меня уже этот хост есть, и я не захожу туда и со Сашей что-то пытаюсь сделать, я сразу настраиваю через nSYLL скрипты, чтобы у меня все это было, и всем было понятно, что к чему. И у них довольно такой простой язык, который позволяет все это описывать. Придется посмотреть, да. Я понимаю, что приходит, ну, как бы мне этого не хотелось, все равно придется разбираться и в кубернетике, и в nSYLL где бы время найти. Ну, вот, как они сейчас подойдут к этим летним рубежам, там и начнешь их сбирать. Ну, кстати, nSYLL, мне кажется, уже подошел, нет? nSYLL уже 2.2 версия, и он вроде с нами уже довольно давно. Сейчас все проверим. Угу. Нет, ну, понимаешь, у меня же так мало свободного времени, мне нужно пройти Call of Duty, мне нужно пройти Rise of Tomb Raider. 25 февраля 2012. Модерн... Infinite Warfare уже играешь, да? GamesM потом. Потом, ну, то есть, ну ладно, окей, да. Слушай, тебе еще 3 месяца осталось до пятилетия nSYLL. Ну вот да, можешь начинать. А что еще имеет отношение к оркестрации, облакам, кубернетусу и всему этому вот? Это то, что Google зарелизила тут такую штуку, называется, боюсь неправильно произнести, Cilium. Или Silium. Я бы Silium произносил. Ну окей, Silium. Мы тут, во-первых, BPF, мне кажется, мы обсуждали некоторое время назад, но, может быть, и нет. Но что мы точно обсуждали, это то, что... Да. Berkeley Packet Filters, если что. Но что мы точно совершенно обсуждали еще раньше, это то, что сеть в... между контейнерами делается сложно. Я помню, Ваня обозревал собственную статью о том, как они тестировали разные подходы организации сети в кубернетус и, в принципе, между контейнерами, что много всякого разного, большая часть этого всякого разного работает медленно, как непонятно что, и там везде свои ограничения ограбливают, вот это все. Google сказал, ну нафиг, давайте пользоваться возможностями современного ядра, давайте пользоваться моднейшими фильтрами, которые там есть, давайте пользоваться Data Path, давайте компилировать... джинк-компилировать наши правила и прям ссувать их в ядро, что, кстати, вот к этому я уже отношусь с подозрением. Вот. И в итоге у них получилась штука, которая, во-первых, очень дибкая, во-вторых, быстро работает по их заявлениям, ну быстрее, чем многое аж другое, в-третьих, имеет отменные возможности мониторинга, потому что и что хотим, то и можем ссунуть туда. Опять-таки, ну то есть, нет необходимости использовать тормозной линуксовый NAT, можно как это... разграничение сделать какое-то более производительное, более тонко организованное, при этом сети внутри между контейнерами получаются вот так, как любит Kubernetes, то есть, ну классический докер, он сетку делает, ну пока не доделал до некоторого времени, довольно совсем странно. А Kubernetes, ему нужна эмуляция, то есть, как будто бы все контейнеры сидят на одной локальной сети, и на самом деле это правильное желание, потому что, ну, иначе долбануться можно, докер сейчас тоже так научился делать, он даже может несколько сетей. Вот. И они-то все делают так, что это не какой-то сложный overlay или еще какая-то тормозная штука с NAT-ами и прочей магией. Ребята генерируют специальные кастомные фильтры, прогоняют их через CLang, получают bytecode, который они засовывают в верифайр и JIT, который потом засовывается внутрь сетевого стека и работает в ядре P. У меня, конечно, есть зрение относительно того, что засовывание компилируемого кода в ядро, это может привести к чему-то, ну, не тому, что хотел пользователь, и вообще, возможно, не к тому, что хочется безопасникам, но это, видимо, для них подходящий компромисс, потому что весь другой сетевой стек, который можно было разграничивать контейнеры, вел себя, видимо, не очень хорошо. Какие ваши по этому поводу мнения, господа ведущие и гости? Меня эта тема очень сильно зацепила тем, что вот я рассказывал про BPF и про пост Брэндона Грэга, что оно в итоге вылилось в инструмент профайлинга, да, или, ну, D-Trace, как бы аналог D-Trace, может быть, не только для профайлинга, но и там для мониторинга, какой пользователь, какую команду сейчас выполняет. Тут ребята из Гугла взяли Кубернитес, взяли Докер, взяли BPF и на нем запилили какие-то, я не знаю, как это даже правильно назвать, средства конфигурации сети и вот безопасности всего этого. То есть, во-первых, вот такое нестандартное применение BPF, ну, с моей перспективы нестандартное, меня удивило, то есть это может быть использовано как инструмент обеспечения безопасности конфигурации и так далее. А во-вторых, я представил себе вот этих парней из Гугла, которые такие, чем будем компилировать, ну, как бы наши скрипты в байткод, да, возьмем кусочек из LLVM, да, какие механизмы ядра заюзаем, а вот BPF, клевая штука. И я поражен тем объемом работы и какой квалификации должно быть у этих людей. Тут, кстати говоря, по поводу взятия технологий оттуда, технологий оттуда, тут у нашего слушателя Никиты Шелиникова, прости, если не правильно читаю его фамилию, сложилась bullshit bingo из слов Linux, Google, Docker и Golang. Да, кстати, про Golang, user space часть этой штуковины, написано, угадайте, на чем? На баше. Я же сказал, Golang. На леспе под спастой. Я угадаю. Да, Golang, Golang. Ладно, ладно. Ну, в общем, Вань, как тебе? Ты как главный специалист по Kubernetes, одобряешь или осуждешь? Слушай, мне очень сложно. Я имею в виду, мне хочется посмотреть, потрогать, какую производительность они добились, особенно с учетом того, что я, насколько понимаю, они не идут через Linux ядро, они в user space остаются, да? Вот. И насколько... Подожди, они как раз идут в ядро, там есть модуль, у них даже отдельное лицензирование, это раз. Больше того, они компилируют код, и, если я правильно понимаю, суют его в ядро. Да, все правильно. А чем тогда это быстрее намного, чем все остальное? В смысле? Ты берешь специализированную логику, вместо того, чтобы сотню правил firewall'а, которые, к тому же, еще могут использовать NAT и contract, которые сами по себе могут быть не очень быстрые, ты берешь при помощи магического джеткомпилированного байт-кода, поднастраиваешь BPF и XDF, и оно у тебя просто... То есть, как бы, contract и IP table уходят лесом, а ты делаешь это все напрямую, каким-то образом вычисляешь, что вот если пришел с этого устройства, то я теперь пойду через мои специальные джеткомпилируемые коды, да? Ну, видимо, да. То есть, интересно при этом, остальное как-то не разваливается. Ну, надо поглядеть, надо посмотреть. То есть, как бы, я очень сильно доверяю Linux-коду, я имею в виду то, что в дефолтном содержится, а здесь, получается, у тебя очень большая логика, и я бы проверил сто тысяч раз, но если у тебя выигрыш производительности в несколько раз, конечно, стоит попробовать в продакшене сразу. Нет, надо сначала попробовать в продакшене, а потом протестировать. Вот, а что еще имеет отношение к сети и контейнерам, ну, это уже не совсем контейнерам, тут, в общем, компания Stripe нарисовала в своем блоге, Да, да, да, я хочу сказать, что у нас сегодня уникальный выпуск к теме слушателей перемешан с темами ведущих. Ну да, видимо, потому что мы читаем один и тот же, как-то одних и тех же людей в Твиттере, видимо, читаем. Одни и те же комментарии к темам выпуска. Вот. Ну, на самом деле, я эту статью не из комментариев к темам выпуска взял, я их довольно редко смотрю, признаться. В общем, я эту статью прочитал, мне кажется, я попытался попинать автора в Твиттере, или это не автор, а просто кого-то из Stripe в Твиттере, да, это был просто кого-то из Stripe, потому что автор, он самая девушка. Вот. Ну, в общем, я не понял, почему они делают некоторые вещи, в частности, они там воевали с кэшированием DNS, и там они берут темплейтером на основе изменений, а, даже не на основе изменений, они в некоторое время полят консола на приют изменений, на основе этого генерируют шаблон для DNS сервера, потом это все кэшируют... Да, вот почему не кэшировать DNS просто из консола? Почему не кэшировать DNS из консола? В смысле кэшировать? То есть, у них есть проблема, у них есть проблема в том, что у тебя при выбивании мастера тебе надо, чтобы дождаться того момента, когда рафт полностью подставить, до этого момента консол ничего не будет отдавать. Смотри, во-первых, можно расслабить, это раз. Во-вторых, DNS можно тоже кэшировать, его перед ним можно поставить просто такой же кэширующий DNS сервер, как они ставят перед своими другими DNS серверами, и его кэшировать. Но DNS может быть... Я не специалист по консолу, но по-моему, его-то DNS как раз нельзя кэшировать. Почему? Потому что я запромотил реплику Postgres и до мастера, и я хочу об этом узнать сразу. Это другой момент, смотри. Тебя тот, кто не мастер, должен сказать, извини, чувак, я больше не могу, иди перезапроси. А если у меня мец клиент, он об этом не скажет. Нет, подожди, мы уже это выясняли еще два выпуска назад, мне кажется, что если у тебя кворум и репликация синхронная, и ты пришел с этим не на мастер, то у тебя просто... или даже пришел на старый мастер, у тебя просто запись не должна случиться, потому что у тебя синхронные реплики не должны подтвердить. Нет, в хорошей системе, да, но Postgres, он изначально на это не очень заточен. Ты прав в том смысле, что по хорошему запросу должны идти через прокси, который тебе порвет сессию, когда происходит на сплит. Это да? Нет, это дело даже не в проксе. Даже если прокси не порвал, прокси тоже может не иметь самых свежих сведений. На самом деле все вот эти выборы лидера и так далее, это оптимизация. Это оптимизация, которая всегда абсолютно рассчитывает на то, что даже если мы это удержали немножко дольше, чем нужно, у нас есть еще какой-то epoch number или что-то еще, что участвует в консенсусе или в репликации, и запрос, который даже если он пройдет через вот этот механизм обрубания, он потом будет реджектнут кворумом или чем-то еще, и мы не сможем совершить запись все равно. Это такая вещь, за которой на самом деле следят вообще все правильно сделанные системы, и POSGES за этим следит в частности, потому что если у тебя там либо множество синхронных репликов 9.6, либо если у тебя... Нет, нет, нет, это ты говоришь, когда у тебя все нормально с точки зрения всех остальных хостов, а теперь представь, что у тебя ну я не знаю, какой-нибудь React у тебя упал... Не, ладно, React не подходит. Какая-нибудь другая система, да, в которую упал одновременно и мастер консула, и одновременно упал тот хост, который ты должен был читать по старой записи. То есть в этот момент тебе нужно одновременно сначала выбрать, с кого ты будешь читать с точки зрения бизнес-логики, а потом записать это в DNS, чтобы это везде было доступно. Нет, смотри, давайте вернемся к тому, что они делают. То, что они делают, это имеет еще больше лаг, чем то, что говоришь ты. То есть они уже как бы на основе полят консул раз в минуту, раз в минуту, и на основе этого генерят конфиги для DNS-сервера, которые потом... и результат этого DNS-сервера потом еще раз кэшируют. Лаг еще больше. Они еще вочат? Ну, вочат они... нет, они как раз не вочат. Но ты делаешь, что они написали, что вочат для них слишком плохо работает. А, вочат у них там убивали все системы, да? Да, да. То есть у ребят, они сделали АП-систему, чисто в чистую АП-систему. Вот, и они... при том они сделали так, что она будет сильно больше лаг давать, чем не знаю, делать стейл-риды с консула, которые, я не знаю, они не ответили на два вопроса, которые на мой взгляд ключевые. Почему не понизить гарантии на чтение? Как бы если у них строго консистентное чтение тормозит, почему не понизить гарантии? Это первый для меня непонятный момент. Тем более, что они сами делают то же самое. Да, да, это... да, именно. Во-вторых, почему не... как это... да, не кэшируют DNS с самого консула? Ну, я не уверен, что консул умеет сервер-рекорды, но по-моему умеет. Вот это было бы ответом, в принципе. Умеет, умеет. Консул точно умеет, да. Вот, ну как бы, да, если он умеет сервер-рекорды отдавать, то непонятно, почему не кэшировать просто их. Третий для меня непонятный момент. Почему если у них так много всего ходит в консул, почему бы им не... как это... Зачем им один огромный консул на всех? Почему им не делать много маленьких консулов? Или у них всё-таки много маленьких консулов, и у них всё равно эти проблемы? Они на это тоже не отвечают в статье. То есть там, короче, очень огромное количество... то есть там, с одной стороны, они, конечно, прошлись по вещам, которые им пришлось подчинить в консуле, чтобы у них вообще хоть что-то заработало. Это интересный опыт. Но то, как они потом используют консул, мне непонятно, зачем им там вообще консул, потому что там вместо консула, может быть, вообще не знаю, файлик в GT. Вот, серьёзно, там вот у этого гарантии, как файлик в GT, на основе которого потом конфигурируется куча всего остального, зачем там консулу? Непонятно. Может, они утилизируют его сервисы и мониторинг этих сервисов? Ну, наверное, да, но я, как бы, всё равно скажем так, они консулы, на мой взгляд, используют очень неправильно, и вот все описанные там тобой проблемы они гарантированно имеют. Окей, ну я согласен, да, они фактически вручную изобретают стрелориды в консуле. Да, при том, что они там есть. Но с другой стороны, там, конечно, интересно, что, например, они нашли гарутин-лики. Это прям интересный момент. Ещё у них там была такая претензия, что слишком много фейловеров в рафте, и я не понял, как они это подчиняли, то есть они не пишут, как они это подчиняли. И подчинили ли вообще? Да, и подчинили ли вообще, но судя по тому, что использовать продолжают, видимо, подчинили. А страйп он в Амазоне? Страйп? Я не знаю, я так понимаю, у них гибридный, да, кстати, мы вот тут поругались, точнее я поругался, мы, на самом деле, я, на самом деле, так и не рассказал, что они там наделали. Я вам рекомендую, что у них есть... Извини, просто почему я спросил про Амазон, если они в Амазоне, то я не удивлён, что у них много фейловеров. А, ну, я так понимаю, у них всё-таки просто фейловеры на основе сатюраши и, по крайней мере, на хардварном железе, хотя фиг его знает, на чём они работают. Они, опять-таки, не уточняют. Ну, то есть, как бы, попинали консул, не уточнили, что именно они делают с ним. Вот, ну, так и какой у них сетап? Есть сервера. Судя по тому, что они нарисованы разными цветами, видимо, разных сервисов. Ну, или это, наверное, разную степень жизнедеятельности хотели показать. Вот. Дальше там есть консул, который их мониторит. Консул им показался, им, как бы, что чтение, поскольку он у него по умолчанию строго консистентное, показалось им слишком медленным. Вот, поэтому они на основе консула генерят шаблоны, этими шаблонами конфигурируют DNS-сервер, который потом ещё кашируют. Кстати, извини, ты только что ответил на вопрос, зачем им консул, если можно всё хранить в GT? Они утилизируют такие его мониторинги. Ну, да, да, видимо. Вот. Но поскольку DNS слишком медленно пропагетится, не хочется, чтобы там отвалившийся сервер на него вообще хоть какой-то график ещё ходил, поэтому они кроме конфига DNS ещё генерируют конфиг HAProxy. И... как бы за DNS-ом ставят HAProxy. HAProxy ещё имеет внутри мониторингу свою и отстреливает мёртвую. И вот теперь, Саша, ответь мне на вопрос, почему это не файл в GT? Потому что мёртвую отстреливает ещё и HAProxy. Может быть, у них не всё через HAProxy? Всё. Я на самом деле так понимаю. У меня первый вопрос был, почему не просто HAProxy, но они потом отвечают на этот вопрос, потому что им ещё нужно местами введём порты, то есть если там несколько сервисов разных на одной машине, то там, видимо, HAProxy. HAProxy, он мониторит, что у тебя там есть коннект, нет коннекта, мониторит в... в этом... блин. В консуле они мониторят всё, что ты им напишешь. На питоне, например. Ну, да, да, да. Но... кстати, HAProxy тоже можно умнее сделать. Да, можно просто HAProxy и сказать, что стрельбни вот этот бэкэнд. То есть там можно написать какую-то локальную мониторингу на машине, на которой стоит HAProxy и отстреливать бэкэнды. И вот, на самом деле, даже можно попросить плюнуть в TCP строку и ожидать драйв-строки. HAProxy умные, на самом деле. Не надо грязи. Вот. И мне на самом деле непонятно, зачем им тогда во всем этом мешании консул, если он им так не нравится. С ним столько воевали, почему не просто HAProxy и DNS и файлики такие те? Или почему не кэшировать консул? В общем, да, у меня вот сплошные вопросы к этому, почему они так эта статья вызывают. Ну, консул у них выступает источником информации для HAProxy. Я имею в виду, что, представь, там подняли еще 100 машин, что им ручками добавлять их? Ну так они эти машины же не ручками тоже поднимали, они, скорее всего, поднимали тоже какой-то конфигурительной тулзой. То есть они не на что там взялись. Ну нет, я не думаю, у них слишком большая инфраструктура для этого. Но, с другой стороны, может у них там какой-нибудь кубернет скрутится и она у них там поднимается и умирает само. Тогда это может... Или автоскейлинг. Ну да-да-да, да. В сухом остатке слишком много вопросов, я правильно понимаю? Ну, с моей точки зрения, я не знаю, Ваня еще не высказывался никак, он тоже был этой статьей, но вот у меня, да, какая-то мутная статья. На самом деле, может быть, в этом, в Y-комбинатор News, Hacker News, в трейде есть какие-нибудь данные, я потому что не успел его прочитать, там трейд есть, фальшивый. А я, кстати, не нашел, я вот ел посмотреть, нет ли News, трейд, но... Ну, в общем, может быть, они где-то и ответили на эти вопросы, но не здесь. Здесь комментариев нет под статьей, к сожалению. Ну, это, кстати, да, зачем делать блог без комментариев, мне вот это никак не понятно, потому что... Вот, ребята, вы написали... У вас технический блог, и по-любому, даже если вы написали какую-то статью более, как это, thorough, и к ней все равно будут какие-то, возможно, другие вопросы. Обычно, я думаю... Нет, она когда дает ссылку на обсуждение на Hacker News просто. Ну, тут даже этого нет, да, это печально. Тогда это печально. На самом деле, я предлагаю вот шокирующую новость, потому что вот меня она глубоко шокировала, внимание, Света занесла тему в GAMEZEN, по-моему, это... Да нет, не может быть, сломали ее аккаунт. Да, так не бывает вообще, так не бывает. Света, ты знаешь, что твой аккаунт сломали? Ну, пойду проверять почту и смотреть, кто заходил, или это все на самом деле не существует, и это все искусственный интеллект, который управляет GAMEZEN, правильно? Да, а тренировали его на самом деле на StarCraft. Да. Потому что Blizzard разрешил. Отличная подводка, я считаю. Не первый раз к нам в подкаст приходит тема от такой небезызвестной компании DeepMind, и они на конференции, которая была совместно с Blizzard'ами, называется BlizzCon, они анонсировали то, что выпускают версию StarCraft, в которой ресерчеры могут тренировать свои модели и изучать поведение пользователей, и таким образом строить более правильные и лучшие модели. Вот это если вкратце. А какие-то детали есть? Ну, в общем, я туда перехвачу. В общем, на самом деле DeepMind'у никто... Там, видимо, сидят очень большие фанаты Blizzard'а, их никто не останавливал раньше делать это без разрешения Blizzard'а, то есть они делали статьи типа «Давайте мы нагнетим кучу валидных карт в Хардстоуне, которые не сломают мету». То есть они очень-очень-очень-очень всегда любили Blizzard'овские игры, и вот видимо сейчас Blizzard им разрешило использовать API, и они очень обрадовались, и они обещают сделать всем желающим очень хороший способ быстро забирать данные из Blizzard'овской системы, и они дизайнили API вместе с Blizzard'ом, и они сказали «Окей, мы сделаем как Kegel у вас, вот только для StarCraft'а». И это на самом деле очень хорошо, потому что на самом деле то, что в игры играют роботы, это очень много сервисов таких, например, есть ужасный Scripps, который отвратительно работал и просил кучу денег за то, чтобы делать элементарные вещи, только вот здесь это реально трясет чуть-чуть. Google DeepMind и OpenAI, они оба занимаются AI, то есть не каким-то там обработкой естественного языка, имидж-проссинга, они этим тоже, конечно, занимаются, но вот они решают вопрос «Как же нам сделать машину, которая умеет вещи сильнее, чем просто ты подаешь какой-то input на вход и получаешь классификацию, решение сдачи классификации на выход?». То есть они пытаются сделать машину умнее, и вот StarCraft это один из таких способов у них. Да, важно отметить то, что в StarCraft у вас куда больше степеней свободы, по сравнению там с играми, в которых есть четко поставленные наборы ходов. Здесь получается это более приближенное к реальности деятельность, и таким образом мы можем более моделировать что-то, что больше похоже на нашу реальность. И в частности по деталям есть API, на котором они разрабатывают, и API будет отдавать картинки, небольшого разрешения, но картинки, которые будут показывать высотность, дальше будут показывать типы юнитов, дальше здоровье и прочее. И на основании этого можно в каждом моменте игры получить вот эту информацию, и после этого ее уже обрабатывать. Я, кстати, ни разу в StarCraft не играла. Я, конечно, на страшную вещь скажу, мне кажется, ты немного потеряла, но я лично не сильно проникся. Но меня сейчас побьет, конечно. Как минимум, вот эта вот вещь, она привлечет огромные лорды людей, которые проникнутся, что они могут при помощи машин леунинга играть в StarCraft, и как минимум это привлечет много молодых ресерчеров вообще в AI-ресерч, и я чувствую, AI-ресерч будет гораздо более компетитив лет через 5 из-за этого. Это очень позитивная вещь, что они делают. Признаюсь, ты хотел бы этим заниматься, да? Я прям хочу как-нибудь уикенд на это потратить, когда API's релизят, я хочу этим заниматься. Хотя я не занимаюсь reinforced learning, то есть у нас есть вариант, конечно, использовать reinforced learning, в наших задачах, но вот я им не занимаюсь, но вот у меня прям огромное желание это попробовать. Как раз таки reinforced learning, он очень хорошо работает для задач похожих на нашу реальность. У нас есть какой-то агент, у нас есть какая-то задача, которую он выполняет, у нас есть функция reward, и в зависимости от того, что делает агент, мы можем давать обратную связь, и на основании этого у нас агент может обучаться. Это хорошо работает для задач повседневности. Да, с одним уточнением только, что reinforced learning, если у тебя задержка между тем, как ты сделал решение, и как тебе вернулся результат этого решения, то это очень сложно обучить такие модели. Совершенно верно, да. Это очень важно уточнение, и если у вас очень медленно подсчитывается функция reward, то вполне получится обучить быстро модель. Так вот, что еще позитивно, это в магазины занесли новые игры для PlayStation 4. Подожди. Почему? Подожди, можно я расскажу про DNS и консул? Давай. Я пробежался по комментариям и нашел ответ разработчику, почему они это делали. До версии 0.7 консул по умолчанию все DNS-запросы переслал на мастер. И только с версии 0.7 можно делать eventual consistent, имеется в виду, можно читать с текущего консула, кому ты обращаешься без разницы, мастер это ты или нет. То есть, видимо, они использовали до.0.7 и любой срыв мастера автоматически означало, что никто не отвечает. То есть, пока он уходит на кнопку мастера, он тут закэшировал. Мне кажется, они могли не осилить вот эти агенты консула. Не может быть, чтобы они не кэшировали, хотя... Нет, в смысле, тупо проберешь, даже если ты с мастера читаешь DNS, даже если у тебя прям forwarding, прям все сильно консистентно, ты все равно можешь закэшировать то, что тебе ответил мастер, и держать это в кэше, пока мастер не ответит что-то новое. Это простая работающая штука. Ты имеешь в виду, что значит пока? То есть, если у тебя есть кэш и у него есть TTL, он пока TTL не отдаст, он не будет заново спрашивать. Ну, у всех стандартных DNS масков это именно так. Нет, ну просто можно же по идее после TTL не совсем выбросить, а попытаться инвалидировать, если инвалидировать не удалось, то есть молчать с той стороны. Вместо того, чтобы просто выбрасывать адрес, можно его там придержать. Eventual cache update, то есть ты отдаешь все время старую штуку, но постоянно спрашиваешь мастера, не поменялось ли оно. Ну, не постоянно, а раз в сколько времени у тебя там задано. Ну, то есть, это империя, пришло бы ср на свой кэш писать. Ну, мне кажется, DNS маск можно как-нибудь так настроить. Я, конечно, на 100% не могу гарантировать, но мне кажется, можно так настроить, потому что иначе, ну то есть, во многом всякие DNS маски, анбинги, эти маленькие сервера, они во многом используются для того, чтобы снять нагрузку с основного сервера, если он там упадет, или что-нибудь с ним станет. Мне кажется, они должны это уметь. Это ответ на хайпких ньюз. Так вот, действительно важная тема, которую все ждали, это геймзен. И да, в магазин занесли Titanfall или Титанфолл, кто как произносит Titanfall 2. И вот сейчас глубоко вдохните. Skyrim. Skyrim для PlayStation. Если у вас... PlayStation 4. Если у вас бесконечное количество свободного времени, то вот PlayStation решит вашу проблему. Ну, не без помощи Skyrim. И Ведьмака. Да. Также купил себе... А что лучше? Трудно сказать. Я не играл в Skyrim. Мне страшно признаться. Я, кстати, тоже в Skyrim не играл по причине того, что я представлял, что сколько у меня... какое количество времени у меня сливается на игры, и я подумал, что... И потом в тот момент, когда у меня Skyrim вышел, у меня было много игр на поиграть, и я такой «не». Вот. Ведьмака пропустить не мог. А сейчас, опять-таки, Dishonored, Hitman, да, вышел. Можно, наконец, Ведьмаком целиком в него поиграть. Плюс переиздание Fahrenheit вышло. В общем, что-то как-то... Вот я тоже не побегу за Skyrim, потому что я же залипну, а не хочется. Ну, просто это залипало в какой-то бесконечный. То есть это пару месяцев жизни можно прям выкидывать смело. Ну, то есть, как его... Ведьмака третьего, если считать со всеми дополнениями, я, наверное, больше, чем полгода в него вечерами играл. И, то есть, получается, больше, чем например, на полгода не играл, ни во что другое. И, ну, как бы, я лучше во что-нибудь другое поиграю, как правило. Ну, то есть, я понимаю, что Skyrim офигенный, но всё-таки игры с открытым миром — это такая штука, которую я не люблю, потому что меня это довольно сильно уносит. А к тому же ещё в Skyrim, там, насколько я знаю, сюжета основного мало. Если я побегу просто по сюжету, у меня будет скучно. Если я побегу дальше, чем по сюжету, я там залипну навечно. Ну, зачем? Да, а если вам... А как же вечер? Что? А как же вечер? Валерии нравится вечер. Ну, я же сказал, что я на него убью много времени. А если вам нравятся игры покороче, то вышел Call of Duty, я-таки купил и поиграл в Infinite Warfare. Сразу отмечу несколько моментов. Язык в игре английский, в смысле озвучки, но русские сабы — это необычно для Activision, потому что обычно они покупают полную локализацию, ты не можешь поиграть в Call of Duty на английском. Меня это приятно удивило. А ты уверен, что можешь? Потому что иногда бывает так, что нужно поменять настройки консоли. Я довольно уверен, Валер. Поверь мне. Ты пробовал менять настройки консоли? Поверь мне, да. У меня по дефолту всё английское. То есть в Call of Duty Ghosts я играл на русском, потому что нету возможности поиграть в английский. Ну, там просто нету на диске английского, в принципе. Меня печалило, что Infinite Warfare вот как бы ты воткнул диск, да, он установился, а потом он ещё полчаса, когда ты его запустил, он полчаса показывает тебе такой прогресс-бар, типа я такое всё разархивирую. Не понимаю, зачем так делать. Меня это немного расстроило. А вообще Activision, они сделали страшную вещь. Они нанесли по игрокам удар графонием. У меня сейчас в крови просто критически высокий уровень графония, и меня прям стырит и колбасит. Я считаю, что у меня просто передозировка графония. Поясни, я чуть не понял. Ну, там очень крутая графика. Прям очень-очень? Прям, да. Вот, и со всякими прикольными вещами, типа, не знаю, прострели стекло и унеси своих врагов вакуумом в открытый космос, вот со всякими такими прикольными вещами, или там поиграю, ну, как бы сядь в шаттл и стреляй в космосе, как бы участвуй в баталиях, очень динамично. Ну, еще выигрывает в Warfare, там же еще Джон Сноу всем заправляет. Угу, да. Вот, обратите внимание, если вы будете покупать диск с Modern Warfare, его на диске нет. Там просто в коробочке вкладыш, который позволит купить его на PSN. Вот, но я чувствую, мне придется регистрироваться в PSN. Беда. Беда-беда. А про Dark Souls 3, я думаю, это не я добавил. А, ну вышло, вышло дополнение просто к третьему Dark Souls.",
    "result": {
      "query": "Ansible 2.2 F5 BigIP обновления"
    }
  }
]