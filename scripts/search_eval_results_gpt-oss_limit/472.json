[
  {
    "segment_id": "6ee224df-8ba6-4d1c-a345-c0b96a392710",
    "episode_id": "8fb10ab2-e468-457a-ad0d-0d6dfe862428",
    "episode_number": 472,
    "segment_number": 16,
    "text": "Да, о чем я думаю что да, что микросервисы в этом сыграли роль потому что я работал над монолитным Rui проектом с довольно большим онлайном и как бы не то чтобы нам это было очень нужно очень хотелось сервис который бы очень быстро искал по логам и так и не стали готовы платить за самый лучший из них потому что это было прям безумно дорого но нам не нужны были широкие события все было достаточно просто без них и я работал над даже не то чтобы микросервисной архитектурой, а вот просто типа компании где было больше одного сервиса монолитного. Как бы больше двух, больше чем надо пальцев на одной руке. То есть это были не то что микросервисы, но их было много и они разговаривали. И вот там бы уже неплохо было бы иметь трассировку потому что логов одного сервиса уже было недостаточно чтобы ответить на вопрос. Да согласен наверное так и есть Ну вот как простая идея привела к такому изменению всему Ладно пошли дальше да Что мы слушали? Кстати я предлагаю наверное я смотрю на время предлагаю и трагем зену перенести на следующий выпуск. Нет проблем. Мы криво из гейм зен в общем-то. Хорошо, спасибо. Отлично открываем темы слушателей. О, сколько у нас тем слушателей. Я по порядочку. Постоянный слушатель Александр Шапётка принёс тему, способ хранить сроки в памяти. Блин, как закрыть вот эти окошечка. Используется в том числе Duck DB, Apacharu и так далее называемые немецкие строки немецкие строки да да это блок компании Sidr DB напомню это ребята которые делали умбру в кажется мюнхенском универе и сидр деби это будет по сгрес с наработками умбры или по сгрес совместимость система с наработками умбры короче в чем идея идеи потому что как бы как строки хранятся в Си мы берем и храним указатель просто на строчку памяти где-то в смысле вообще где-то и как она может быть на стеке она может быть в куче она идет бежит до конца и заканчивается просто нулом что в этом плохо если вам нужно сравнивать много строк вам нужно постоянно прыгать хер пойми куда в памяти если копировать только копировать как правило целиком и чтобы добежать до конца нужно идти непонятно куда далеко вот неудобно в общем идея в том что мы берем какой-то фиксированный префикс строки например четыре байта и также мы храним длину самом начале и там возможно некоторые битики используем для того чтобы сказать насколько длинна строка, тогда у нас короткие сроки целиком могут вылезать вообще то в этот префикс, если у нас там какой-то код страны или что это такое, но скорее всего целиком помещается в префикс, вам вообще больше ничего не нужно хранить. Если у вас что-то подлиннее вы в любом случае префикс храните с самого начала это вам позволяет очень сильно ускорять быстро бегущие друг другу операции сравнения и вам нужно сравнивать сильно дальше что такое если у вас прям совпадающие префиксы строк что случается не часто там еще нужно много приседаний все еще чтобы хорошо менеджить память чтобы соблюдать локальность и там если блокпост прочитать там много всяких не разных деталей в общем да идея в том что большинство строк короткие и уникальные достаточно уникальные во всяком случае там где мы хотим их сравнивать в смысле в тех колонках базы данных звучит интересно ты не использовал это? Я не работал пока никогда над этим уровнем базы данных я обычно ближе там не знаю к кэмпиатку или туда еще к исполнению поэтому нет не использовал. В смысле под капотом может быть это использовал но типа я об этом не знал. Спасибо. Следующий вопрос это от Юрия. Большая проблема с Windows, которая привела к проблемам банков, аэропортов и так далее. У вас есть что сказать меня если честно вообще ничего не затронуло я даже и не заметил бы если бы мне не сказали меня это по-моему в Берлине аэропорт забрызгало меня это не затронуло лично то что я никуда не собирался стоп что это вообще то ли или нет это про крад страйк? Да это про крад страйк, боже когда мы не сделали выпусков про Cirlate даже не поговорили но в целом это конечно потрясающей степени назовем ее своими нами проеб мне кажется в интернете судили уже как только могли наверное самый такой взвешенный тейк о том что это конечно же ни в коем случае не вина конкретного инженера и даже не важно в том что там была за ошибка там 0 pointer exception не 0 pointer абсолютно не важно важно то что вы что то что как бы вы секьюрити провайдер во первых вы уже попросили своих пользователей доверять вам и ставить ваш модуль ридера, что уже на самом деле очень высокая степень доверия и например не знаю как краустрак работает на маке, но в целом macintosh системы как концепт стараются по максимуму все вещи выпихнуть из ядра и visorspace через специальные айпишки. И насколько я понимаю endpoint security сейчас можно делать на маке без модуля ядра. Я не знаю как сделано ли так croutstrike или нет, насколько понимаю что хотя бы какие-то endpoint quewity на маке сделаны через не как модуль ридера. Почему мы обсуждаем маки в этом контексте? Потому что в данном случае загрузка windows и загрузка потому что взорвался модуль ридера при загрузке или сразу после загрузки короче там оно падало в синий экран и речь про то что я не знаю как дела на маке конкретно у coudstrike но в целом тенденция как будто бы выпихивать из такие вещи в частности endpointing quity довольно популярный класс программ из ядра, но на Linux совершенно точно была похожая проблема у этого же пендера и там тоже у там на Linux у них тоже модуль ядра и он тоже взорвался так вот да возвращаясь концепции почему это проеб потому что вы уже попросили ваших клиентов вам довериться и поставить модуль ядра во всяком случае на двух из трех популярных операционных систем и вы в модуль ядра столько всего положили что вы туда постоянно катите апдейты во всяком случае с какой-то регулястью может быть не каждый день но какой-то регулястью чтобы вначале Linux сломали потом Windows и при этом процесс тестирования этого не поймал Больше того, скачано было сразу на всех, хотя даже в каких-то не знаю самых не критичных вещах типа видеоигр, апдэйты сейчас вначале катят на небольшую популяцию, а потом на всех даже незначительный апдейт просто потому что ну как бы чет сломал денег не получил. А здесь теперь будут набелённые судебные тяжбы минимум есть такая авиакомпания дельта американская они анонсировали что будут судиться с краустрайком сложно представить кто еще с ними решится судиться я думаю что опять же на основе треков интернете скорее всего у компании крауд страйк перед большинством клиентов ограниченное лабелити, но вот компании типа дельты, у которых есть они зарегулированы со своей стороны и они обязаны пассажирам в случае определенных форс-мажоров компенсировать деревом денег или там возможно даже каких-то других вещей возможно же предоставляет еще что-то такое очень может быть что конкретно у Дельты с Крауд страйком и похожих организаций с Крауд страйком могли быть немножко другие контракты потому что если риски если у компании типа Дельты есть такие риски то им скорее всего хочется прямо часть этих рисков переложить на вендора иначе зачем вообще им этот вендор. Интересно что из этого получится посмотрим, но ситуация конечно пугающая больше там еще из-за курьезов люди в интернете нарыли что тот кто человек который сейчас CEO крауд страйка он же в прошлом был CEO какой-то другой компанией тоже в секьюрити секторе и тоже как бы там случился упси после которой компания ушла смотка вот как то так печально по возможности тестируйте перед тем как катить в прод особенно для меня как следствие второй темы идет 3 тема Иван Антонов привел ссылку поста Брендана Грега в котором он описывает что все антивирусы придут на и BPF и синих пятниц станет меньше или не будет вовсе и пост так и называется No More Blue Fridays. Ну собственно я плачу у меня и говорю что есть тенденция выпихивать такие вещи из ядра Особенно если у постфита есть практически полный язык или скриптования, то нет причин не переходить на это. То есть вы сам как разработчик программного обеспечения вам это выгодно потому что свою laability как бы ограничиваете то есть что вы не сделали как бы вы не обосрались если вы не работаете прям самом ядре работайте там как и на ивипифе уже гораздо меньше как на стол вы безобразно можете взорваться ровно так следующая тема это про предварительный постмортем об этом падении тоже Иван Иванов принёс Валера уже вкратце всё рассказал Совсем вкратце. Следующая тема это про снова кап теорему. И на самом деле очень интересная статья. Потому что она интересна не потому что она новая, что-то несёт, мы уже это всё рассказывали кучу раз, вот, но основная идея следующая, цель как это p. Sc фактически к статье написана следующая, цель данной статьи это не сделать ещё один миллионный пост на тему что такое кап теорема, а это просьба. Пожалуйста, если вы понимаете, что такое кап теорема и вы хотите что-то объяснить, пожалуйста, не рассказывайте про кап теорему, а расскажите про что-нибудь другое.",
    "result": {
      "query": "микросервисы поиск логов монолит"
    }
  }
]